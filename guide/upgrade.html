<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><title>Angular - 从 AngularJS 升级到 Angular</title><meta name="Description" content="Angular is a platform for building mobile and desktop web applications.
    Join the community of millions of developers who build compelling user interfaces with Angular."><base href="/"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="search" type="application/opensearchdescription+xml" href="assets/opensearch.xml"><link rel="icon" type="image/x-icon" href="assets/images/favicons/favicon.ico"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-194x194.png" sizes="194x194"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-16x16.png" sizes="16x16"><link rel="apple-touch-icon" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Sans+Mono&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&amp;display=block"><link rel="manifest" href="pwa-manifest.json"><meta name="theme-color" content="#1976d2"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="translucent"><script async="" src="assets/js/analytics.js"></script><script>!function(e,a,n,t,s,c,g){e.GoogleAnalyticsObject=s,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(n),g=a.getElementsByTagName(n)[0],c.async=1,c.src="assets/js/analytics.js",~e.name.indexOf("NG_DEFER_BOOTSTRAP")||g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga")</script><script>window.onerror=function(){ga("send","exception",{exDescription:function(e,r,n,a,c){var l;e=e.replace(/^Error: /,""),l=c?c.stack.replace(/^Error: /,"").replace(e+"\n","").replace(/^ +/gm,"").replace(/^at /gm,"").replace(/(?: \(|@)http.+\/([^/)]+)\)?(?:\n|$)/gm,"@$1\n").replace(/ *\(eval code(:\d+:\d+)\)(?:\n|$)/gm,"@???$1\n"):r+":"+(n=n||"?")+":"+(a=a||"?");return(e+"\n"+l).substr(0,150)}.apply(null,arguments),exFatal:!0})}</script><link rel="stylesheet" href="styles.045d7f40c21177e38e8d.css"><style>.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}</style><style>.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-mini-fab,.cdk-high-contrast-active .mat-raised-button{outline:solid 1px}</style><style>.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active .mat-drawer.mat-drawer-end,.cdk-high-contrast-active [dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}</style><style>.nav-link.highlight[_ngcontent-ng-docs-c30]{color:#ff0}</style><style>.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.661479)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:scaleX(.457104)}44.15%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}</style><script charset="utf-8" src="toc-toc-module-es2015.e09001a255002105d56f.js"></script><script charset="utf-8" src="default~code-code-example-module~code-code-tabs-module-es2015.888bcddab8cf796fcd5f.js"></script><script charset="utf-8" src="code-code-example-module-es2015.5caf85fcf907661bc906.js"></script><script charset="utf-8" src="assets-js-prettify-js-es2015.9c5edcafe677fea2bf02.js"></script></head><body><aio-shell ng-version="10.0.0-next.5" class="aio-notification-hide folder-guide mode-stable page-guide-upgrade sidenav-open view-SideNav"><div id="top-of-page"></div><mat-toolbar color="primary" class="mat-toolbar app-toolbar no-print mat-primary mat-toolbar-multiple-rows"><mat-toolbar-row class="mat-toolbar-row notification-container"><aio-notification notificationid="survey-march-2020" expirationdate="2020-04-15" class="ng-tns-c22-0 ng-trigger ng-trigger-hideAnimation" style="height:0"><span class="content ng-tns-c22-0"><a href="https://goo.gle/angular-survey-2020" target="_blank" class="ng-tns-c22-0"><mat-icon role="img" svgicon="insert_comment" aria-label="Announcement" class="mat-icon notranslate icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon><span class="message"><b>填写这份《一分钟调查》</b>，帮我们（开发组）做得更好！</span><span class="action-button">去填写</span></a></span><button mat-icon-button="" aria-label="Close" class="mat-focus-indicator close-button ng-tns-c22-0 mat-icon-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="close" aria-label="Dismiss notification" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon></span><div matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></div><div class="mat-button-focus-overlay"></div></button></aio-notification></mat-toolbar-row><mat-toolbar-row class="mat-toolbar-row"><button mat-button="" title="Docs menu" class="mat-focus-indicator hamburger mat-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="menu" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></mat-icon></span><div matripple="" class="mat-ripple mat-button-ripple"></div><div class="mat-button-focus-overlay"></div></button><a href="/" class="nav-link home"><img src="assets/images/logos/angular/logo-nav@2x.png" width="150" height="40" title="Home" alt="Home" class="ng-star-inserted"></a><aio-top-menu _nghost-ng-docs-c30="" class="ng-star-inserted"><ul _ngcontent-ng-docs-c30="" role="navigation"><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="features" title="特性" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">特性</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="docs" title="文档" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">文档</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="resources" title="资源" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">资源</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="events" title="会议" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">会议</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="https://blog.wangke.io/" title="译者汪志成的博客，包括翻译文章和原创文章" target="_blank"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">译者博客</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="translations/cn/home" title="关于中文版" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">关于中文版</span></a></li></ul></aio-top-menu><aio-search-box class="search-container"><input type="search" aria-label="search" placeholder="搜索"></aio-search-box><div class="toolbar-external-icons-container"><a href="https://twitter.com/angular" title="Twitter" aria-label="Angular on twitter"><mat-icon role="img" svgicon="logos:twitter" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 50 59" xmlns="http://www.w3.org/2000/svg"><path d="M50,9.3c-1.8,0.8-3.8,1.4-5.9,1.6c2.1-1.3,3.7-3.3,4.5-5.7c-2,1.2-4.2,2-6.5,2.5c-1.9-2-4.5-3.2-7.5-3.2c-5.7,0-10.3,4.6-10.3,10.3c0,0.8,0.1,1.6,0.3,2.3C16.1,16.7,8.5,12.6,3.5,6.4c-0.9,1.5-1.4,3.3-1.4,5.2c0,3.6,1.8,6.7,4.6,8.5C5,20,3.4,19.6,2,18.8c0,0,0,0.1,0,0.1c0,5,3.5,9.1,8.2,10.1c-0.9,0.2-1.8,0.4-2.7,0.4c-0.7,0-1.3-0.1-1.9-0.2c1.3,4.1,5.1,7,9.6,7.1c-3.5,2.8-7.9,4.4-12.7,4.4c-0.8,0-1.6,0-2.4-0.1c4.5,2.9,9.9,4.6,15.7,4.6c18.9,0,29.2-15.6,29.2-29.2c0-0.4,0-0.9,0-1.3C46.9,13.2,48.6,11.4,50,9.3z"></path></svg></mat-icon></a><a href="https://github.com/angular/angular" title="GitHub" aria-label="Angular on github"><mat-icon role="img" svgicon="logos:github" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 51.8 50.4" xmlns="http://www.w3.org/2000/svg"><path d="M25.9,0.2C11.8,0.2,0.3,11.7,0.3,25.8c0,11.3,7.3,20.9,17.5,24.3c1.3,0.2,1.7-0.6,1.7-1.2c0-0.6,0-2.6,0-4.8c-7.1,1.5-8.6-3-8.6-3c-1.2-3-2.8-3.7-2.8-3.7c-2.3-1.6,0.2-1.6,0.2-1.6c2.6,0.2,3.9,2.6,3.9,2.6c2.3,3.9,6,2.8,7.5,2.1c0.2-1.7,0.9-2.8,1.6-3.4c-5.7-0.6-11.7-2.8-11.7-12.7c0-2.8,1-5.1,2.6-6.9c-0.3-0.7-1.1-3.3,0.3-6.8c0,0,2.1-0.7,7,2.6c2-0.6,4.2-0.9,6.4-0.9c2.2,0,4.4,0.3,6.4,0.9c4.9-3.3,7-2.6,7-2.6c1.4,3.5,0.5,6.1,0.3,6.8c1.6,1.8,2.6,4.1,2.6,6.9c0,9.8-6,12-11.7,12.6c0.9,0.8,1.7,2.4,1.7,4.7c0,3.4,0,6.2,0,7c0,0.7,0.5,1.5,1.8,1.2c10.2-3.4,17.5-13,17.5-24.3C51.5,11.7,40.1,0.2,25.9,0.2z"></path></svg></mat-icon></a></div></mat-toolbar-row></mat-toolbar><mat-sidenav-container role="main" class="mat-drawer-container mat-sidenav-container sidenav-container mat-drawer-transition has-floating-toc"><div class="mat-drawer-backdrop ng-star-inserted"></div><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav tabindex="-1" class="mat-drawer mat-sidenav sidenav ng-tns-c18-1 ng-trigger ng-trigger-transform mat-drawer-side ng-star-inserted mat-drawer-opened" style="transform:none;visibility:visible"><div class="mat-drawer-inner-container ng-tns-c18-1"><aio-nav-menu class="ng-tns-c18-1"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="docs" title="Angular 文档简介" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="建立开发环境，并学习基本概念" aria-pressed="false"><span>快速上手</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/setup-local" title="使用 Angular CLI 搭建本地开发环境。" target="_self"><span>搭建环境</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="介绍 Angular 应用中的一些基本概念。" aria-pressed="false"><span>Angular 的基本概念</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture" title="Angular 应用中的基本构造块。" target="_self"><span>基本概念简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-modules" title="关于 Angular 模块（NgModules）。" target="_self"><span>模块简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-components" title="关于组件、模板和视图。" target="_self"><span>组件简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-services" title="关于服务与依赖注入。" target="_self"><span>服务与 DI 简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-next-steps" title="超越基础阶段。" target="_self"><span>后续步骤</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/glossary" title="Angular 中最重要的词汇的简要定义。" target="_self"><span>Angular 词汇表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="不必搭建环境，查看并试用现成的示例应用程序。" aria-pressed="false"><span>试一试</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start" title="初步了解 Angular 的组件模型、模板语法和组件通讯。" target="_self"><span>一个范例应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-routing" title="使用浏览器的 URL 在不同的页面视图之间导航。" target="_self"><span>应用内导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-data" title="通过 HTTP 使用服务并访问外部数据。" target="_self"><span>管理数据</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-forms" title="学习如何使用表单从用户获取并管理数据。" target="_self"><span>表单与用户输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-deployment" title="移到本地进行开发或者把应用部署到 Firebase 或你自己的服务器。" target="_self"><span>部署</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="英雄指南应用是很多 Angular 范例的参考点。" aria-pressed="false"><span>教程：英雄指南</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial" title="英雄指南教程简介" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt0" title="创建应用的外壳" target="_self"><span>创建项目</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt1" title="第一部分：构建一个简单的英雄编辑器" target="_self"><span>1. 英雄编辑器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt2" title="第二部分：构建一个主从结构的页面，用于展现英雄列表。" target="_self"><span>2. 显示英雄列表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt3" title="第三部分：把主从结构的视图重构成几个独立的组件。" target="_self"><span>3. 创建特性组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt4" title="第四部分：创建一个可复用的服务来管理英雄数据。" target="_self"><span>4. 添加服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt5" title="第五部分：添加 Angular 路由器，并且学习在视图之间导航。" target="_self"><span>5. 添加应用内导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt6" title="第六部分：通过 HTTP 来获取并保存英雄数据。" target="_self"><span>6. 从服务器获取数据</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular 基础知识" aria-pressed="false"><span>基础知识</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="通过数据绑定构建动态视图" aria-pressed="false"><span>组件与模板</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/displaying-data" title="属性绑定可以帮助应用把数据显示在界面上" target="_self"><span>显示数据</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-syntax" title="学习如何写模板，以便借助数据绑定机制显示数据并响应事件。" target="_self"><span>模板语法</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/user-input" title="用户输入会触发 DOM 事件。Angular 会通过事件绑定来监听那些事件，并把修改后的值传回应用的组件和模型中。" target="_self"><span>用户输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/attribute-directives" title="属性型指令把行为添加到现有元素上。" target="_self"><span>属性型指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/structural-directives" title="结构型指令可以操纵页面的布局" target="_self"><span>结构型指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/pipes" title="管道可以在模板中转换显示的内容。" target="_self"><span>管道</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lifecycle-hooks" title="Angular 调用指令和组件的生命周期钩子函数，包括它的创建、变更和销毁时。" target="_self"><span>生命周期钩子</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-interaction" title="在不同的指令和组件之间共享信息" target="_self"><span>组件交互</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-styles" title="添加专属于某个组件的样式" target="_self"><span>组件样式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-component-loader" title="动态加载组件" target="_self"><span>动态组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/elements" title="把组件转换成自定义元素" target="_self"><span>Angular 元素</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="表单可以创建集中、高效、引人注目的输入体验。" aria-pressed="false"><span>表单与用户输入</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/forms-overview" title="Angular 表单可以协调一组数据绑定控件，跟踪变更，验证输入，并表达错误信息。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reactive-forms" title="使用 FormBuilder、表单组和表单数组创建响应式表单。" target="_self"><span>响应式表单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/forms" title="使用指令和 Angular 模板语法创建模板驱动表单。" target="_self"><span>模板驱动表单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/form-validation" title="验证用户的表单输入" target="_self"><span>验证表单输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-form" title="使用 FormGroup 创建动态表单。" target="_self"><span>构建动态表单</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用 Observable 在 Angular 中进行信息传递。" aria-pressed="false"><span>Observable 与 RxJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/observables" title="使用 Observable 来同步或异步传递值。" target="_self"><span>Observable 概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/rx-library" title="一个响应式编程库，使用 Observable 来合并异步请求或基于回调的代码。" target="_self"><span>RxJS 库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/observables-in-angular" title="Angular 各个子系统中如何使用和期待 Observable" target="_self"><span>Angular 中的可观察对象</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/practical-observable-usage" title="那些特别适用 Observable 的领域。" target="_self"><span>用法实战</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/comparing-observables" title="Observable 与 Promise 或其它消息传递技术的比较" target="_self"><span>与其它技术的比较</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular 中的模块" aria-pressed="false"><span>NgModules</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodules" title="使用 NgModule 让你的应用更高效" target="_self"><span>NgModule 简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-vs-jsmodule" title="JavaScript 模块和 NgModule 之间的差异" target="_self"><span>JS 模块 vs NgModule</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/bootstrapping" title="告诉 Angular 如何在根 &quot;AppModule&quot; 中构造和引导应用。" target="_self"><span>使用根模块启动应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/frequent-ngmodules" title="介绍最常用的 NgModule" target="_self"><span>常用模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/module-types" title="介绍特性模块的几种类型" target="_self"><span>特性模块的分类</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/entry-components" title="关于 Angular 中入口组件的一切" target="_self"><span>入口组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/feature-modules" title="创建特性模块，以组织你的代码" target="_self"><span>特性模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/providers" title="向 NgModule 提供依赖。" target="_self"><span>提供依赖</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/singleton-services" title="创建单例服务" target="_self"><span>单例服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lazy-loading-ngmodules" title="惰性加载模块，以提高应用的性能" target="_self"><span>惰性加载的特性模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/sharing-ngmodules" title="共享 NgModule 让你的应用现代化。" target="_self"><span>共享 NgModule</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-api" title="理解 NgModule 的那些细节。" target="_self"><span>NgModule API</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-faq" title="回答关于 NgModules 的常见问题。" target="_self"><span>NgModule 常见问题</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="依赖注入：创建并注入各种服务。" aria-pressed="false"><span>依赖注入</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection" title="Angular 的依赖注入系统能够为 Angular 创建的类创建并交付它们所依赖的服务。" target="_self"><span>Angular 依赖注入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/hierarchical-dependency-injection" title="与组件树平行的注入器树，并支持嵌套的依赖。" target="_self"><span>多级注入器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-providers" title="各种提供者类型的更多知识。" target="_self"><span>DI 提供者</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-in-action" title="依赖注入的使用技巧" target="_self"><span>DI 实战</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-navtree" title="使用注入器树来查找父组件。" target="_self"><span>浏览组件树</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/http" title="通过 HTTP 协议与远程服务器对话。" target="_self"><span>通过 HTTP 访问服务器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/router" title="使用 Angular 路由器在多个视图之间进行应用内导航。" target="_self"><span>路由与导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/security" title="Angular 应用开发中的内容安全性。" target="_self"><span>安全</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="在你的环境中使用 Angular 的技巧" aria-pressed="false"><span>技巧</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="通过动画增强用户体验。" aria-pressed="false"><span>动画</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/animations" title="Angular 动画的基础技术。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/transition-and-triggers" title="转场与触发器的高级技术。" target="_self"><span>转场与触发器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/complex-animation-sequences" title="复杂的 Angular 动画序列。" target="_self"><span>复杂序列</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reusable-animations" title="创建可复用的动画。" target="_self"><span>可复用动画</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/route-animations" title="为路由提供转场动画。" target="_self"><span>路由转场动画</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/i18n" title="把应用模板中的文本翻译成多种语言。" target="_self"><span>国际化（i18n）</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/accessibility" title="设计能被所有用户访问的应用" target="_self"><span>无障碍（a11y）</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular Service Worker: 控制应用资源的缓存。" aria-pressed="false"><span>Service Worker 与 PWA</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-intro" title="Angular 对 Service Worker 的实现提升了慢速或不稳定的网络连接下的用户体验。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-getting-started" title="在 CLI 项目中启用 Service Worker，并在浏览器中查看效果。" target="_self"><span>快速上手</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/app-shell" title="快速渲染应用的一部分，以增强启动时的体验。" target="_self"><span>应用外壳</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-communications" title="那些能让你和 Angular 的 Service Worker 通讯的服务类。" target="_self"><span>与 Service Worker 通讯</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-devops" title="运行带有 Service Worker 的应用、管理应用的更新、调试以及杀死应用。" target="_self"><span>生产环境下的 Service Worker</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-config" title="配置 Service Worker 的缓存行为。" target="_self"><span>Service Worker 配置</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/web-worker" title="Using web workers for background processing." target="_self"><span>Web Workers</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/universal" title="使用 Angular Universal 在服务端渲染 HTML。" target="_self"><span>服务端渲染</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="把 AngularJS 应用增量式的升级到 Angular。" aria-pressed="false"><span>从 AngularJS 升级</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade" title="把 AngularJS 应用增量式的升级到 Angular。" target="_self"><span>升级步骤</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade-performance" title="用更灵活的方式把 AngularJS 升级到 Angular。" target="_self"><span>更关注性能的升级方式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self"><span>AngularJS 与 Angular 的概念对照</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用共享库扩展 Angular" aria-pressed="false"><span>开发 Angular 库</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/libraries" title="理解何时以及如何使用和创建库。" target="_self"><span>库概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/using-libraries" title="把已发布的库集成进你的应用中。" target="_self"><span>使用已发布的库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/creating-libraries" title="通过创建、发布和使用你自己的库来扩展 Angular。" target="_self"><span>创建库</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用 CLI 原理图进行代码生成。" aria-pressed="false"><span>原理图（Schematics）</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics" title="CLI 如何使用原理图来生成代码。" target="_self"><span>原理图概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-authoring" title="理解原理图的结构。" target="_self"><span>制作原理图</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-for-libraries" title="使用原理图来把你的库集成进 Angular CLI 中。" target="_self"><span>库的原理图</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cli-builder" title="使用构建器定制 Angular CLI。" target="_self"><span>CLI 构建器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/web-worker" title="利用 Web Worker 实现后台处理。" target="_self"><span>Angular 中的 Web Worker</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="关于构建、测试和部署的信息" aria-pressed="false"><span>开发工作流</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="理解（AOT）预先编译器" aria-pressed="false"><span>AOT 预先编译器</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/aot-compiler" title="学习为何以及如何使用预先编译器。" target="_self"><span>预先编译</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/angular-compiler-options" title="配置 AOT 编译。" target="_self"><span>Angular 编译器选项</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/aot-metadata-errors" title="解决 AOT 编译错误。" target="_self"><span>AOT 元数据错误</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-typecheck" title="Angular 中的模板类型检查。" target="_self"><span>模板类型检查</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/build" title="构建应用及为应用启动开发服务器。" target="_self"><span>构建与运行</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/bazel" title="如何配置你的环境，以利用 Bazel 进行构建和测试。" target="_self"><span>使用 Bazel 进行构建</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/testing" title="测试 Angular 应用的技巧与实践。" target="_self"><span>测试</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/deployment" title="了解如何部署 Angular 应用。" target="_self"><span>发布</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="与开发环境和工具集成起来" aria-pressed="false"><span>开发工具集成</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/language-service" title="使用 Angular 语言服务加速开发。" target="_self"><span>语言服务</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="工作空间与项目的结构，及其配置。" aria-pressed="false"><span>配置</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/file-structure" title="Angular 工作区在文件系统中是怎样的。" target="_self"><span>项目文件结构</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/workspace-config" title="&quot;angular.json&quot; 包含供 CLI 命令使用的工作区和项目默认配置。" target="_self"><span>工作区配置</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/npm-packages" title="开发期间和运行期间所需的 npm 包的说明。" target="_self"><span>npm 包</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/typescript-configuration" title="给 Angular 开发者的 TypeScript 配置。" target="_self"><span>TypeScript 配置</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/browser-support" title="浏览器支持与腻子脚本指南。" target="_self"><span>浏览器支持</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="使用库，以及扩展 Angular CLI" aria-pressed="false"><span>扩展 Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用共享库扩展 Angular" aria-pressed="false"><span>Angular 库</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/libraries" title="理解如何以及何时使用或创建库" target="_self"><span>库概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/using-libraries" title="把已发布的库集成到应用中" target="_self"><span>使用已发布的库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/creating-libraries" title="通过创建、发布和使用自定义库来扩展 Angular" target="_self"><span>创建库</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="理解原理图" aria-pressed="false"><span>原理图（Schematic）</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics" title="扩展 CLI 的生成能力" target="_self"><span>原理图概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-authoring" title="理解原理图的结构" target="_self"><span>创作原理图</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-for-libraries" title="使用原理图把你的库整合进 Angular CLI" target="_self"><span>库的原理图</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cli-builder" title="使用构建器定制 Angular CLI" target="_self"><span>CLI 构建器</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="一个端到端教程，用来学习 Angular 的概念和模式。" aria-pressed="false"><span>教程</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/router-tutorial" title="一个与 Angular 路由有关的、涵盖很多模式的教程。" target="_self"><span>在单页面应用中使用 Angular 路由</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 expanded selected ng-star-inserted" title="Angular 的版本发布实践、更新与升级。" aria-pressed="true"><span>发布信息</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/updating" title="如何把 Angular 应用和库升级到最新版本。" target="_self"><span>保持最新</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/releases" title="Angular 的版本、发布、支持、弃用策略及实践。" target="_self"><span>发布实践</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="支持把你的应用从 8 升级到 9." aria-pressed="false"><span>升级到 Angular 9</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/updating-to-version-9" title="当把应用从 8 升到 9 时你需要知道的一切。" target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ivy-compatibility" title="确保你的应用和 Ivy 兼容的详细指南。" target="_self"><span>Ivy 兼容性指南</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="升级到 Angular 9 时一些可选的迁移工作。" aria-pressed="false"><span>可选的迁移工作</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-renderer" title="把已弃用的 Renderer API 迁移到新的 Renderer2 API。" target="_self"><span>Renderer 迁移到 Renderer2</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-dynamic-flag" title="从 @ViewChild 和 @ContentChild 查询中移除不必要的 `static: false` 标志。" target="_self"><span>动态查询标志</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-injectable" title="添加缺失的 @Injectable() 装饰器和不完整的服务提供者定义。" target="_self"><span>缺少 @Injectable() 装饰器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-localize" title="把针对 @angular/localize 的导入语句添加到 polyfills.ts 中" target="_self"><span>$localize 全局导入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-module-with-providers" title="为任何缺失了泛型的 ModuleWithProviders 添加泛型类型。" target="_self"><span>缺少 ModuleWithProviders 泛型</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-undecorated-classes" title="添加缺失的 @Directive()/@Component() 装饰器。" target="_self"><span>缺少 @Directive() 装饰器</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/deprecations" title="弃用的 Angular API 和特性汇总。" target="_self"><span>弃用清单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/ivy" title="关于 Angular Ivy 的编译与渲染管道。" target="_self"><span>Angular Ivy</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 expanded selected ng-star-inserted" title="把 AngularJS 应用增量式的升级到 Angular。" aria-pressed="true"><span>从 AngularJS 升级</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 expanded selected ng-star-inserted" style="position:relative" href="guide/upgrade" title="把 AngularJS 应用增量式的升级到 Angular。" target="_self"><span>升级步骤</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade-performance" title="用更灵活的方式把 AngularJS 升级到 Angular。" target="_self"><span>更关注性能的升级方式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self"><span>AngularJS 与 Angular 的概念对照</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular 的语法、代码、文档风格汇总。" aria-pressed="false"><span>Angular 的风格与用法</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cheatsheet" title="关于 Angular 常用编码技术的快速指南。" target="_self"><span>速查表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/styleguide" title="编写 Angular 代码的指南。" target="_self"><span>代码风格指南</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular CLI 命令参考手册。" aria-pressed="false"><span>CLI 命令参考手册</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli" title="CLI 工具介绍、命令、语法" target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/usage-analytics-gathering" title="管理员如何从用户那里收集使用情况分析。" target="_self"><span>使用情况分析</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/add" title="ng add." target="_self"><span>ng add</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/analytics" title="ng analytics." target="_self"><span>ng analytics</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/build" title="ng build." target="_self"><span>ng build</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/config" title="ng config." target="_self"><span>ng config</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/deploy" title="ng deploy." target="_self"><span>ng deploy</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/doc" title="ng doc." target="_self"><span>ng doc</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/e2e" title="ng e2e." target="_self"><span>ng e2e</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/generate" title="ng generate." target="_self"><span>ng generate</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/help" title="ng help." target="_self"><span>ng help</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/lint" title="ng lint." target="_self"><span>ng lint</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/new" title="ng new." target="_self"><span>ng new</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/run" title="ng run." target="_self"><span>ng run</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/serve" title="ng serve." target="_self"><span>ng serve</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/test" title="ng test." target="_self"><span>ng test</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/update" title="ng update." target="_self"><span>ng update</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/version" title="ng version." target="_self"><span>ng version</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/xi18n" title="ng xi18n." target="_self"><span>ng xi18n</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="api" title="Angular 中的包、类、接口和其它类型的详情。" target="_self"><span>API 参考手册</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><div class="mat-divider ng-star-inserted" style="margin:4px 20px;border-top:1px solid #d3d3d3"></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://github.com/ng-docs/ng-docs.github.io/issues" title="github 上的中文互助问答区" target="_blank"><span>互助问答</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://material.angular.cn" title="Angular Material 组件库的中文文档" target="_blank"><span>官方 Material 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.ant.design/" title="Ant Design 的 Angular 实现，服务于企业级后台产品。" target="_blank"><span>ng-zorro 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://devui.design/" title="“华为云” 开源的企业级组件库，核心设计思想是：致简、沉浸、灵活" target="_blank"><span>华为 DevUI 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ngnest.com/" title="基于 Angular 和 Nest 的 Web 应用程序框架，UI 库中涵盖了企业开发中需要的大部分组件，table、form、tree、message、dialog、menu、tabs 等一共 60+ 基础组件" target="_blank"><span>ng-nest 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.mobile.ant.design/" title="Ant Design Mobile 的 Angular 实现，服务于无线产品。" target="_blank"><span>ng-zorro mobile 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://flutter.cn/" title="Flutter 中文文档站" target="_blank"><span>友站：Flutter 中文</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item></aio-nav-menu><div class="doc-version ng-tns-c18-1"><aio-select><div class="form-select-menu"><button class="form-select-button"><span><strong></strong></span><span>stable (v10.0.0-next.6)</span></button></div></aio-select></div></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content cdkscrollable="" class="mat-drawer-content mat-sidenav-content ng-star-inserted" style="margin-left:261px"><main role="main" class="sidenav-content" id="guide-upgrade"><aio-mode-banner></aio-mode-banner><aio-doc-viewer class=""><div style="opacity:1"><div class="github-links"><a href="https://github.com/angular/angular-cn/edit/aio/aio/content/guide/upgrade.md?message=docs%3A%20请简述你的修改..." aria-label="提供编辑建议" title="提供编辑建议"><i class="material-icons" aria-hidden="true" role="img">mode_edit</i></a></div><div class="content"><h1 id="upgrading-from-angularjs-to-angular" translation-result="on">从 AngularJS 升级到 Angular<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#upgrading-from-angularjs-to-angular"><i class="material-icons">link</i></a></h1><aio-toc class="embedded" ng-version="10.0.0-next.5"><div class="toc-inner no-print collapsed ng-star-inserted"><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-heading embedded secondary ng-star-inserted" aria-pressed="false">目录<mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon collapsed mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><ul class="toc-list embedded"><li class="h2 ng-star-inserted" title="准备工作"><a href="guide/upgrade#preparation">准备工作</a></li><li class="h3 ng-star-inserted" title="遵循 AngularJS 风格指南"><a href="guide/upgrade#follow-the-angularjs-style-guide">遵循 AngularJS 风格指南</a></li><li class="h3 ng-star-inserted" title="使用模块加载器"><a href="guide/upgrade#using-a-module-loader">使用模块加载器</a></li><li class="h3 secondary ng-star-inserted" title="迁移到 TypeScript"><a href="guide/upgrade#migrating-to-typescript">迁移到 TypeScript</a></li><li class="h3 secondary ng-star-inserted" title="使用组件型指令"><a href="guide/upgrade#using-component-directives">使用组件型指令</a></li><li class="h2 secondary ng-star-inserted" title="使用升级适配器进行升级"><a href="guide/upgrade#upgrading-with-ngupgrade">使用升级适配器进行升级</a></li><li class="h3 secondary ng-star-inserted" title="升级模块工作原理"><a href="guide/upgrade#how-ngupgrade-works">升级模块工作原理</a></li><li class="h3 secondary ng-star-inserted" title="通过 Angular 的 NgModule 来使用 UpgradeModule"><a href="guide/upgrade#using-upgrademodule-with-angular-ngmodules">通过 Angular 的 <em>NgModule</em> 来使用 UpgradeModule</a></li><li class="h3 secondary ng-star-inserted" title="引导混合式应用程序"><a href="guide/upgrade#bootstrapping-hybrid-applications">引导混合式应用程序</a></li><li class="h3 secondary ng-star-inserted" title="在 AngularJS 的代码中使用 Angular 的组件"><a href="guide/upgrade#using-angular-components-from-angularjs-code">在 AngularJS 的代码中使用 Angular 的组件</a></li><li class="h3 secondary ng-star-inserted" title="从 Angular 代码中使用 AngularJS 组件型指令"><a href="guide/upgrade#using-angularjs-component-directives-from-angular-code">从 Angular 代码中使用 AngularJS 组件型指令</a></li><li class="h3 secondary ng-star-inserted" title="把 AngularJS 的内容投影到 Angular 组件中"><a href="guide/upgrade#projecting-angularjs-content-into-angular-components">把 AngularJS 的内容投影到 Angular 组件中</a></li><li class="h3 secondary ng-star-inserted" title="把 Angular 的内容透传进 AngularJS 的组件型指令"><a href="guide/upgrade#transcluding-angular-content-into-angularjs-component-directives">把 Angular 的内容透传进 AngularJS 的组件型指令</a></li><li class="h3 secondary ng-star-inserted" title="让 AngularJS 中的依赖可被注入到 Angular"><a href="guide/upgrade#making-angularjs-dependencies-injectable-to-angular">让 AngularJS 中的依赖可被注入到 Angular</a></li><li class="h3 secondary ng-star-inserted" title="让 Angular 的依赖能被注入到 AngularJS 中"><a href="guide/upgrade#making-angular-dependencies-injectable-to-angularjs">让 Angular 的依赖能被注入到 AngularJS 中</a></li><li class="h2 secondary ng-star-inserted" title="惰性加载 AngularJS"><a href="guide/upgrade#lazy-loading-angularjs">惰性加载 AngularJS</a></li><li class="h3 secondary ng-star-inserted" title="为惰性加载 AngularJS 创建一个服务"><a href="guide/upgrade#create-a-service-to-lazy-load-angularjs">为惰性加载 AngularJS 创建一个服务</a></li><li class="h3 secondary ng-star-inserted" title="创建一个用来渲染 AngularJS 内容的组件"><a href="guide/upgrade#create-a-component-to-render-angularjs-content">创建一个用来渲染 AngularJS 内容的组件</a></li><li class="h3 secondary ng-star-inserted" title="为那些 AngularJS 路由配置自定义路由匹配器"><a href="guide/upgrade#configure-a-custom-route-matcher-for-angularjs-routes">为那些 AngularJS 路由配置自定义路由匹配器</a></li><li class="h2 secondary ng-star-inserted" title="使用统一的 Angular 位置服务（Location）"><a href="guide/upgrade#using-the-unified-angular-location-service">使用统一的 Angular 位置服务（Location）</a></li></ul><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-more-items embedded material-icons collapsed ng-star-inserted" aria-pressed="false"></button></div></aio-toc><h1 translation-origin="off" id="upgrading-from-angularjs-to-angular">Upgrading from AngularJS to Angular<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#upgrading-from-angularjs-to-angular"><i class="material-icons">link</i></a></h1><p translation-result="on"><em>Angular</em> 这个名字专指现在和未来的 Angular 版本，而 <em>AngularJS</em> 专指 Angular 的所有 1.x 版本。</p><p translation-origin="off"><em>Angular</em> is the name for the Angular of today and tomorrow.<br><em>AngularJS</em> is the name for all 1.x versions of Angular.</p><p translation-result="on">有很多大型 AngularJS 应用。 在决定迁移到 Angular 之前，首先要深入思考业务案例。 在这些案例中，最重要的部分之一是时间和需要付出的努力。 本章描述用于把 AngularJS 应用高效迁移到 Angular 平台的内置工具，每次讲一点点。</p><p translation-origin="off">AngularJS apps are great. Always consider the business case before moving to Angular. An important part of that case is the time and effort to get there. This guide describes the built-in tools for efficiently migrating AngularJS projects over to the Angular platform, a piece at a time.</p><p translation-result="on">有些应用可能比其它的升级起来简单，还有一些方法能让把这项工作变得更简单。 即使在正式开始升级过程之前，可以提前准备 AngularJS 的程序，让它向 Angular 看齐。 这些准备步骤几乎都是关于如何让代码更加松耦合、更有可维护性，以及用现代开发工具提高速度的。 这意味着，这种准备工作不仅能让最终的升级变得更简单，而且还能提升 AngularJS 程序的质量。</p><p translation-origin="off">Some applications will be easier to upgrade than others, and there are many ways to make it easier for yourself. It is possible to prepare and align AngularJS applications with Angular even before beginning the upgrade process. These preparation steps are all about making the code more decoupled, more maintainable, and better aligned with modern development tools. That means in addition to making the upgrade easier, you will also improve the existing AngularJS applications.</p><p translation-result="on">成功升级的关键之一是增量式的实现它，通过在同一个应用中一起运行这两个框架，并且逐个把 AngularJS 的组件迁移到 Angular 中。 这意味着可以在不必打断其它业务的前提下，升级更大、更复杂的应用程序，因为这项工作可以多人协作完成，在一段时间内逐渐铺开。 Angular <code>upgrade</code> 模块的设计目标就是让你渐进、无缝的完成升级。</p><p translation-origin="off">One of the keys to a successful upgrade is to do it incrementally, by running the two frameworks side by side in the same application, and porting AngularJS components to Angular one by one. This makes it possible to upgrade even large and complex applications without disrupting other business, because the work can be done collaboratively and spread over a period of time. The <code>upgrade</code> module in Angular has been designed to make incremental upgrading seamless.</p><h2 id="preparation" translation-result="on">准备工作<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#preparation"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="preparation">Preparation<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#preparation"><i class="material-icons">link</i></a></h2><p translation-result="on">AngularJS 应用程序的组织方式有很多种。当你想把它们升级到 Angular 的时候， 有些做起来会比其它的更容易些。即使在开始升级之前，也有一些关键的技术和模式可以让你将来升级时更轻松。</p><p translation-origin="off">There are many ways to structure AngularJS applications. When you begin to upgrade these applications to Angular, some will turn out to be much more easy to work with than others. There are a few key techniques and patterns that you can apply to future proof apps even before you begin the migration.</p><a id="follow-the-angular-styleguide"></a><h3 id="follow-the-angularjs-style-guide" translation-result="on">遵循 AngularJS 风格指南<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#follow-the-angularjs-style-guide"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="follow-the-angularjs-style-guide">Follow the AngularJS Style Guide<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#follow-the-angularjs-style-guide"><i class="material-icons">link</i></a></h3><p translation-result="on"><a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md">AngularJS 风格指南</a>收集了一些已证明能写出干净且可维护的 AngularJS 程序的模式与实践。 它包含了很多关于如何书写和组织 AngularJS 代码的有价值信息，同样重要的是，<strong>不应该</strong>采用的书写和组织 AngularJS 代码的方式。</p><p translation-origin="off">The <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md">AngularJS Style Guide</a> collects patterns and practices that have been proven to result in cleaner and more maintainable AngularJS applications. It contains a wealth of information about how to write and organize AngularJS code - and equally importantly - how <strong>not</strong> to write and organize AngularJS code.</p><p translation-result="on">Angular 是一个基于 AngularJS 中最好的部分构思出来的版本。在这种意义上，它的目标和 AngularJS 风格指南是一样的： 保留 AngularJS 中好的部分，去掉坏的部分。当然，Angular 还做了更多。 说这些的意思是：<em>遵循这个风格指南可以让你写出更接近 Angular 程序的 AngularJS 程序</em>。</p><p translation-origin="off">Angular is a reimagined version of the best parts of AngularJS. In that sense, its goals are the same as the AngularJS Style Guide's: To preserve the good parts of AngularJS, and to avoid the bad parts. There's a lot more to Angular than just that of course, but this does mean that <em>following the style guide helps make your AngularJS app more closely aligned with Angular</em>.</p><p translation-result="on">有一些特别的规则可以让使用 Angular 的 <code><a href="api/upgrade/static" class="code-anchor">upgrade/static</a></code> 模块进行<em>增量升级</em>变得更简单：</p><p translation-origin="off">There are a few rules in particular that will make it much easier to do <em>an incremental upgrade</em> using the Angular <code><a href="api/upgrade/static" class="code-anchor">upgrade/static</a></code> module:</p><ul><li><p translation-result="on"><a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#single-responsibility">单一规则</a> 规定每个文件应该只放一个组件。这不仅让组件更容易浏览和查找，而且还让你能逐个迁移它们的语言和框架。 在这个范例程序中，每个控制器、工厂和过滤器都位于各自的源文件中。</p><p translation-origin="off">The <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#single-responsibility">Rule of 1</a> states that there should be one component per file. This not only makes components easy to navigate and find, but will also allow us to migrate them between languages and frameworks one at a time. In this example application, each controller, component, service, and filter is in its own source file.</p></li><li><p translation-result="on"><a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#folders-by-feature-structure">按特性分目录的结构</a>和<a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#modularity">模块化</a>规则在较高的抽象层定义了一些相似的原则：应用程序中的不同部分应该被分到不同的目录和 NgModule 中。</p><p translation-origin="off">The <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#folders-by-feature-structure">Folders-by-Feature Structure</a> and <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#modularity">Modularity</a> rules define similar principles on a higher level of abstraction: Different parts of the application should reside in different directories and NgModules.</p></li></ul><p translation-result="on">如果应用程序能用这种方式把每个特性分到一个独立目录中，它也就能每次迁移一个特性。 对于那些还没有这么做的程序，强烈建议把应用这条规则作为准备步骤。而且这也不仅仅对升级有价值， 它还是一个通用的规则，可以让你的程序更“坚实”。</p><p translation-origin="off">When an application is laid out feature per feature in this way, it can also be migrated one feature at a time. For applications that don't already look like this, applying the rules in the AngularJS style guide is a highly recommended preparation step. And this is not just for the sake of the upgrade - it is just solid advice in general!</p><h3 id="using-a-module-loader" translation-result="on">使用模块加载器<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-a-module-loader"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-a-module-loader">Using a Module Loader<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-a-module-loader"><i class="material-icons">link</i></a></h3><p translation-result="on">当你把应用代码分解到每个文件中只放一个组件的粒度后，通常会得到一个由大量相对较小的文件组成的项目结构。 这比组织成少量大文件要整洁得多，但如果你不得不通过 <code>&lt;script&gt;</code> 标签在 HTML 页面中加载所有这些文件，那就不好玩了。 尤其是当你不得不自己按正确的顺序维护这些标签时更是如此，就要开始使用<em>模块加载器</em>了。</p><p translation-origin="off">When you break application code down into one component per file, you often end up with a project structure with a large number of relatively small files. This is a much neater way to organize things than a small number of large files, but it doesn't work that well if you have to load all those files to the HTML page with &lt;script&gt; tags. Especially when you also have to maintain those tags in the correct order. That's why it's a good idea to start using a <em>module loader</em>.</p><p translation-result="on">使用模块加载器，比如<a href="https://github.com/systemjs/systemjs">SystemJS</a>、 <a href="http://webpack.github.io/">Webpack</a>或<a href="http://browserify.org/">Browserify</a>， 可以让你在程序中使用 TypeScript 或 ES2015 语言内置的模块系统。 你可以使用 <code>import</code> 和 <code>export</code> 特性来明确指定哪些代码应该以及将会被在程序的不同部分之间共享。 对于 ES5 程序来说，可以改用 CommonJS 风格的 <code>require</code> 和 <code>module.exports</code> 特性代替。 无是论哪种情况，模块加载器都会按正确的顺序加载程序中用到的所有代码。</p><p translation-origin="off">Using a module loader such as <a href="https://github.com/systemjs/systemjs">SystemJS</a>, <a href="http://webpack.github.io/">Webpack</a>, or <a href="http://browserify.org/">Browserify</a> allows us to use the built-in module systems of TypeScript or ES2015. You can use the <code>import</code> and <code>export</code> features that explicitly specify what code can and will be shared between different parts of the application. For ES5 applications you can use CommonJS style <code>require</code> and <code>module.exports</code> features. In both cases, the module loader will then take care of loading all the code the application needs in the correct order.</p><p translation-result="on">当要把应用程序投入生产环境时，模块加载器也会让你把所有这些文件打成完整的产品包变得容易一些。</p><p translation-origin="off">When moving applications into production, module loaders also make it easier to package them all up into production bundles with batteries included.</p><h3 id="migrating-to-typescript" translation-result="on">迁移到 TypeScript<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#migrating-to-typescript"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="migrating-to-typescript">Migrating to TypeScript<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#migrating-to-typescript"><i class="material-icons">link</i></a></h3><p translation-result="on">Angular 升级计划的一部分是引入 TypeScript，即使在开始升级之前，引入 TypeScript 编译器也是有意义的。 这意味着等真正升级的时候需要学习和思考的东西会更少，并且你可以在 AngularJS 代码中开始使用 TypeScript 的特性。</p><p translation-origin="off">If part of the Angular upgrade plan is to also take TypeScript into use, it makes sense to bring in the TypeScript compiler even before the upgrade itself begins. This means there's one less thing to learn and think about during the actual upgrade. It also means you can start using TypeScript features in your AngularJS code.</p><p translation-result="on">TypeScript 是 ECMAScript 2015 的超集，而 ES2015 又是 ECMAScript 5 的超集。 这意味着除了安装一个 TypeScript 编译器，并把文件名都从 <code>*.js</code> 改成 <code>*.ts</code> 之外，其实什么都不用做。 当然，如果仅仅这样做也没什么大用，也没什么有意思的地方。 下面这些额外的步骤可以让你打起精神：</p><p translation-origin="off">Since TypeScript is a superset of ECMAScript 2015, which in turn is a superset of ECMAScript 5, "switching" to TypeScript doesn't necessarily require anything more than installing the TypeScript compiler and renaming files from <code>*.js</code> to <code>*.ts</code>. But just doing that is not hugely useful or exciting, of course. Additional steps like the following can give us much more bang for the buck:</p><ul><li><p translation-result="on">对那些使用了模块加载器的程序，TypeScript 的导入和导出语法(实际上是 ECMAScript 2015 的导入和导出)可以把代码组织成模块。</p><p translation-origin="off">For applications that use a module loader, TypeScript imports and exports (which are really ECMAScript 2015 imports and exports) can be used to organize code into modules.</p></li><li><p translation-result="on">可以逐步把类型注解添加到现有函数和变量上，以固定它们的类型，并获得其优点：比如编译期错误检查、更好的支持自动完成，以及内联式文档等。</p><p translation-origin="off">Type annotations can be gradually added to existing functions and variables to pin down their types and get benefits like build-time error checking, great autocompletion support and inline documentation.</p></li><li><p translation-result="on">那些 ES2015 中新增的特性，比如箭头函数、<code>let</code>、<code>const</code>、默认函数参数、解构赋值等也可以逐渐添加进来，让代码更有表现力。</p><p translation-origin="off">JavaScript features new to ES2015, like arrow functions, <code>let</code>s and <code>const</code>s, default function parameters, and destructuring assignments can also be gradually added to make the code more expressive.</p></li><li><p translation-result="on">服务和控制器可以转成<em>类</em>。这样它们就能一步步接近 Angular 的服务和组件类了，也会让升级变得简单一点。</p><p translation-origin="off">Services and controllers can be turned into <em>classes</em>. That way they'll be a step closer to becoming Angular service and component classes, which will make life easier after the upgrade.</p></li></ul><h3 id="using-component-directives" translation-result="on">使用组件型指令<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-component-directives"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-component-directives">Using Component Directives<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-component-directives"><i class="material-icons">link</i></a></h3><p translation-result="on">在 Angular 中，组件是用来构建用户界面的主要元素。你把 UI 中的不同部分定义成组件，然后在模板中使用这些组件合成出最终的 UI。</p><p translation-origin="off">In Angular, components are the main primitive from which user interfaces are built. You define the different portions of the UI as components and compose them into a full user experience.</p><p translation-result="on">你在 AngularJS 中也能这么做。那就是一种定义了自己的模板、控制器和输入/输出绑定的指令 —— 跟 Angular 中对组件的定义是一样的。 要迁移到 Angular，通过组件型指令构建的应用程序会比直接用 <code>ng-controller</code>、<code>ng-include</code> 和作用域继承等底层特性构建的要容易得多。</p><p translation-origin="off">You can also do this in AngularJS, using <em>component directives</em>. These are directives that define their own templates, controllers, and input/output bindings - the same things that Angular components define. Applications built with component directives are much easier to migrate to Angular than applications built with lower-level features like <code>ng-controller</code>, <code>ng-include</code>, and scope inheritance.</p><p translation-result="on">要与 Angular 兼容，AngularJS 的组件型指令应该配置下列属性：</p><p translation-origin="off">To be Angular compatible, an AngularJS component directive should configure these attributes:</p><ul><li><p translation-result="on"> <code>restrict: 'E'</code>。组件通常会以元素的方式使用。</p><p translation-origin="off"><code>restrict: 'E'</code>. Components are usually used as elements.</p></li><li><p translation-result="on"> <code>scope: {}</code> - 一个独立作用域。在 Angular 中，组件永远是从它们的环境中被隔离出来的，在 AngularJS 中也同样如此。</p><p translation-origin="off"><code>scope: {}</code> - an isolate scope. In Angular, components are always isolated from their surroundings, and you should do this in AngularJS too.</p></li><li><p translation-result="on"> <code>bindToController: {}</code>。组件的输入和输出应该绑定到控制器，而不是 <code>$scope</code>。</p><p translation-origin="off"><code>bindToController: {}</code>. Component inputs and outputs should be bound to the controller instead of using the <code>$scope</code>.</p></li><li><p translation-result="on"> <code>controller</code> 和 <code>controllerAs</code>。组件要有自己的控制器。</p><p translation-origin="off"><code>controller</code> and <code>controllerAs</code>. Components have their own controllers.</p></li><li><p translation-result="on"> <code>template</code> 或 <code>templateUrl</code>。组件要有自己的模板。</p><p translation-origin="off"><code>template</code> or <code>templateUrl</code>. Components have their own templates.</p></li></ul><p translation-result="on">组件型指令还可能使用下列属性：</p><p translation-origin="off">Component directives may also use the following attributes:</p><ul><li><p translation-result="on"> <code>transclude: true</code>：如果组件需要从其它地方透传内容，就设置它。</p><p translation-origin="off"><code>transclude: true/{}</code>, if the component needs to transclude content from elsewhere.</p></li><li><p translation-result="on"> <code>require</code>：如果组件需要和父组件的控制器通讯，就设置它。</p><p translation-origin="off"><code>require</code>, if the component needs to communicate with some parent component's controller.</p></li></ul><p translation-result="on">组件型指令<strong>不能</strong>使用下列属性：</p><p translation-origin="off">Component directives <strong>should not</strong> use the following attributes:</p><ul><li><p translation-result="on"> <code>compile</code>。Angular 不再支持它。</p><p translation-origin="off"><code>compile</code>. This will not be supported in Angular.</p></li><li><p translation-result="on"> <code>replace: true</code>。Angular 永远不会用组件模板替换一个组件元素。这个特性在 AngularJS 中也同样不建议使用了。</p><p translation-origin="off"><code>replace: true</code>. Angular never replaces a component element with the component template. This attribute is also deprecated in AngularJS.</p></li><li><p translation-result="on"> <code>priority</code> 和 <code>terminal</code>。虽然 AngularJS 的组件可能使用这些，但它们在 Angular 中已经没用了，并且最好不要再写依赖它们的代码。</p><p translation-origin="off"><code>priority</code> and <code>terminal</code>. While AngularJS components may use these, they are not used in Angular and it is better not to write code that relies on them.</p></li></ul><p translation-result="on">AngularJS 中一个完全向 Angular 架构对齐过的组件型指令是这样的：</p><p translation-origin="off">An AngularJS component directive that is fully aligned with the Angular architecture may look something like this:</p><code-example path="upgrade-module/src/app/hero-detail.directive.ts" header="hero-detail.directive.ts" ng-version="10.0.0-next.5"><div style="display:none">export function heroDetailDirective() { return { restrict: 'E', scope: {}, bindToController: { hero: '=', deleted: '&amp;' }, template: ` &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt; &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt; &lt;button ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt; `, controller: function() { this.onDelete = () =&gt; { this.deleted({hero: this.hero}); }; }, controllerAs: '$ctrl' }; }</div><header class="ng-star-inserted">hero-detail.directive.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.directive.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> heroDetailDirective</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    bindToController</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pun">,</span><span class="pln">
      deleted</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
      &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt;
      &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt;
      &lt;button ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt;
    `</span><span class="pun">,</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">onDelete </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">({</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">});</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    controllerAs</span><span class="pun">:</span><span class="pln"> </span><span class="str">'$ctrl'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">AngularJS 1.5 引入了<a href="https://docs.angularjs.org/api/ng/type/angular.Module">组件 API</a>，它让定义指令变得更简单了。 为组件型指令使用这个 API 是一个好主意，因为：</p><p translation-origin="off">AngularJS 1.5 introduces the <a href="https://docs.angularjs.org/api/ng/type/angular.Module#component">component API</a> that makes it easier to define component directives like these. It is a good idea to use this API for component directives for several reasons:</p><ul><li><p translation-result="on">它需要更少的样板代码。</p><p translation-origin="off">It requires less boilerplate code.</p></li><li><p translation-result="on">它强制你遵循组件的最佳实践，比如 <code>controllerAs</code>。</p><p translation-origin="off">It enforces the use of component best practices like <code>controllerAs</code>.</p></li><li><p translation-result="on">指令中像 <code>scope</code> 和 <code>restrict</code> 这样的属性应该有良好的默认值。</p><p translation-origin="off">It has good default values for directive attributes like <code>scope</code> and <code>restrict</code>.</p></li></ul><p translation-result="on">如果使用这个组件 API 进行表示，那么上面看到的组件型指令就变成了这样：</p><p translation-origin="off">The component directive example from above looks like this when expressed using the component API:</p><code-example path="upgrade-module/src/app/upgrade-io/hero-detail.component.ts" region="hero-detail-io" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">export const heroDetail = { bindings: { hero: '&lt;', deleted: '&amp;' }, template: ` &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt; &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt; &lt;button ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt; `, controller: function() { this.onDelete = () =&gt; { this.deleted(this.hero); }; } };</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  bindings</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;'</span><span class="pun">,</span><span class="pln">
    deleted</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt;
    &lt;button ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">onDelete </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><p translation-result="on">控制器的生命周期钩子 <code>$onInit()</code>、<code>$onDestroy()</code> 和 <code>$onChanges()</code> 是 AngularJS 1.5 引入的另一些便利特性。 它们都很像<a href="guide/lifecycle-hooks">Angular 中的等价物</a>，所以，围绕它们组织组件生命周期的逻辑在升级到 Angular 时会更容易。</p><p translation-origin="off">Controller lifecycle hook methods <code>$onInit()</code>, <code>$onDestroy()</code>, and <code>$onChanges()</code> are another convenient feature that AngularJS 1.5 introduces. They all have nearly exact <a href="guide/lifecycle-hooks">equivalents in Angular</a>, so organizing component lifecycle logic around them will ease the eventual Angular upgrade process.</p><h2 id="upgrading-with-ngupgrade" translation-result="on">使用升级适配器进行升级<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#upgrading-with-ngupgrade"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="upgrading-with-ngupgrade">Upgrading with ngUpgrade<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#upgrading-with-ngupgrade"><i class="material-icons">link</i></a></h2><p translation-result="on">不管要升级什么，Angular 中的 <code>ngUpgrade</code> 库都会是一个非常有用的工具 —— 除非是小到没功能的应用。 借助它，你可以在同一个应用程序中混用并匹配 AngularJS 和 Angular 的组件，并让它们实现无缝的互操作。 这意味着你不用被迫一次性做完所有的升级工作，因为在整个演进过程中，这两个框架可以很自然的和睦相处。</p><p translation-origin="off">The ngUpgrade library in Angular is a very useful tool for upgrading anything but the smallest of applications. With it you can mix and match AngularJS and Angular components in the same application and have them interoperate seamlessly. That means you don't have to do the upgrade work all at once, since there's a natural coexistence between the two frameworks during the transition period.</p><h3 id="how-ngupgrade-works" translation-result="on">升级模块工作原理<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#how-ngupgrade-works"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="how-ngupgrade-works">How ngUpgrade Works<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#how-ngupgrade-works"><i class="material-icons">link</i></a></h3><p translation-result="on"><code>ngUpgrade</code> 提供的主要工具之一被称为 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code>。这是一个服务，它可以启动并管理一个能同时支持 Angular 和 AngularJS 的混合式应用。</p><p translation-origin="off">One of the primary tools provided by ngUpgrade is called the <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code>. This is a module that contains utilities for bootstrapping and managing hybrid applications that support both Angular and AngularJS code.</p><p translation-result="on">当使用 ngUpgrade 时，你实际上在<em>同时运行 AngularJS 和 Angular</em>。所有 Angular 的代码运行在 Angular 框架中，而 AngularJS 的代码运行在 AngularJS 框架中。所有这些都是真实的、全功能的框架版本。 没有进行任何仿真，所以你可以认为同时存在着这两个框架的所有特性和自然行为。</p><p translation-origin="off">When you use ngUpgrade, what you're really doing is <em>running both AngularJS and Angular at the same time</em>. All Angular code is running in the Angular framework, and AngularJS code in the AngularJS framework. Both of these are the actual, fully featured versions of the frameworks. There is no emulation going on, so you can expect to have all the features and natural behavior of both frameworks.</p><p translation-result="on">所有这些事情的背后，本质上是一个框架中管理的组件和服务能和来自另一个框架的进行互操作。 这些主要体现在三个方面：依赖注入、DOM 和变更检测。</p><p translation-origin="off">What happens on top of this is that components and services managed by one framework can interoperate with those from the other framework. This happens in three main areas: Dependency injection, the DOM, and change detection.</p><h4 id="dependency-injection" translation-result="on">依赖注入<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#dependency-injection"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="dependency-injection">Dependency Injection<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#dependency-injection"><i class="material-icons">link</i></a></h4><p translation-result="on">无论是在 AngularJS 中还是在 Angular 中，依赖注入都位于前沿和中心的位置，但在两个框架的工作原理上，却存在着一些关键的不同之处。</p><p translation-origin="off">Dependency injection is front and center in both AngularJS and Angular, but there are some key differences between the two frameworks in how it actually works.</p><table><tbody><tr><th><p>AngularJS</p></th><th><p>Angular</p></th></tr><tr><td><p translation-result="on">依赖注入的令牌(Token)永远是字符串(译注：指服务名称)。</p><p translation-origin="off">Dependency injection tokens are always strings</p></td><td><p translation-result="on">令牌<a href="guide/dependency-injection">可能有不同的类型</a>。 通常是类，也可能是字符串。</p><p translation-origin="off">Tokens <a href="guide/dependency-injection">can have different types</a>. They are often classes. They may also be strings.</p></td></tr><tr><td><p translation-result="on">只有一个注入器。即使在多模块的应用程序中，每样东西也都会被装入一个巨大的命名空间中。</p><p translation-origin="off">There is exactly one injector. Even in multi-module applications, everything is poured into one big namespace.</p></td><td><p translation-result="on">这是一个<a href="guide/hierarchical-dependency-injection">树状多层注入器</a>：有一个根注入器，而且每个组件也有一个自己的注入器。</p><p translation-origin="off">There is a <a href="guide/hierarchical-dependency-injection">tree hierarchy of injectors</a>, with a root injector and an additional injector for each component.</p></td></tr></tbody></table><p translation-result="on">就算有这么多不同点，也并不妨碍你在依赖注入时进行互操作。<code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 解决了这些差异，并让它们无缝的对接：</p><p translation-origin="off">Even accounting for these differences you can still have dependency injection interoperability. <code><a href="api/upgrade/static" class="code-anchor">upgrade/static</a></code> resolves the differences and makes everything work seamlessly:</p><ul><li><p translation-result="on">通过升级它们，你就能让那些在 AngularJS 中能被注入的服务也可用于 Angular 的代码中。 在框架之间共享的是服务的同一个单例对象。在 Angular 中，这些外来服务总是被放在<em>根注入器</em>中，并可用于所有组件。 它们总是具有<em>字符串令牌</em> —— 跟它们在 AngularJS 中的令牌相同。</p><p translation-origin="off">You can make AngularJS services available for injection to Angular code by <em>upgrading</em> them. The same singleton instance of each service is shared between the frameworks. In Angular these services will always be in the <em>root injector</em> and available to all components.</p></li><li><p translation-result="on">通过降级它们，你也能让那些在 Angular 中能被注入的服务在 AngularJS 的代码中可用。 只有那些来自 Angular 根注入器的服务才能被降级。同样的，在框架之间共享的是同一个单例对象。 当你注册一个要降级的服务时，要明确指定一个打算在 AngularJS 中使用的<em>字符串令牌</em>。</p><p translation-origin="off">You can also make Angular services available for injection to AngularJS code by <em>downgrading</em> them. Only services from the Angular root injector can be downgraded. Again, the same singleton instances are shared between the frameworks. When you register a downgraded service, you must explicitly specify a <em>string token</em> that you want to use in AngularJS.</p></li></ul><div class="lightbox"><img src="generated/images/guide/upgrade/injectors.png" alt="The two injectors in a hybrid application" width="700" height="262"></div><h4 id="components-and-the-dom" translation-result="on">组件与 DOM<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#components-and-the-dom"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="components-and-the-dom">Components and the DOM<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#components-and-the-dom"><i class="material-icons">link</i></a></h4><p translation-result="on">在混合式应用中，同时存在来自 AngularJS 和 Angular 中组件和指令的 DOM。 这些组件通过它们各自框架中的输入和输出绑定来互相通讯，它们由 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 桥接在一起。 它们也能通过共享被注入的依赖彼此通讯，就像前面所说的那样。</p><p translation-origin="off">In the DOM of a hybrid ngUpgrade application are components and directives from both AngularJS and Angular. These components communicate with each other by using the input and output bindings of their respective frameworks, which ngUpgrade bridges together. They may also communicate through shared injected dependencies, as described above.</p><p translation-result="on">理解混合式应用的关键在于，DOM 中的每一个元素都只能属于这两个框架之一，而另一个框架则会忽略它。如果一个元素属于 AngularJS，那么 Angular 就会当它不存在，反之亦然。</p><p translation-origin="off">The key thing to understand about a hybrid application is that every element in the DOM is owned by exactly one of the two frameworks. The other framework ignores it. If an element is owned by AngularJS, Angular treats it as if it didn't exist, and vice versa.</p><p translation-result="on">所以，混合式应用总是像 AngularJS 程序那样启动，处理根模板的也是 AngularJS. 然后，当这个应用的模板中使用到了 Angular 的组件时，Angular 才开始参与。 这个组件的视图由 Angular 进行管理，而且它还可以使用一系列的 Angular 组件和指令。</p><p translation-origin="off">So normally a hybrid application begins life as an AngularJS application, and it is AngularJS that processes the root template, e.g. the index.html. Angular then steps into the picture when an Angular component is used somewhere in an AngularJS template. That component's template will then be managed by Angular, and it may contain any number of Angular components and directives.</p><p translation-result="on">更进一步说，你可以按照需要，任意穿插使用这两个框架。 使用下面的两种方式之一，你可以在这两个框架之间自由穿梭：</p><p translation-origin="off">Beyond that, you may interleave the two frameworks. You always cross the boundary between the two frameworks by one of two ways:</p><ol><li><p translation-result="on">通过使用来自另一个框架的组件：AngularJS 的模板中用到了 Angular 的组件，或者 Angular 的模板中使用了 AngularJS 的组件。</p><p translation-origin="off">By using a component from the other framework: An AngularJS template using an Angular component, or an Angular template using an AngularJS component.</p></li><li><p translation-result="on">通过透传(transclude)或投影(project)来自另一个框架的内容。<code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 牵线搭桥，把 AngularJS 的透传概念和 Angular 的内容投影概念关联起来。</p><p translation-origin="off">By transcluding or projecting content from the other framework. ngUpgrade bridges the related concepts of AngularJS transclusion and Angular content projection together.</p></li></ol><div class="lightbox"><img src="generated/images/guide/upgrade/dom.png" alt="DOM element ownership in a hybrid application" width="500" height="294"></div><p translation-result="on">当你使用一个属于另一个框架的组件时，就会发生一次跨框架边界的切换。不过，这种切换只发生在该组件元素的<em>子节点</em>上。 考虑一个场景，你从 AngularJS 中使用一个 Angular 组件，就像这样：</p><p translation-origin="off">Whenever you use a component that belongs to the other framework, a switch between framework boundaries occurs. However, that switch only happens to the elements in the template of that component. Consider a situation where you use an Angular component from AngularJS like this:</p><code-example language="html" escape="html" ng-version="10.0.0-next.5"><div style="display:none">&lt;a-component&gt;&lt;/a-component&gt;</div><aio-code><pre class="lang-html prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;a-component&gt;&lt;/a-component&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">此时，<code>&lt;a-component&gt;</code> 这个 DOM 元素仍然由 AngularJS 管理，因为它是在 AngularJS 的模板中定义的。 这也意味着你可以往它上面添加别的 AngularJS 指令，却<em>不能</em>添加 Angular 的指令。 只有在 <code>&lt;a-component&gt;</code> 组件的模板中才是 Angular 的天下。同样的规则也适用于在 Angular 中使用 AngularJS 组件型指令的情况。</p><p translation-origin="off">The DOM element <code>&lt;a-component&gt;</code> will remain to be an AngularJS managed element, because it's defined in an AngularJS template. That also means you can apply additional AngularJS directives to it, but <em>not</em> Angular directives. It is only in the template of the <code>&lt;a-component&gt;</code> where Angular steps in. This same rule also applies when you use AngularJS component directives from Angular.</p><h4 id="change-detection" translation-result="on">变更检测<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#change-detection"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="change-detection">Change Detection<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#change-detection"><i class="material-icons">link</i></a></h4><p translation-result="on">AngularJS 中的变更检测全是关于 <code>scope.$apply()</code> 的。在每个事件发生之后，<code>scope.$apply()</code> 就会被调用。 这或者由框架自动调用，或者在某些情况下由你自己的代码手动调用。</p><p translation-origin="off">The <code>scope.$apply()</code> is how AngularJS detects changes and updates data bindings. After every event that occurs, <code>scope.$apply()</code> gets called. This is done either automatically by the framework, or manually by you.</p><p translation-result="on">在 Angular 中，事情有点不一样。虽然变更检测仍然会在每一个事件之后发生，却不再需要每次调用 <code>scope.$apply()</code> 了。 这是因为所有 Angular 代码都运行在一个叫做<a href="api/core/NgZone">Angular zone</a>的地方。 Angular 总是知道什么时候代码执行完了，也就知道了它什么时候应该触发变更检测。代码本身并不需要调用 <code>scope.$apply()</code> 或其它类似的东西。</p><p translation-origin="off">In Angular things are different. While change detection still occurs after every event, no one needs to call <code>scope.$apply()</code> for that to happen. This is because all Angular code runs inside something called the <a href="api/core/NgZone">Angular zone</a>. Angular always knows when the code finishes, so it also knows when it should kick off change detection. The code itself doesn't have to call <code>scope.$apply()</code> or anything like it.</p><p translation-result="on">在这种混合式应用的案例中，<code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 在 AngularJS 的方法和 Angular 的方法之间建立了桥梁。发生了什么呢？</p><p translation-origin="off">In the case of hybrid applications, the <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> bridges the AngularJS and Angular approaches. Here's what happens:</p><ul><li><p translation-result="on">应用中发生的每件事都运行在 Angular 的 zone 里。 无论事件发生在 AngularJS 还是 Angular 的代码中，都是如此。 这个 zone 会在每个事件之后触发 Angular 的变更检测。</p><p translation-origin="off">Everything that happens in the application runs inside the Angular zone. This is true whether the event originated in AngularJS or Angular code. The zone triggers Angular change detection after every event.</p></li><li><p translation-result="on"> <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 将在每一次离开 Angular zone 时调用 AngularJS 的 <code>$rootScope.$apply()</code>。这样也就同样会在每个事件之后触发 AngularJS 的变更检测。</p><p translation-origin="off">The <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> will invoke the AngularJS <code>$rootScope.$apply()</code> after every turn of the Angular zone. This also triggers AngularJS change detection after every event.</p></li></ul><div class="lightbox"><img src="generated/images/guide/upgrade/change_detection.png" alt="Change detection in a hybrid application" width="600" height="163"></div><p translation-result="on">在实践中，你不用在自己的代码中调用 <code>$apply()</code>，而不用管这段代码是在 AngularJS 还是 Angular 中。 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 都替你做了。你仍然<em>可以</em>调用 <code>$apply()</code>，也就是说你不必从现有代码中移除此调用。 在混合式应用中，这些调用只会触发一次额外的 AngularJS 变更检测。</p><p translation-origin="off">In practice, you do not need to call <code>$apply()</code>, regardless of whether it is in AngularJS or Angular. The <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> does it for us. You <em>can</em> still call <code>$apply()</code> so there is no need to remove such calls from existing code. Those calls just trigger additional AngularJS change detection checks in a hybrid application.</p><p translation-result="on">当你降级一个 Angular 组件，然后把它用于 AngularJS 中时，组件的输入属性就会被 AngularJS 的变更检测体系监视起来。 当那些输入属性发生变化时，组件中相应的属性就会被设置。你也能通过实现<a href="api/core/OnChanges">OnChanges</a> 接口来挂钩到这些更改，就像它未被降级时一样。</p><p translation-origin="off">When you downgrade an Angular component and then use it from AngularJS, the component's inputs will be watched using AngularJS change detection. When those inputs change, the corresponding properties in the component are set. You can also hook into the changes by implementing the <a href="api/core/OnChanges">OnChanges</a> interface in the component, just like you could if it hadn't been downgraded.</p><p translation-result="on">相应的，当你把 AngularJS 的组件升级给 Angular 使用时，在这个组件型指令的 <code>scope</code>(或 <code>bindToController</code>)中定义的所有绑定， 都将被挂钩到 Angular 的变更检测体系中。它们将和标准的 Angular 输入属性被同等对待，并当它们发生变化时设置回 scope(或控制器)上。</p><p translation-origin="off">Correspondingly, when you upgrade an AngularJS component and use it from Angular, all the bindings defined for the component directive's <code>scope</code> (or <code>bindToController</code>) will be hooked into Angular change detection. They will be treated as regular Angular inputs. Their values will be written to the upgraded component's scope (or controller) when they change.</p><h3 id="using-upgrademodule-with-angular-ngmodules" translation-result="on">通过 Angular 的 <em>NgModule</em> 来使用 UpgradeModule<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-upgrademodule-with-angular-ngmodules"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-upgrademodule-with-angular-ngmodules">Using UpgradeModule with Angular <em>NgModules</em><a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-upgrademodule-with-angular-ngmodules"><i class="material-icons">link</i></a></h3><p translation-result="on">AngularJS 还是 Angular 都有自己的模块概念，来帮你把应用组织成一些内聚的功能块。</p><p translation-origin="off">Both AngularJS and Angular have their own concept of modules to help organize an application into cohesive blocks of functionality.</p><p translation-result="on">它们在架构和实现的细节上有着显著的不同。 在 AngularJS 中，你要把 AngularJS 的资源添加到 <code>angular.module</code> 属性上。 在 Angular 中，你要创建一个或多个带有 <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 装饰器的类，这些装饰器用来在元数据中描述 Angular 资源。差异主要来自这里。</p><p translation-origin="off">Their details are quite different in architecture and implementation. In AngularJS, you add Angular assets to the <code>angular.module</code> property. In Angular, you create one or more classes adorned with an <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> decorator that describes Angular assets in metadata. The differences blossom from there.</p><p translation-result="on">在混合式应用中，你同时运行了两个版本的 Angular。 这意味着你至少需要 AngularJS 和 Angular 各提供一个模块。 当你使用 AngularJS 的模块进行引导时，就得把 Angular 的模块传给 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code>。</p><p translation-origin="off">In a hybrid application you run both versions of Angular at the same time. That means that you need at least one module each from both AngularJS and Angular. You will import <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> inside the NgModule, and then use it for bootstrapping the AngularJS module.</p><div class="alert is-helpful"><p translation-result="on">要了解更多，请参阅<a href="guide/ngmodules">NgModules</a>页。</p><p translation-origin="off">For more information, see <a href="guide/ngmodules">NgModules</a>.</p></div><h3 id="bootstrapping-hybrid-applications" translation-result="on">引导混合式应用程序<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#bootstrapping-hybrid-applications"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="bootstrapping-hybrid-applications">Bootstrapping hybrid applications<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#bootstrapping-hybrid-applications"><i class="material-icons">link</i></a></h3><p translation-result="on">要想引导混合式应用，就必须在应用中分别引导 Angular 和 AngularJS 应用的一部分。你必须先引导 Angular，然后再调用 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 来引导 AngularJS。</p><p translation-origin="off">To bootstrap a hybrid application, you must bootstrap each of the Angular and AngularJS parts of the application. You must bootstrap the Angular bits first and then ask the <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> to bootstrap the AngularJS bits next.</p><p translation-result="on">在 AngularJS 应用中有一个 AngularJS 的根模块，它用于引导 AngularJS 应用。</p><p translation-origin="off">In an AngularJS application you have a root AngularJS module, which will also be used to bootstrap the AngularJS application.</p><code-example path="upgrade-module/src/app/ajs-bootstrap/app.module.ts" region="ng1module" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">angular.module('heroApp', []) .controller('MainCtrl', function() { this.message = 'Hello world'; });</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'heroApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MainCtrl'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">message </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello world'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example><p translation-result="on">单纯的 AngularJS 应用可以在 HTML 页面中使用 <code>ng-app</code> 指令进行引导，但对于混合式应用你要通过 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 模块进行手动引导。因此，在切换成混合式应用之前，最好先把 AngularJS 改写成使用 <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap"><code>angular.bootstrap</code></a>进行手动引导的方式。</p><p translation-origin="off">Pure AngularJS applications can be automatically bootstrapped by using an <code>ng-app</code> directive somewhere on the HTML page. But for hybrid applications, you manually bootstrap via the <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code>. Therefore, it is a good preliminary step to switch AngularJS applications to use the manual JavaScript <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap"><code>angular.bootstrap</code></a>method even before switching them to hybrid mode.</p><p translation-result="on">比如你现在有这样一个通过 <code>ng-app</code> 进行引导的应用：</p><p translation-origin="off">Say you have an <code>ng-app</code> driven bootstrap such as this one:</p><code-example path="upgrade-module/src/index-ng-app.html" ng-version="10.0.0-next.5"><div style="display:none">&lt;!DOCTYPE HTML&gt; &lt;html lang="en"&gt; &lt;head&gt; &lt;base href="/"&gt; &lt;script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"&gt;&lt;/script&gt; &lt;script src="app/ajs-ng-app/app.module.js"&gt;&lt;/script&gt; &lt;/head&gt; &lt;body ng-app="heroApp" ng-strict-di&gt; &lt;div id="message" ng-controller="MainCtrl as mainCtrl"&gt; {{ mainCtrl.message }} &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="dec">&lt;!DOCTYPE HTML&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="atn">lang</span><span class="pun">=</span><span class="atv">"en"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/ajs-ng-app/app.module.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">

  </span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">ng-app</span><span class="pun">=</span><span class="atv">"heroApp"</span><span class="pln"> </span><span class="atn">ng-strict-di</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"message"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainCtrl as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
      {{ mainCtrl.message }}
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">你可以从 HTML 中移除 <code>ng-app</code> 和 <code>ng-strict-di</code> 指令，改为从 JavaScript 中调用 <code>angular.bootstrap</code>，它能达到同样效果：</p><p translation-origin="off">You can remove the <code>ng-app</code> and <code>ng-strict-di</code> directives from the HTML and instead switch to calling <code>angular.bootstrap</code> from JavaScript, which will result in the same thing:</p><code-example path="upgrade-module/src/app/ajs-bootstrap/app.module.ts" region="bootstrap" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">angular.bootstrap(document.body, ['heroApp'], { strictDi: true });</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span></code>
    </pre></aio-code></code-example><p translation-result="on">要想把 AngularJS 应用变成 Hybrid 应用，就要先加载 Angular 框架。 根据<a href="guide/upgrade-setup">准备升级到 AngularJS</a> 中给出的步骤，选择性的把<a href="https://github.com/angular/quickstart" target="_blank">“快速上手”的 Github 仓库</a>中的代码复制过来。</p><p translation-origin="off">To begin converting your AngularJS application to a hybrid, you need to load the Angular framework. You can see how this can be done with SystemJS by following the instructions in <a href="guide/upgrade-setup">Setup for Upgrading to AngularJS</a> for selectively copying code from the <a href="https://github.com/angular/quickstart">QuickStart github repository</a>.</p><p translation-result="on">也可以通过 <code>npm install @angular/upgrade --save</code> 命令来安装 <code>@angular/upgrade</code> 包，并给它添加一个到 <code>@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a></code> 包的映射。</p><p translation-origin="off">You also need to install the <code>@angular/upgrade</code> package via <code>npm install @angular/upgrade --save</code> and add a mapping for the <code>@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a></code> package:</p><code-example path="upgrade-module/src/systemjs.config.1.js" region="upgrade-static-umd" header="systemjs.config.js (map)" ng-version="10.0.0-next.5"><div style="display:none">'@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>': 'npm:@angular/upgrade/bundles/upgrade-static.umd.js',</div><header class="ng-star-inserted">systemjs.config.js (map)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from systemjs.config.js (map)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/upgrade/bundles/upgrade-static.umd.js'</span><span class="pun">,</span></code>
    </pre></aio-code></code-example><p translation-result="on">接下来，创建一个 <code>app.module.ts</code> 文件，并添加下列 <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 类：</p><p translation-origin="off">Next, create an <code>app.module.ts</code> file and add the following <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> class:</p><code-example path="upgrade-module/src/app/ajs-a-hybrid-bootstrap/app.module.ts" region="ngmodule" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/NgModule" class="code-anchor">NgModule</a> } from '@angular/core'; import { <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a> } from '@angular/platform-browser'; import { <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a> } from '@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>'; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a>, <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a> ] }) export class AppModule { constructor(private upgrade: <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a>) { } ngDoBootstrap() { this.upgrade.bootstrap(document.body, ['heroApp'], { strictDi: true }); } }</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">最小化的 <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 导入了 <code><a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a></code>，它是每个基于浏览器的 Angular 应用必备的。 它还从 <code>@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a></code> 中导入了 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code>，它导出了一些服务提供者，这些提供者会用于升级、降级服务和组件。</p><p translation-origin="off">This bare minimum <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> imports <code><a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a></code>, the module every Angular browser-based app must have. It also imports <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> from <code>@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a></code>, which exports providers that will be used for upgrading and downgrading services and components.</p><p translation-result="on">在 <code>AppModule</code> 的构造函数中，使用依赖注入技术获取了一个 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 实例，并用它在 <code>AppModule.ngDoBootstrap</code> 方法中启动 AngularJS 应用。 <code>upgrade.bootstrap</code> 方法接受和 <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap">angular.bootstrap</a> 完全相同的参数。</p><p translation-origin="off">In the constructor of the <code>AppModule</code>, use dependency injection to get a hold of the <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> instance, and use it to bootstrap the AngularJS app in the <code>AppModule.ngDoBootstrap</code> method. The <code>upgrade.bootstrap</code> method takes the exact same arguments as <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap">angular.bootstrap</a>:</p><div class="alert is-helpful"><p translation-result="on">注意，你不需要在 <code>@<a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 中加入 <code>bootstrap</code> 声明，因为 AngularJS 控制着该应用的根模板。</p><p translation-origin="off">Note that you do not add a <code>bootstrap</code> declaration to the <code>@<a href="api/core/NgModule" class="code-anchor">NgModule</a></code> decorator, since AngularJS will own the root template of the application.</p></div><p translation-result="on">现在，你就可以使用 <code>platformBrowserDynamic.bootstrapModule</code> 方法来启动 <code>AppModule</code> 了。</p><p translation-origin="off">Now you can bootstrap <code>AppModule</code> using the <code>platformBrowserDynamic.bootstrapModule</code> method.</p><code-example path="upgrade-module/src/app/ajs-a-hybrid-bootstrap/app.module.ts" region="bootstrap" header="app.module.ts'" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/platform-browser-dynamic/platformBrowserDynamic" class="code-anchor">platformBrowserDynamic</a> } from '@angular/platform-browser-dynamic'; <a href="api/platform-browser-dynamic/platformBrowserDynamic" class="code-anchor">platformBrowserDynamic</a>().bootstrapModule(AppModule);</div><header class="ng-star-inserted">app.module.ts'</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts'">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/platform-browser-dynamic/platformBrowserDynamic" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser-dynamic'</span><span class="pun">;</span><span class="pln">

</span><a href="api/platform-browser-dynamic/platformBrowserDynamic" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pun">().</span><span class="pln">bootstrapModule</span><span class="pun">(</span><span class="typ">AppModule</span><span class="pun">);</span></code>
    </pre></aio-code></code-example><p translation-result="on">恭喜！你就要开始运行这个混合式应用了！所有现存的 AngularJS 代码会像以前一样正常工作，但是你现在也同样可以运行 Angular 代码了。</p><p translation-origin="off">Congratulations! You're running a hybrid application! The existing AngularJS code works as before <em>and</em> you're ready to start adding Angular code.</p><h3 id="using-angular-components-from-angularjs-code" translation-result="on">在 AngularJS 的代码中使用 Angular 的组件<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-angular-components-from-angularjs-code"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-angular-components-from-angularjs-code">Using Angular Components from AngularJS Code<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-angular-components-from-angularjs-code"><i class="material-icons">link</i></a></h3><img src="generated/images/guide/upgrade/ajs-to-a.png" alt="Using an Angular component from AngularJS code" class="left" width="250" height="44"><p translation-result="on">一旦你开始运行混合式应用，你就可以开始逐渐升级代码了。一种更常见的工作模式就是在 AngularJS 的上下文中使用 Angular 的组件。 该组件可能是全新的，也可能是把原本 AngularJS 的组件用 Angular 重写而成的。</p><p translation-origin="off">Once you're running a hybrid app, you can start the gradual process of upgrading code. One of the more common patterns for doing that is to use an Angular component in an AngularJS context. This could be a completely new component or one that was previously AngularJS but has been rewritten for Angular.</p><p translation-result="on">假设你有一个简单的用来显示英雄信息的 Angular 组件：</p><p translation-origin="off">Say you have a simple Angular component that shows information about a hero:</p><code-example path="upgrade-module/src/app/downgrade-static/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a> } from '@angular/core'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'hero-detail', template: ` &lt;h2&gt;Windstorm details!&lt;/h2&gt; &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;1&lt;/div&gt; ` }) export class HeroDetailComponent { }</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;Windstorm details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;1&lt;/div&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">如果你想在 AngularJS 中使用这个组件，就得用 <code><a href="api/upgrade/static/downgradeComponent" class="code-anchor">downgradeComponent</a>()</code> 方法把它<em>降级</em>。 其结果是一个 AngularJS 的<em>指令</em>，你可以把它注册到 AngularJS 的模块中：</p><p translation-origin="off">If you want to use this component from AngularJS, you need to <em>downgrade</em> it using the <code><a href="api/upgrade/static/downgradeComponent" class="code-anchor">downgradeComponent</a>()</code> method. The result is an AngularJS <em>directive</em>, which you can then register in the AngularJS module:</p><code-example path="upgrade-module/src/app/downgrade-static/app.module.ts" region="downgradecomponent" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { HeroDetailComponent } from './hero-detail.component'; /* . . . */ import { <a href="api/upgrade/static/downgradeComponent" class="code-anchor">downgradeComponent</a> } from '@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>'; angular.module('heroApp', []) .directive( 'heroDetail', <a href="api/upgrade/static/downgradeComponent" class="code-anchor">downgradeComponent</a>({ component: HeroDetailComponent }) as angular.IDirectiveFactory );</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="com">/* . . . */</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/upgrade/static/downgradeComponent" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'heroApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="pln">
    </span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln">
    </span><a href="api/upgrade/static/downgradeComponent" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pun">({</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IDirectiveFactory</span><span class="pln">
  </span><span class="pun">);</span></code>
    </pre></aio-code></code-example><p translation-result="on">由于 <code>HeroDetailComponent</code> 是一个 Angular 组件，所以你必须同时把它加入 <code>AppModule</code> 的 <code>declarations</code> 字段中。</p><p translation-origin="off">Because <code>HeroDetailComponent</code> is an Angular component, you must also add it to the <code>declarations</code> in the <code>AppModule</code>.</p><p translation-result="on">并且由于这个组件在 AngularJS 模块中使用，也是你 Angular 应用的一个入口点，你还需要 将它加入到 NgModule 的 <code>entryComponents</code> 列表中。</p><p translation-origin="off">And because this component is being used from the AngularJS module, and is an entry point into the Angular application, you must add it to the <code>entryComponents</code> for the NgModule.</p><code-example path="upgrade-module/src/app/downgrade-static/app.module.ts" region="ngmodule" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { HeroDetailComponent } from './hero-detail.component'; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a>, <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a> ], declarations: [ HeroDetailComponent ], entryComponents: [ HeroDetailComponent ] }) export class AppModule { constructor(private upgrade: <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a>) { } ngDoBootstrap() { this.upgrade.bootstrap(document.body, ['heroApp'], { strictDi: true }); } }</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroDetailComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  entryComponents</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroDetailComponent</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">所有 Angular 组件、指令和管道都必须声明在 NgModule 中。</p><p translation-origin="off">All Angular components, directives and pipes must be declared in an NgModule.</p></div><p translation-result="on">最终的结果是一个叫做 <code>heroDetail</code> 的 AngularJS 指令，你可以像用其它指令一样把它用在 AngularJS 模板中。</p><p translation-origin="off">The net result is an AngularJS directive called <code>heroDetail</code>, that you can use like any other directive in AngularJS templates.</p><code-example path="upgrade-module/src/index-downgrade-static.html" region="usecomponent" ng-version="10.0.0-next.5"><div style="display:none">&lt;hero-detail&gt;&lt;/hero-detail&gt;</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;hero-detail&gt;&lt;/hero-detail&gt;</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">注意，它在 AngularJS 中是一个名叫 <code>heroDetail</code> 的元素型指令（<code>restrict: 'E'</code>）。 AngularJS 的元素型指令是基于它的<em>名字</em>匹配的。 <em>Angular 组件中的 <code>selector</code> 元数据，在降级后的版本中会被忽略。</em></p><p translation-origin="off">Note that this AngularJS is an element directive (<code>restrict: 'E'</code>) called <code>heroDetail</code>. An AngularJS element directive is matched based on its <em>name</em>. <em>The <code>selector</code> metadata of the downgraded Angular component is ignored.</em></p></div><p translation-result="on">当然，大多数组件都不像这个这么简单。它们中很多都有<em>输入属性和输出属性</em>，来把它们连接到外部世界。 Angular 的英雄详情组件带有像这样的输入属性与输出属性：</p><p translation-origin="off">Most components are not quite this simple, of course. Many of them have <em>inputs and outputs</em> that connect them to the outside world. An Angular hero detail component with inputs and outputs might look like this:</p><code-example path="upgrade-module/src/app/downgrade-io/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/EventEmitter" class="code-anchor">EventEmitter</a>, <a href="api/core/Input" class="code-anchor">Input</a>, <a href="api/core/Output" class="code-anchor">Output</a> } from '@angular/core'; import { Hero }&nbsp;from '../hero'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'hero-detail', template: ` &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt; &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt; &lt;button (click)="onDelete()"&gt;Delete&lt;/button&gt; ` }) export class HeroDetailComponent { @<a href="api/core/Input" class="code-anchor">Input</a>() hero: Hero; @<a href="api/core/Output" class="code-anchor">Output</a>() deleted = new <a href="api/core/EventEmitter" class="code-anchor">EventEmitter</a>&lt;Hero&gt;(); onDelete() { this.deleted.emit(this.hero); } }</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/EventEmitter" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Input" class="code-anchor"><span class="typ">Input</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Output" class="code-anchor"><span class="typ">Output</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln">&nbsp;</span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{hero.id}}&lt;/div&gt;
    &lt;button (click)="onDelete()"&gt;Delete&lt;/button&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="lit">@</span><a href="api/core/Input" class="code-anchor"><span class="lit">Input</span></a><span class="pun">()</span><span class="pln"> hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
  </span><span class="lit">@</span><a href="api/core/Output" class="code-anchor"><span class="lit">Output</span></a><span class="pun">()</span><span class="pln"> deleted </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="api/core/EventEmitter" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;();</span><span class="pln">
  onDelete</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">.</span><span class="pln">emit</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">这些输入属性和输出属性的值来自于 AngularJS 的模板，而 <code><a href="api/upgrade/static/downgradeComponent" class="code-anchor">downgradeComponent</a>()</code> 方法负责桥接它们：</p><p translation-origin="off">These inputs and outputs can be supplied from the AngularJS template, and the <code><a href="api/upgrade/static/downgradeComponent" class="code-anchor">downgradeComponent</a>()</code> method takes care of wiring them up:</p><code-example path="upgrade-module/src/index-downgrade-io.html" region="usecomponent" ng-version="10.0.0-next.5"><div style="display:none">&lt;div ng-controller="MainController as mainCtrl"&gt; &lt;hero-detail [hero]="mainCtrl.hero" (deleted)="mainCtrl.onDelete($event)"&gt; &lt;/hero-detail&gt; &lt;/div&gt;</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;hero-detail</span><span class="pln"> [</span><span class="atn">hero</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"mainCtrl.hero"</span><span class="pln">
               (</span><span class="atn">deleted</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"mainCtrl.onDelete($event)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/hero-detail&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意，虽然你正在 AngularJS 的模板中，<strong>但却在使用 Angular 的属性(Attribute)语法来绑定到输入属性与输出属性</strong>。 这是降级的组件本身要求的。而表达式本身仍然是标准的 AngularJS 表达式。</p><p translation-origin="off">Note that even though you are in an AngularJS template, <strong>you're using Angular attribute syntax to bind the inputs and outputs</strong>. This is a requirement for downgraded components. The expressions themselves are still regular AngularJS expressions.</p><div class="callout is-important"><header translation-result="on">在降级过的组件属性中使用中线命名法</header><header translation-origin="off">Use kebab-case for downgraded component attributes</header><p translation-result="on">为降级过的组件使用 Angular 的属性(Attribute)语法规则时有一个值得注意的例外。 它适用于由多个单词组成的输入或输出属性。在 Angular 中，你要使用小驼峰命名法绑定这些属性：</p><p translation-origin="off">There's one notable exception to the rule of using Angular attribute syntax for downgraded components. It has to do with input or output names that consist of multiple words. In Angular, you would bind these attributes using camelCase:</p><code-example format="" ng-version="10.0.0-next.5"><div style="display:none">[myHero]="hero" (heroDeleted)="handleHeroDeleted($event)"</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">[</span><span class="pln">myHero</span><span class="pun">]=</span><span class="str">"hero"</span><span class="pln">
</span><span class="pun">(</span><span class="pln">heroDeleted</span><span class="pun">)=</span><span class="str">"handleHeroDeleted($event)"</span></code>
    </pre></aio-code></code-example><p translation-result="on">但是从 AngularJS 的模板中使用它们时，你得使用中线命名法：</p><p translation-origin="off">But when using them from AngularJS templates, you must use kebab-case:</p><code-example format="" ng-version="10.0.0-next.5"><div style="display:none">[my-hero]="hero" (hero-deleted)="handleHeroDeleted($event)"</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pun">[</span><span class="kwd">my</span><span class="pun">-</span><span class="pln">hero</span><span class="pun">]=</span><span class="str">"hero"</span><span class="pln">
</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">-</span><span class="pln">deleted</span><span class="pun">)=</span><span class="str">"handleHeroDeleted($event)"</span></code>
    </pre></aio-code></code-example></div><p translation-result="on"><code>$event</code> 变量能被用在输出属性里，以访问这个事件所发出的对象。这个案例中它是 <code>Hero</code> 对象，因为 <code>this.deleted.emit()</code> 函数曾把它传了出来。</p><p translation-origin="off">The <code>$event</code> variable can be used in outputs to gain access to the object that was emitted. In this case it will be the <code>Hero</code> object, because that is what was passed to <code>this.deleted.emit()</code>.</p><p translation-result="on">由于这是一个 AngularJS 模板，虽然它已经有了 Angular 中绑定的属性(Attribute)，你仍可以在这个元素上使用其它 AngularJS 指令。 例如，你可以用 <code>ng-repeat</code> 简单的制作该组件的多份拷贝：</p><p translation-origin="off">Since this is an AngularJS template, you can still use other AngularJS directives on the element, even though it has Angular binding attributes on it. For example, you can easily make multiple copies of the component using <code>ng-repeat</code>:</p><code-example path="upgrade-module/src/index-downgrade-io.html" region="userepeatedcomponent" ng-version="10.0.0-next.5"><div style="display:none">&lt;div ng-controller="MainController as mainCtrl"&gt; &lt;hero-detail [hero]="hero" (deleted)="mainCtrl.onDelete($event)" ng-repeat="hero in mainCtrl.heroes"&gt; &lt;/hero-detail&gt; &lt;/div&gt;</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;hero-detail</span><span class="pln"> [</span><span class="atn">hero</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"hero"</span><span class="pln">
               (</span><span class="atn">deleted</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"mainCtrl.onDelete($event)"</span><span class="pln">
               </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"hero in mainCtrl.heroes"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/hero-detail&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example><h3 id="using-angularjs-component-directives-from-angular-code" translation-result="on">从 Angular 代码中使用 AngularJS 组件型指令<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-angularjs-component-directives-from-angular-code"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-angularjs-component-directives-from-angular-code">Using AngularJS Component Directives from Angular Code<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-angularjs-component-directives-from-angular-code"><i class="material-icons">link</i></a></h3><img src="generated/images/guide/upgrade/a-to-ajs.png" alt="Using an AngularJS component from Angular code" class="left" width="250" height="44"><p translation-result="on">现在，你已经能在 Angular 中写一个组件，并把它用于 AngularJS 代码中了。 当你从低级组件开始移植，并往上走时，这非常有用。但在另外一些情况下，从相反的方向进行移植会更加方便： 从高级组件开始，然后往下走。这也同样能用 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 完成。 你可以<em>升级</em>AngularJS 组件型指令，然后从 Angular 中用它们。</p><p translation-origin="off">So, you can write an Angular component and then use it from AngularJS code. This is useful when you start to migrate from lower-level components and work your way up. But in some cases it is more convenient to do things in the opposite order: To start with higher-level components and work your way down. This too can be done using the <code><a href="api/upgrade/static" class="code-anchor">upgrade/static</a></code>. You can <em>upgrade</em> AngularJS component directives and then use them from Angular.</p><p translation-result="on">不是所有种类的 AngularJS 指令都能升级。该指令必须是一个严格的<em>组件型指令</em>，具有<a href="guide/upgrade#using-component-directives">上面的准备指南中描述的</a>那些特征。 确保兼容性的最安全的方式是 AngularJS 1.5 中引入的<a href="https://docs.angularjs.org/api/ng/type/angular.Module">组件 API</a>。</p><p translation-origin="off">Not all kinds of AngularJS directives can be upgraded. The directive really has to be a <em>component directive</em>, with the characteristics <a href="guide/upgrade#using-component-directives">described in the preparation guide above</a>. The safest bet for ensuring compatibility is using the <a href="https://docs.angularjs.org/api/ng/type/angular.Module">component API</a> introduced in AngularJS 1.5.</p><p translation-result="on">可升级组件的简单例子是只有一个模板和一个控制器的指令：</p><p translation-origin="off">A simple example of an upgradable component is one that just has a template and a controller:</p><code-example path="upgrade-module/src/app/upgrade-static/hero-detail.component.ts" region="hero-detail" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">export const heroDetail = { template: ` &lt;h2&gt;Windstorm details!&lt;/h2&gt; &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;1&lt;/div&gt; `, controller: function() { } };</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;Windstorm details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;1&lt;/div&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><p translation-result="on">你可以使用 <code><a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a></code> 方法来把这个组件<em>升级</em>到 Angular。 具体方法是创建一个 Angular<strong>指令</strong>，继承 <code><a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a></code>，在其构造函数中进行 <code>super</code> 调用， 这样你就得到一个完全升级的 AngularJS 组件，并且可以 Angular 中使用。 剩下是工作就是把它加入到 <code>AppModule</code> 的 <code>declarations</code> 数组。</p><p translation-origin="off">You can <em>upgrade</em> this component to Angular using the <code><a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a></code> class. By creating a new Angular <strong>directive</strong> that extends <code><a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a></code> and doing a <code>super</code> call inside its constructor, you have a fully upgraded AngularJS component to be used inside Angular. All that is left is to add it to <code>AppModule</code>'s <code>declarations</code> array.</p><code-example path="upgrade-module/src/app/upgrade-static/hero-detail.component.ts" region="hero-detail-upgrade" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Directive" class="code-anchor">Directive</a>, <a href="api/core/ElementRef" class="code-anchor">ElementRef</a>, <a href="api/core/Injector" class="code-anchor">Injector</a>, <a href="api/core/SimpleChanges" class="code-anchor">SimpleChanges</a> } from '@angular/core'; import { <a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a> } from '@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>'; @<a href="api/core/Directive" class="code-anchor">Directive</a>({ selector: 'hero-detail' }) export class HeroDetailDirective extends <a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a> { constructor(elementRef: <a href="api/core/ElementRef" class="code-anchor">ElementRef</a>, injector: <a href="api/core/Injector" class="code-anchor">Injector</a>) { super('heroDetail', elementRef, injector); } }</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Directive" class="code-anchor"><span class="typ">Directive</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/ElementRef" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Injector" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/SimpleChanges" class="code-anchor"><span class="typ">SimpleChanges</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeComponent" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Directive" class="code-anchor"><span class="lit">Directive</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailDirective</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeComponent" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">elementRef</span><span class="pun">:</span><span class="pln"> </span><a href="api/core/ElementRef" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> injector</span><span class="pun">:</span><span class="pln"> </span><a href="api/core/Injector" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">super</span><span class="pun">(</span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln"> elementRef</span><span class="pun">,</span><span class="pln"> injector</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><code-example path="upgrade-module/src/app/upgrade-static/app.module.ts" region="hero-detail-upgrade" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">@<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a>, <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a> ], declarations: [ HeroDetailDirective, /* . . . */ ] }) export class AppModule { constructor(private upgrade: <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a>) { } ngDoBootstrap() { this.upgrade.bootstrap(document.body, ['heroApp'], { strictDi: true }); } }</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroDetailDirective</span><span class="pun">,</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">升级后的组件是 Angular 的<strong>指令</strong>，而不是<strong>组件</strong>，因为 Angular 不知道 AngularJS 将在它下面创建元素。 Angular 所知道的是升级后的组件只是一个指令（一个标签），Angular 不需要关心组件本身及其子元素。</p><p translation-origin="off">Upgraded components are Angular <strong>directives</strong>, instead of <strong>components</strong>, because Angular is unaware that AngularJS will create elements under it. As far as Angular knows, the upgraded component is just a directive - a tag - and Angular doesn't have to concern itself with its children.</p></div><p translation-result="on">升级后的组件也可能有输入属性和输出属性，它们是在原 AngularJS 组件型指令的 scope/controller 绑定中定义的。 当你从 Angular 模板中使用该组件时，就要使用<strong>Angular 模板语法</strong>来提供这些输入属性和输出属性，但要遵循下列规则：</p><p translation-origin="off">An upgraded component may also have inputs and outputs, as defined by the scope/controller bindings of the original AngularJS component directive. When you use the component from an Angular template, provide the inputs and outputs using <strong>Angular template syntax</strong>, observing the following rules:</p><table><tbody><tr><th></th><th><p translation-result="on">绑定定义</p><p translation-origin="off">Binding definition</p></th><th><p translation-result="on">模板语法</p><p translation-origin="off">Template syntax</p></th></tr><tr><th><p translation-result="on">属性(Attribute)绑定</p><p translation-origin="off">Attribute binding</p></th><td><p> <code>myAttribute: '@myAttribute'</code></p></td><td><p> <code>&lt;my-component myAttribute="value"&gt;</code></p></td></tr><tr><th><p translation-result="on">表达式绑定</p><p translation-origin="off">Expression binding</p></th><td><p> <code>myOutput: '&amp;myOutput'</code></p></td><td><p> <code>&lt;my-component (myOutput)="action()"&gt;</code></p></td></tr><tr><th><p translation-result="on">单向绑定</p><p translation-origin="off">One-way binding</p></th><td><p> <code>myValue: '&lt;myValue'</code></p></td><td><p> <code>&lt;my-component [myValue]="anExpression"&gt;</code></p></td></tr><tr><th><p translation-result="on">双向绑定</p><p translation-origin="off">Two-way binding</p></th><td><p> <code>myValue: '=myValue'</code></p></td><td><p translation-result="on">用作双向绑定：<code>&lt;my-component [(myValue)]="anExpression"&gt;</code>。 由于大多数 AngularJS 的双向绑定实际上只是单向绑定，因此通常写成 <code>&lt;my-component [myValue]="anExpression"&gt;</code> 也够用了。</p><p translation-origin="off">As a two-way binding: <code>&lt;my-component [(myValue)]="anExpression"&gt;</code>. Since most AngularJS two-way bindings actually only need a one-way binding in practice, <code>&lt;my-component [myValue]="anExpression"&gt;</code> is often enough.</p></td></tr></tbody></table><p translation-result="on">举个例子，假设 AngularJS 中有一个表示“英雄详情”的组件型指令，它带有一个输入属性和一个输出属性：</p><p translation-origin="off">For example, imagine a hero detail AngularJS component directive with one input and one output:</p><code-example path="upgrade-module/src/app/upgrade-io/hero-detail.component.ts" region="hero-detail-io" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">export const heroDetail = { bindings: { hero: '&lt;', deleted: '&amp;' }, template: ` &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt; &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt; &lt;button ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt; `, controller: function() { this.onDelete = () =&gt; { this.deleted(this.hero); }; } };</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  bindings</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;'</span><span class="pun">,</span><span class="pln">
    deleted</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt;
    &lt;button ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">onDelete </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><p translation-result="on">你可以把这个组件升级到 Angular，然后使用 Angular 的模板语法提供这个输入属性和输出属性：</p><p translation-origin="off">You can upgrade this component to Angular, annotate inputs and outputs in the upgrade directive, and then provide the input and output using Angular template syntax:</p><code-example path="upgrade-module/src/app/upgrade-io/hero-detail.component.ts" region="hero-detail-io-upgrade" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Directive" class="code-anchor">Directive</a>, <a href="api/core/ElementRef" class="code-anchor">ElementRef</a>, <a href="api/core/Injector" class="code-anchor">Injector</a>, <a href="api/core/Input" class="code-anchor">Input</a>, <a href="api/core/Output" class="code-anchor">Output</a>, <a href="api/core/EventEmitter" class="code-anchor">EventEmitter</a> } from '@angular/core'; import { <a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a> } from '@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>'; import { Hero } from '../hero'; @<a href="api/core/Directive" class="code-anchor">Directive</a>({ selector: 'hero-detail' }) export class HeroDetailDirective extends <a href="api/upgrade/static/UpgradeComponent" class="code-anchor">UpgradeComponent</a> { @<a href="api/core/Input" class="code-anchor">Input</a>() hero: Hero; @<a href="api/core/Output" class="code-anchor">Output</a>() deleted: <a href="api/core/EventEmitter" class="code-anchor">EventEmitter</a>&lt;Hero&gt;; constructor(elementRef: <a href="api/core/ElementRef" class="code-anchor">ElementRef</a>, injector: <a href="api/core/Injector" class="code-anchor">Injector</a>) { super('heroDetail', elementRef, injector); } }</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Directive" class="code-anchor"><span class="typ">Directive</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/ElementRef" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Injector" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Input" class="code-anchor"><span class="typ">Input</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Output" class="code-anchor"><span class="typ">Output</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/EventEmitter" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeComponent" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Directive" class="code-anchor"><span class="lit">Directive</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailDirective</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeComponent" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="lit">@</span><a href="api/core/Input" class="code-anchor"><span class="lit">Input</span></a><span class="pun">()</span><span class="pln"> hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
  </span><span class="lit">@</span><a href="api/core/Output" class="code-anchor"><span class="lit">Output</span></a><span class="pun">()</span><span class="pln"> deleted</span><span class="pun">:</span><span class="pln"> </span><a href="api/core/EventEmitter" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">elementRef</span><span class="pun">:</span><span class="pln"> </span><a href="api/core/ElementRef" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> injector</span><span class="pun">:</span><span class="pln"> </span><a href="api/core/Injector" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">super</span><span class="pun">(</span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln"> elementRef</span><span class="pun">,</span><span class="pln"> injector</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><code-example path="upgrade-module/src/app/upgrade-io/container.component.ts" header="container.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a> } from '@angular/core'; import { Hero } from '../hero'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'my-container', template: ` &lt;h1&gt;Tour of Heroes&lt;/h1&gt; &lt;hero-detail [hero]="hero" (deleted)="heroDeleted($event)"&gt; &lt;/hero-detail&gt; ` }) export class ContainerComponent { hero = new Hero(1, 'Windstorm'); heroDeleted(hero: Hero) { hero.name = 'Ex-' + hero.name; } }</div><header class="ng-star-inserted">container.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from container.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-container'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h1&gt;Tour of Heroes&lt;/h1&gt;
    &lt;hero-detail [hero]="hero"
                 (deleted)="heroDeleted($event)"&gt;
    &lt;/hero-detail&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ContainerComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  hero </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">);</span><span class="pln">
  heroDeleted</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Ex-'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><h3 id="projecting-angularjs-content-into-angular-components" translation-result="on">把 AngularJS 的内容投影到 Angular 组件中<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#projecting-angularjs-content-into-angular-components"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="projecting-angularjs-content-into-angular-components">Projecting AngularJS Content into Angular Components<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#projecting-angularjs-content-into-angular-components"><i class="material-icons">link</i></a></h3><img src="generated/images/guide/upgrade/ajs-to-a-with-projection.png" alt="Projecting AngularJS content into Angular" class="left" width="250" height="48"><p translation-result="on">如果你在 AngularJS 模板中使用降级后的 Angular 组件时，可能会需要把模板中的一些内容投影进那个组件。 这也是可能的，虽然在 Angular 中并没有透传(transclude)这样的东西，但它有一个非常相似的概念，叫做<em>内容投影</em>。 <code><a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a></code> 也能让这两个特性实现互操作。</p><p translation-origin="off">When you are using a downgraded Angular component from an AngularJS template, the need may arise to <em>transclude</em> some content into it. This is also possible. While there is no such thing as transclusion in Angular, there is a very similar concept called <em>content projection</em>. <code><a href="api/upgrade/static" class="code-anchor">upgrade/static</a></code> is able to make these two features interoperate.</p><p translation-result="on">Angular 的组件通过使用 <code>&lt;ng-content&gt;</code> 标签来支持内容投影。下面是这类组件的一个例子：</p><p translation-origin="off">Angular components that support content projection make use of an <code>&lt;ng-content&gt;</code> tag within them. Here's an example of such a component:</p><code-example path="upgrade-module/src/app/ajs-to-a-projection/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/Input" class="code-anchor">Input</a> } from '@angular/core'; import { Hero } from '../hero'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'hero-detail', template: ` &lt;h2&gt;{{hero.name}}&lt;/h2&gt; &lt;div&gt; &lt;ng-content&gt;&lt;/ng-content&gt; &lt;/div&gt; ` }) export class HeroDetailComponent { @<a href="api/core/Input" class="code-anchor">Input</a>() hero: Hero; }</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/Input" class="code-anchor"><span class="typ">Input</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{hero.name}}&lt;/h2&gt;
    &lt;div&gt;
      &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;/div&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="lit">@</span><a href="api/core/Input" class="code-anchor"><span class="lit">Input</span></a><span class="pun">()</span><span class="pln"> hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当从 AngularJS 中使用该组件时，你可以为它提供内容。正如它们将在 AngularJS 中被透传一样， 它们也在 Angular 中被投影到了 <code>&lt;ng-content&gt;</code> 标签所在的位置：</p><p translation-origin="off">When using the component from AngularJS, you can supply contents for it. Just like they would be transcluded in AngularJS, they get projected to the location of the <code>&lt;ng-content&gt;</code> tag in Angular:</p><code-example path="upgrade-module/src/index-ajs-to-a-projection.html" region="usecomponent" ng-version="10.0.0-next.5"><div style="display:none">&lt;div ng-controller="MainController as mainCtrl"&gt; &lt;hero-detail [hero]="mainCtrl.hero"&gt; &lt;!-- Everything here will get projected --&gt; &lt;p&gt;{{mainCtrl.hero.description}}&lt;/p&gt; &lt;/hero-detail&gt; &lt;/div&gt;</div><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;hero-detail</span><span class="pln"> [</span><span class="atn">hero</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"mainCtrl.hero"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="com">&lt;!-- Everything here will get projected --&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;</span><span class="pln">{{mainCtrl.hero.description}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;/hero-detail&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">当 AngularJS 的内容被投影到 Angular 组件中时，它仍然留在“AngularJS 王国”中，并被 AngularJS 框架管理着。</p><p translation-origin="off">When AngularJS content gets projected inside an Angular component, it still remains in "AngularJS land" and is managed by the AngularJS framework.</p></div><h3 id="transcluding-angular-content-into-angularjs-component-directives" translation-result="on">把 Angular 的内容透传进 AngularJS 的组件型指令<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#transcluding-angular-content-into-angularjs-component-directives"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="transcluding-angular-content-into-angularjs-component-directives">Transcluding Angular Content into AngularJS Component Directives<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#transcluding-angular-content-into-angularjs-component-directives"><i class="material-icons">link</i></a></h3><img src="generated/images/guide/upgrade/a-to-ajs-with-transclusion.png" alt="Projecting Angular content into AngularJS" class="left" width="250" height="48"><p translation-result="on">就像可以把 AngularJS 的内容投影进 Angular 组件一样，你也能把 Angular 的内容<em>透传</em>进 AngularJS 的组件， 但不管怎样，你都要使用它们升级过的版本。</p><p translation-origin="off">Just as you can project AngularJS content into Angular components, you can <em>transclude</em> Angular content into AngularJS components, whenever you are using upgraded versions from them.</p><p translation-result="on">如果一个 AngularJS 组件型指令支持透传，它就会在自己的模板中使用 <code>ng-transclude</code> 指令标记出透传到的位置：</p><p translation-origin="off">When an AngularJS component directive supports transclusion, it may use the <code>ng-transclude</code> directive in its template to mark the transclusion point:</p><code-example path="upgrade-module/src/app/a-to-ajs-transclusion/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">export const heroDetail = { bindings: { hero: '=' }, template: ` &lt;h2&gt;{{$ctrl.hero.name}}&lt;/h2&gt; &lt;div&gt; &lt;ng-transclude&gt;&lt;/ng-transclude&gt; &lt;/div&gt; `, transclude: true };</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  bindings</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.name}}&lt;/h2&gt;
    &lt;div&gt;
      &lt;ng-transclude&gt;&lt;/ng-transclude&gt;
    &lt;/div&gt;
  `</span><span class="pun">,</span><span class="pln">
  transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><p translation-result="on">如果你升级这个组件，并把它用在 Angular 中，你就能把准备透传的内容放进这个组件的标签中。</p><p translation-origin="off">If you upgrade this component and use it from Angular, you can populate the component tag with contents that will then get transcluded:</p><code-example path="upgrade-module/src/app/a-to-ajs-transclusion/container.component.ts" header="container.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a> } from '@angular/core'; import { Hero } from '../hero'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'my-container', template: ` &lt;hero-detail [hero]="hero"&gt; &lt;!-- Everything here will get transcluded --&gt; &lt;p&gt;{{hero.description}}&lt;/p&gt; &lt;/hero-detail&gt; ` }) export class ContainerComponent { hero = new Hero(1, 'Windstorm', 'Specific powers of controlling winds'); }</div><header class="ng-star-inserted">container.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from container.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-container'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;hero-detail [hero]="hero"&gt;
      &lt;!-- Everything here will get transcluded --&gt;
      &lt;p&gt;{{hero.description}}&lt;/p&gt;
    &lt;/hero-detail&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ContainerComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  hero </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Specific powers of controlling winds'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><h3 id="making-angularjs-dependencies-injectable-to-angular" translation-result="on">让 AngularJS 中的依赖可被注入到 Angular<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#making-angularjs-dependencies-injectable-to-angular"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="making-angularjs-dependencies-injectable-to-angular">Making AngularJS Dependencies Injectable to Angular<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#making-angularjs-dependencies-injectable-to-angular"><i class="material-icons">link</i></a></h3><p translation-result="on">当运行一个混合式应用时，可能会遇到这种情况：你需要把某些 AngularJS 的依赖注入到 Angular 代码中。 这可能是因为某些业务逻辑仍然在 AngularJS 服务中，或者需要某些 AngularJS 的内置服务，比如 <code>$location</code> 或 <code>$timeout</code>。</p><p translation-origin="off">When running a hybrid app, you may encounter situations where you need to inject some AngularJS dependencies into your Angular code. Maybe you have some business logic still in AngularJS services. Maybe you want access to AngularJS's built-in services like <code>$location</code> or <code>$timeout</code>.</p><p translation-result="on">在这些情况下，把一个 AngularJS 提供者<em>升级到</em>Angular 也是有可能的。这就让它将来有可能被注入到 Angular 代码中的某些地方。 比如，你可能在 AngularJS 中有一个名叫 <code>HeroesService</code> 的服务：</p><p translation-origin="off">In these situations, it is possible to <em>upgrade</em> an AngularJS provider to Angular. This makes it possible to then inject it somewhere in Angular code. For example, you might have a service called <code>HeroesService</code> in AngularJS:</p><code-example path="upgrade-module/src/app/ajs-to-a-providers/heroes.service.ts" header="heroes.service.ts" ng-version="10.0.0-next.5"><div style="display:none">import { Hero }&nbsp;from '../hero'; export class HeroesService { get() { return [ new Hero(1, 'Windstorm'), new Hero(2, 'Spiderman') ]; } }</div><header class="ng-star-inserted">heroes.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from heroes.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln">&nbsp;</span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">),</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Spiderman'</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">你可以用 Angular 的<a href="guide/dependency-injection-providers#factory-providers">工厂提供者</a>升级该服务， 它从 AngularJS 的 <code>$injector</code> 请求服务。</p><p translation-origin="off">You can upgrade the service using a Angular <a href="guide/dependency-injection-providers#factory-providers">factory provider</a> that requests the service from the AngularJS <code>$injector</code>.</p><p translation-result="on">很多开发者都喜欢在一个独立的 <code>ajs-upgraded-providers.ts</code> 中声明这个工厂提供者，以便把它们都放在一起，这样便于引用、创建新的以及在升级完毕时删除它们。</p><p translation-origin="off">Many developers prefer to declare the factory provider in a separate <code>ajs-upgraded-providers.ts</code> file so that they are all together, making it easier to reference them, create new ones and delete them once the upgrade is over.</p><p translation-result="on">同时，建议导出 <code>heroesServiceFactory</code> 函数，以便 AOT 编译器可以拿到它们。</p><p translation-origin="off">It's also recommended to export the <code>heroesServiceFactory</code> function so that Ahead-of-Time compilation can pick it up.</p><div class="alert is-helpful"><p translation-result="on"><strong>注意：</strong>这个工厂中的字符串 'heroes' 指向的是 AngularJS 的 <code>HeroesService</code>。 AngularJS 应用中通常使用服务名作为令牌，比如 'heroes'，并为其追加 'Service' 后缀来创建其类名。</p><p translation-origin="off"><strong>Note:</strong> The 'heroes' string inside the factory refers to the AngularJS <code>HeroesService</code>. It is common in AngularJS apps to choose a service name for the token, for example "heroes", and append the "Service" suffix to create the class name.</p></div><code-example path="upgrade-module/src/app/ajs-to-a-providers/ajs-upgraded-providers.ts" header="ajs-upgraded-providers.ts" ng-version="10.0.0-next.5"><div style="display:none">import { HeroesService } from './heroes.service'; export function heroesServiceFactory(i: any) { return i.get('heroes'); } export const heroesServiceProvider = { provide: HeroesService, useFactory: heroesServiceFactory, deps: ['$injector'] };</div><header class="ng-star-inserted">ajs-upgraded-providers.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from ajs-upgraded-providers.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> heroesServiceFactory</span><span class="pun">(</span><span class="pln">i</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> i</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'heroes'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroesServiceProvider </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pun">,</span><span class="pln">
  useFactory</span><span class="pun">:</span><span class="pln"> heroesServiceFactory</span><span class="pun">,</span><span class="pln">
  deps</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$injector'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><p translation-result="on">然后，你就可以把这个服务添加到 <code>@<a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 中来把它暴露给 Angular：</p><p translation-origin="off">You can then provide the service to Angular by adding it to the <code>@<a href="api/core/NgModule" class="code-anchor">NgModule</a></code>:</p><code-example path="upgrade-module/src/app/ajs-to-a-providers/app.module.ts" region="register" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { heroesServiceProvider } from './ajs-upgraded-providers'; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a>, <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a> ], providers: [ heroesServiceProvider ], /* . . . */ }) export class AppModule { constructor(private upgrade: <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a>) { } ngDoBootstrap() { this.upgrade.bootstrap(document.body, ['heroApp'], { strictDi: true }); } }</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> heroesServiceProvider </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./ajs-upgraded-providers'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    heroesServiceProvider
  </span><span class="pun">],</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">然后在组件的构造函数中使用该服务的类名作为类型注解注入到组件中，从而在组件中使用它：</p><p translation-origin="off">Then use the service inside your component by injecting it in the component constructor using its class as a type annotation:</p><code-example path="upgrade-module/src/app/ajs-to-a-providers/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a> } from '@angular/core'; import { HeroesService } from './heroes.service'; import { Hero } from '../hero'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'hero-detail', template: ` &lt;h2&gt;{{hero.id}}: {{hero.name}}&lt;/h2&gt; ` }) export class HeroDetailComponent { hero: Hero; constructor(heroes: HeroesService) { this.hero = heroes.get()[0]; } }</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{hero.id}}: {{hero.name}}&lt;/h2&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">heroes</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero </span><span class="pun">=</span><span class="pln"> heroes</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">()[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><div class="alert is-helpful"><p translation-result="on">在这个例子中，你升级了服务类。当注入它时，你可以使用 TypeScript 类型注解来获得这些额外的好处。 它没有影响该依赖的处理过程，同时还得到了启用静态类型检查的好处。 任何 AngularJS 中的服务、工厂和提供者都能被升级 —— 尽管这不是必须的。</p><p translation-origin="off">In this example you upgraded a service class. You can use a TypeScript type annotation when you inject it. While it doesn't affect how the dependency is handled, it enables the benefits of static type checking. This is not required though, and any AngularJS service, factory, or provider can be upgraded.</p></div><h3 id="making-angular-dependencies-injectable-to-angularjs" translation-result="on">让 Angular 的依赖能被注入到 AngularJS 中<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#making-angular-dependencies-injectable-to-angularjs"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="making-angular-dependencies-injectable-to-angularjs">Making Angular Dependencies Injectable to AngularJS<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#making-angular-dependencies-injectable-to-angularjs"><i class="material-icons">link</i></a></h3><p translation-result="on">除了能升级 AngularJS 依赖之外，你还能<em>降级</em>Angular 的依赖，以便在 AngularJS 中使用它们。 当你已经开始把服务移植到 Angular 或在 Angular 中创建新服务，但同时还有一些用 AngularJS 写成的组件时，这会非常有用。</p><p translation-origin="off">In addition to upgrading AngularJS dependencies, you can also <em>downgrade</em> Angular dependencies, so that you can use them from AngularJS. This can be useful when you start migrating services to Angular or creating new services in Angular while retaining components written in AngularJS.</p><p translation-result="on">例如，你可能有一个 Angular 的 <code>Heroes</code> 服务：</p><p translation-origin="off">For example, you might have an Angular service called <code>Heroes</code>:</p><code-example path="upgrade-module/src/app/a-to-ajs-providers/heroes.ts" header="heroes.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Injectable" class="code-anchor">Injectable</a> } from '@angular/core'; import { Hero }&nbsp;from '../hero'; @<a href="api/core/Injectable" class="code-anchor">Injectable</a>() export class Heroes { get() { return [ new Hero(1, 'Windstorm'), new Hero(2, 'Spiderman') ]; } }</div><header class="ng-star-inserted">heroes.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from heroes.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln">&nbsp;</span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">()</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">),</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Spiderman'</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">仿照 Angular 组件，把该提供者加入 <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> 的 <code>providers</code> 列表中，以注册它。</p><p translation-origin="off">Again, as with Angular components, register the provider with the <code><a href="api/core/NgModule" class="code-anchor">NgModule</a></code> by adding it to the module's <code>providers</code> list.</p><code-example path="upgrade-module/src/app/a-to-ajs-providers/app.module.ts" region="ngmodule" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { Heroes } from './heroes'; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a>, <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a> ], providers: [ Heroes ] }) export class AppModule { constructor(private upgrade: <a href="api/upgrade/static/UpgradeModule" class="code-anchor">UpgradeModule</a>) { } ngDoBootstrap() { this.upgrade.bootstrap(document.body, ['heroApp'], { strictDi: true }); } }</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/platform-browser/BrowserModule" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="api/upgrade/static/UpgradeModule" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">现在，用 <code><a href="api/upgrade/static/downgradeInjectable" class="code-anchor">downgradeInjectable</a>()</code> 来把 Angular 的 <code>Heroes</code> 包装成<em>AngularJS 的工厂函数</em>，并把这个工厂注册进 AngularJS 的模块中。 依赖在 AngularJS 中的名字你可以自己定：</p><p translation-origin="off">Now wrap the Angular <code>Heroes</code> in an <em>AngularJS factory function</em> using <code><a href="api/upgrade/static/downgradeInjectable" class="code-anchor">downgradeInjectable</a>()</code> and plug the factory into an AngularJS module. The name of the AngularJS dependency is up to you:</p><code-example path="upgrade-module/src/app/a-to-ajs-providers/app.module.ts" region="register" header="app.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { Heroes } from './heroes'; /* . . . */ import { <a href="api/upgrade/static/downgradeInjectable" class="code-anchor">downgradeInjectable</a> } from '@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>'; angular.module('heroApp', []) .factory('heroes', <a href="api/upgrade/static/downgradeInjectable" class="code-anchor">downgradeInjectable</a>(Heroes)) .component('heroDetail', heroDetailComponent);</div><header class="ng-star-inserted">app.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes'</span><span class="pun">;</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/upgrade/static/downgradeInjectable" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'heroApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> </span><a href="api/upgrade/static/downgradeInjectable" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pun">(</span><span class="typ">Heroes</span><span class="pun">))</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">component</span><span class="pun">(</span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln"> heroDetailComponent</span><span class="pun">);</span></code>
    </pre></aio-code></code-example><p translation-result="on">此后，该服务就能被注入到 AngularJS 代码中的任何地方了：</p><p translation-origin="off">After this, the service is injectable anywhere in AngularJS code:</p><code-example path="upgrade-module/src/app/a-to-ajs-providers/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="10.0.0-next.5"><div style="display:none">export const heroDetailComponent = { template: ` &lt;h2&gt;{{$ctrl.hero.id}}: {{$ctrl.hero.name}}&lt;/h2&gt; `, controller: ['heroes', function(heroes: Heroes) { this.hero = heroes.get()[0]; }] };</div><header class="ng-star-inserted">hero-detail.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetailComponent </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.id}}: {{$ctrl.hero.name}}&lt;/h2&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">heroes</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero </span><span class="pun">=</span><span class="pln"> heroes</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">()[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><h2 id="lazy-loading-angularjs" translation-result="on">惰性加载 AngularJS<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#lazy-loading-angularjs"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="lazy-loading-angularjs">Lazy Loading AngularJS<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#lazy-loading-angularjs"><i class="material-icons">link</i></a></h2><p translation-result="on">在构建应用时，你需要确保只在必要的时候才加载所需的资源，无论是加载静态资产（Asset）还是代码。要确保任何事都尽量推迟到必要时才去做，以便让应用更高效的运行。当要在同一个应用中运行不同的框架时，更是如此。</p><p translation-origin="off">When building applications, you want to ensure that only the required resources are loaded when necessary. Whether that be loading of assets or code, making sure everything that can be deferred until needed keeps your application running efficiently. This is especially true when running different frameworks in the same application.</p><p translation-result="on"><a href="guide/glossary#lazy-loading">惰性加载</a>是一项技术，它会推迟到使用时才加载所需静态资产和代码资源。这可以减少启动时间、提高效率，特别是要在同一个应用中运行不同的框架时。</p><p translation-origin="off"><a href="guide/glossary#lazy-loading">Lazy loading</a> is a technique that defers the loading of required assets and code resources until they are actually used. This reduces startup time and increases efficiency, especially when running different frameworks in the same application.</p><p translation-result="on">当你采用混合式应用的方式将大型应用从 AngularJS 迁移到 Angular 时，你首先要迁移一些最常用的特性，并且只在必要的时候才使用那些不太常用的特性。这样做有助于确保应用程序在迁移过程中仍然能为用户提供无缝的体验。</p><p translation-origin="off">When migrating large applications from AngularJS to Angular using a hybrid approach, you want to migrate some of the most commonly used features first, and only use the less commonly used features if needed. Doing so helps you ensure that the application is still providing a seamless experience for your users while you are migrating.</p><p translation-result="on">在大多数需要同时用 Angular 和 AngularJS 渲染应用的环境中，这两个框架都会包含在发送给客户端的初始发布包中。这会导致发布包的体积增大、性能降低。</p><p translation-origin="off">In most environments where both Angular and AngularJS are used to render the application, both frameworks are loaded in the initial bundle being sent to the client. This results in both increased bundle size and possible reduced performance.</p><p translation-result="on">当用户停留在由 Angular 渲染的页面上时，应用的整体性能也会受到影响。这是因为 AngularJS 的框架和应用仍然被加载并运行了 —— 即使它们从未被访问过。</p><p translation-origin="off">Overall application performance is affected in cases where the user stays on Angular-rendered pages because the AngularJS framework and application are still loaded and running, even if they are never accessed.</p><p translation-result="on">你可以采取一些措施来缓解这些包的大小和性能问题。通过把 AngularJS 应用程序分离到一个单独的发布包中，你就可以利用<a href="guide/glossary#lazy-loading">惰性加载</a>技术来只在必要的时候才加载、引导和渲染这个 AngularJS 应用。这种策略减少了你的初始发布包大小，推迟了同时加载两个框架的潜在影响 —— 直到绝对必要时才加载，以便让你的应用尽可能高效地运行。</p><p translation-origin="off">You can take steps to mitigate both bundle size and performance issues. By isolating your AngularJS app to a separate bundle, you can take advantage of <a href="guide/glossary#lazy-loading">lazy loading</a> to load, bootstrap, and render the AngularJS application only when needed. This strategy reduces your initial bundle size, defers any potential impact from loading both frameworks until absolutely necessary, and keeps your application running as efficiently as possible.</p><p translation-result="on">下面的步骤介绍了应该如何去做：</p><p translation-origin="off">The steps below show you how to do the following:</p><ul><li><p translation-result="on">为 AngularJS 发布包设置一个回调函数。</p><p translation-origin="off">Setup a callback function for your AngularJS bundle.</p></li><li><p translation-result="on">创建一个服务，以便惰性加载并引导你的 AngularJS 应用。</p><p translation-origin="off">Create a service that lazy loads and bootstraps your AngularJS app.</p></li><li><p translation-result="on">为 AngularJS 的内容创建一个可路由的组件</p><p translation-origin="off">Create a routable component for AngularJS content</p></li><li><p translation-result="on">为 AngularJS 特有的 URL 创建自定义的 <code>matcher</code> 函数，并为 AngularJS 的各个路由配上带有自定义匹配器的 Angular 路由器。</p><p translation-origin="off">Create a custom <code>matcher</code> function for AngularJS-specific URLs and configure the Angular <code><a href="api/router/Router" class="code-anchor">Router</a></code> with the custom matcher for AngularJS routes.</p></li></ul><h3 id="create-a-service-to-lazy-load-angularjs" translation-result="on">为惰性加载 AngularJS 创建一个服务<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#create-a-service-to-lazy-load-angularjs"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="create-a-service-to-lazy-load-angularjs">Create a service to lazy load AngularJS<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#create-a-service-to-lazy-load-angularjs"><i class="material-icons">link</i></a></h3><p translation-result="on">在 Angular 的版本 8 中，惰性加载代码只需使用动态导入语法 <code>import('...')</code> 即可。在这个应用中，你创建了一个新服务，它使用动态导入技术来惰性加载 AngularJS。</p><p translation-origin="off">As of Angular version 8, lazy loading code can be accomplished simply by using the dynamic import syntax <code>import('...')</code>. In your application, you create a new service that uses dynamic imports to lazy load AngularJS.</p><code-example path="upgrade-lazy-load-ajs/src/app/lazy-loader.service.ts" header="src/app/lazy-loader.service.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Injectable" class="code-anchor">Injectable</a> } from '@angular/core'; import * as angular from 'angular'; @<a href="api/core/Injectable" class="code-anchor">Injectable</a>({ providedIn: 'root' }) export class LazyLoaderService { private app: angular.auto.IInjectorService; load(el: HTMLElement): void { import('./angularjs-app').then(app =&gt; { try { this.app = app.bootstrap(el); } catch (e) { console.error(e); } }); } destroy() { if (this.app) { this.app.get('$rootScope').$destroy(); } } }</div><header class="ng-star-inserted">src/app/lazy-loader.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/lazy-loader.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'angular'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">LazyLoaderService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> app</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">auto</span><span class="pun">.</span><span class="typ">IInjectorService</span><span class="pun">;</span><span class="pln">

  load</span><span class="pun">(</span><span class="pln">el</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HTMLElement</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./angularjs-app'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">app </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">app </span><span class="pun">=</span><span class="pln"> app</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">el</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  destroy</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">app</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">app</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'$rootScope'</span><span class="pun">).</span><span class="pln">$destroy</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">该服务使用 <code>import()</code> 方法惰性加载打包好的 AngularJS 应用。这会减少应用初始包的大小，因为你尚未加载用户目前不需要的代码。你还要提供一种方法，在加载完毕后手动<em>启动</em>它。AngularJS 提供了一种使用 <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap">angular.bootstrap()</a> 方法并传入一个 HTML 元素来手动引导应用的方法。你的 AngularJS 应用也应该公开一个用来引导 AngularJS 应用的 <code>bootstrap</code> 方法。</p><p translation-origin="off">The service uses the <code>import()</code> method to load your bundled AngularJS application lazily. This decreases the initial bundle size of your application as you're not loading code your user doesn't need yet. You also need to provide a way to <em>bootstrap</em> the application manually after it has been loaded. AngularJS provides a way to manually bootstrap an application using the <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap">angular.bootstrap()</a> method with a provided HTML element. Your AngularJS app should also expose a <code>bootstrap</code> method that bootstraps the AngularJS app.</p><p translation-result="on">要确保 AngularJS 应用中的任何清理工作都触发过（比如移除全局监听器），你还可以实现一个方法来调用 <code>$rootScope.destroy()</code> 方法。</p><p translation-origin="off">To ensure any necessary teardown is triggered in the AngularJS app, such as removal of global listeners, you also implement a method to call the <code>$rootScope.destroy()</code> method.</p><code-example path="upgrade-lazy-load-ajs/src/app/angularjs-app/index.ts" header="angularjs-app" ng-version="10.0.0-next.5"><div style="display:none">import * as angular from 'angular'; import 'angular-route'; const appName = 'myApp'; angular.module(appName, [ 'ngRoute' ]) .config(['$routeProvider', '$locationProvider', function config($routeProvider, $locationProvider) { $locationProvider.html5Mode(true); $routeProvider. when('/users', { template: ` &lt;p&gt; Users Page &lt;/p&gt; ` }). otherwise({ template: '' }); }] ); export function bootstrap(el: HTMLElement) { return angular.bootstrap(el, [appName]); }</div><header class="ng-star-inserted">angularjs-app</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from angularjs-app">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'angular'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="str">'angular-route'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appName </span><span class="pun">=</span><span class="pln"> </span><span class="str">'myApp'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="pln">appName</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">'ngRoute'</span><span class="pln">
</span><span class="pun">])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">config</span><span class="pun">([</span><span class="str">'$routeProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$locationProvider'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> config</span><span class="pun">(</span><span class="pln">$routeProvider</span><span class="pun">,</span><span class="pln"> $locationProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

    $routeProvider</span><span class="pun">.</span><span class="pln">
      </span><span class="kwd">when</span><span class="pun">(</span><span class="str">'/users'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
          &lt;p&gt;
            Users Page
          &lt;/p&gt;
        `</span><span class="pln">
      </span><span class="pun">}).</span><span class="pln">
      otherwise</span><span class="pun">({</span><span class="pln">
        </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> bootstrap</span><span class="pun">(</span><span class="pln">el</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HTMLElement</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">  </span><span class="pun">[</span><span class="pln">appName</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">你的 AngularJS 应用只配置了渲染内容所需的那部分路由。而 Angular 路由器会处理应用中其余的路由。你的 Angular 应用中会调用公开的 <code>bootstrap</code> 方法，让它在加载完发布包之后引导 AngularJS 应用。</p><p translation-origin="off">Your AngularJS application is configured with only the routes it needs to render content. The remaining routes in your application are handled by the Angular Router. The exposed <code>bootstrap</code> method is called in your Angular app to bootstrap the AngularJS application after the bundle is loaded.</p><div class="alert is-important"><p translation-result="on"><strong>注意：</strong>当 AngularJS 加载并引导完毕后，监听器（比如路由配置中的那些监听器）会继续监听路由的变化。为了确保当 AngularJS 尚未显示时先关闭监听器，请在 <a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider">$routeProvider</a> 中配置一个渲染空模板 <code>otherwise</code> 选项。这里假设 Angular 将处理所有其它路由。</p><p translation-origin="off"><strong>Note:</strong> After AngularJS is loaded and bootstrapped, listeners such as those wired up in your route configuration will continue to listen for route changes. To ensure listeners are shut down when AngularJS isn't being displayed, configure an <code>otherwise</code> option with the <a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider">$routeProvider</a> that renders an empty template. This assumes all other routes will be handled by Angular.</p></div><h3 id="create-a-component-to-render-angularjs-content" translation-result="on">创建一个用来渲染 AngularJS 内容的组件<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#create-a-component-to-render-angularjs-content"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="create-a-component-to-render-angularjs-content">Create a component to render AngularJS content<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#create-a-component-to-render-angularjs-content"><i class="material-icons">link</i></a></h3><p translation-result="on">在 Angular 应用中，你需要一个组件作为 AngularJS 内容的占位符。该组件使用你创建的服务，并在组件初始化完成后加载并引导你的 AngularJS 应用。</p><p translation-origin="off">In your Angular application, you need a component as a placeholder for your AngularJS content. This component uses the service you create to load and bootstrap your AngularJS app after the component is initialized.</p><code-example path="upgrade-lazy-load-ajs/src/app/angular-js/angular-js.component.ts" header="src/app/angular-js/angular-js.component.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/OnInit" class="code-anchor">OnInit</a>, <a href="api/core/OnDestroy" class="code-anchor">OnDestroy</a>, <a href="api/core/ElementRef" class="code-anchor">ElementRef</a> } from '@angular/core'; import { LazyLoaderService } from '../lazy-loader.service'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'app-angular-js', template: '&lt;div ng-view&gt;&lt;/div&gt;' }) export class AngularJSComponent implements <a href="api/core/OnInit" class="code-anchor">OnInit</a>, <a href="api/core/OnDestroy" class="code-anchor">OnDestroy</a> { constructor( private lazyLoader: LazyLoaderService, private elRef: <a href="api/core/ElementRef" class="code-anchor">ElementRef</a> ) {} ngOnInit() { this.lazyLoader.load(this.elRef.nativeElement); } ngOnDestroy() { this.lazyLoader.destroy(); } }</div><header class="ng-star-inserted">src/app/angular-js/angular-js.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/angular-js/angular-js.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/OnDestroy" class="code-anchor"><span class="typ">OnDestroy</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/ElementRef" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">LazyLoaderService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../lazy-loader.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-angular-js'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;div ng-view&gt;&lt;/div&gt;'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AngularJSComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/OnDestroy" class="code-anchor"><span class="typ">OnDestroy</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> lazyLoader</span><span class="pun">:</span><span class="pln"> </span><span class="typ">LazyLoaderService</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> elRef</span><span class="pun">:</span><span class="pln"> </span><a href="api/core/ElementRef" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pln">
  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lazyLoader</span><span class="pun">.</span><span class="pln">load</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">elRef</span><span class="pun">.</span><span class="pln">nativeElement</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">


  ngOnDestroy</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lazyLoader</span><span class="pun">.</span><span class="pln">destroy</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当 Angular 的路由器匹配到使用 AngularJS 的路由时，会渲染 <code>AngularJSComponent</code>，并在 AngularJS 的 <a href="https://docs.angularjs.org/api/ngRoute/directive/ngView"><code>ng-view</code></a>指令中渲染内容。当用户导航离开本路由时，<code>$rootScope</code> 会在 AngularJS 应用中被销毁。</p><p translation-origin="off">When the Angular Router matches a route that uses AngularJS, the <code>AngularJSComponent</code> is rendered, and the content is rendered within the AngularJS <a href="https://docs.angularjs.org/api/ngRoute/directive/ngView"><code>ng-view</code></a>directive. When the user navigates away from the route, the <code>$rootScope</code> is destroyed on the AngularJS application.</p><h3 id="configure-a-custom-route-matcher-for-angularjs-routes" translation-result="on">为那些 AngularJS 路由配置自定义路由匹配器<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#configure-a-custom-route-matcher-for-angularjs-routes"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="configure-a-custom-route-matcher-for-angularjs-routes">Configure a custom route matcher for AngularJS routes<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#configure-a-custom-route-matcher-for-angularjs-routes"><i class="material-icons">link</i></a></h3><p translation-result="on">为了配置 Angular 的路由器，你必须为 AngularJS 的 URL 定义路由。要匹配这些 URL，你需要添加一个使用 <code>matcher</code> 属性的路由配置。这个 <code>matcher</code> 允许你使用自定义模式来匹配这些 URL 路径。Angular 的路由器会首先尝试匹配更具体的路由，比如静态路由和可变路由。当它找不到匹配项时，就会求助于路由配置中的自定义匹配器。如果自定义匹配器与某个路由不匹配，它就会转到用于 "捕获所有"（catch-all）的路由，比如 404 页面。</p><p translation-origin="off">To configure the Angular Router, you must define a route for AngularJS URLs. To match those URLs, you add a route configuration that uses the <code>matcher</code> property. The <code>matcher</code> allows you to use custom pattern matching for URL paths. The Angular Router tries to match on more specific routes such as static and variable routes first. When it doesn't find a match, it then looks at custom matchers defined in your route configuration. If the custom matchers don't match a route, it then goes to catch-all routes, such as a 404 page.</p><p translation-result="on">下面的例子给 AngularJS 路由定义了一个自定义匹配器函数。</p><p translation-origin="off">The following example defines a custom matcher function for AngularJS routes.</p><code-example path="upgrade-lazy-load-ajs/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts" region="matcher" ng-version="10.0.0-next.5"><div style="display:none">export function isAngularJSUrl(url: <a href="api/router/UrlSegment" class="code-anchor">UrlSegment</a>[]) { return url.length &gt; 0 &amp;&amp; url[0].path.startsWith('users') ? ({consumed: url}) : null; }</div><header class="ng-star-inserted">src/app/app-routing.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> isAngularJSUrl</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/UrlSegment" class="code-anchor"><span class="typ">UrlSegment</span></a><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> url</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">path</span><span class="pun">.</span><span class="pln">startsWith</span><span class="pun">(</span><span class="str">'users'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">({</span><span class="pln">consumed</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">})</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">下列代码往你的路由配置中添加了一个路由对象，其 <code>matcher</code> 属性是这个自定义匹配器，而 <code>component</code> 属性为 <code>AngularJSComponent</code>。</p><p translation-origin="off">The following code adds a route object to your routing configuration using the <code>matcher</code> property and custom matcher, and the <code>component</code> property with <code>AngularJSComponent</code>.</p><code-example path="upgrade-lazy-load-ajs/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts" ng-version="10.0.0-next.5"><div style="display:none">import { <a href="api/core/NgModule" class="code-anchor">NgModule</a> } from '@angular/core'; import { <a href="api/router/Routes" class="code-anchor">Routes</a>, <a href="api/router/RouterModule" class="code-anchor">RouterModule</a>, <a href="api/router/UrlSegment" class="code-anchor">UrlSegment</a> } from '@angular/router'; import { AngularJSComponent } from './angular-js/angular-js.component'; import { HomeComponent } from './home/home.component'; import { App404Component } from './app404/app404.component'; // Match any URL that starts with `users` export function isAngularJSUrl(url: <a href="api/router/UrlSegment" class="code-anchor">UrlSegment</a>[]) { return url.length &gt; 0 &amp;&amp; url[0].path.startsWith('users') ? ({consumed: url}) : null; } export const routes: <a href="api/router/Routes" class="code-anchor">Routes</a> = [ // <a href="api/router/Routes" class="code-anchor">Routes</a> rendered by Angular { path: '', component: HomeComponent }, // AngularJS routes { matcher: isAngularJSUrl, component: AngularJSComponent }, // Catch-all route { path: '**', component: App404Component } ]; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [RouterModule.forRoot(routes)], exports: [<a href="api/router/RouterModule" class="code-anchor">RouterModule</a>] }) export class AppRoutingModule { }</div><header class="ng-star-inserted">src/app/app-routing.module.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/NgModule" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/router/Routes" class="code-anchor"><span class="typ">Routes</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/router/UrlSegment" class="code-anchor"><span class="typ">UrlSegment</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AngularJSComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./angular-js/angular-js.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./home/home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">App404Component</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app404/app404.component'</span><span class="pun">;</span><span class="pln">

</span><span class="com">// Match any URL that starts with `users`</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> isAngularJSUrl</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/UrlSegment" class="code-anchor"><span class="typ">UrlSegment</span></a><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> url</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">path</span><span class="pun">.</span><span class="pln">startsWith</span><span class="pun">(</span><span class="str">'users'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">({</span><span class="pln">consumed</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">})</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> routes</span><span class="pun">:</span><span class="pln"> </span><a href="api/router/Routes" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="com">// </span><a href="api/router/Routes" class="code-anchor"><span class="com">Routes</span></a><span class="com"> rendered by Angular</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HomeComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

  </span><span class="com">// AngularJS routes</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> matcher</span><span class="pun">:</span><span class="pln"> isAngularJSUrl</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AngularJSComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

  </span><span class="com">// Catch-all route</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">App404Component</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">routes</span><span class="pun">)],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><a href="api/router/RouterModule" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当你的应用匹配上需要 AngularJS 的路由时，AngularJS 应用就会被加载并引导。AngularJS 路由会匹配必要的 URL 以渲染它们的内容，而接下来你的应用就会同时运行 AngularJS 和 Angular 框架。</p><p translation-origin="off">When your application matches a route that needs AngularJS, the AngularJS app is loaded and bootstrapped, the AngularJS routes match the necessary URL to render their content, and your application continues to run with both AngularJS and Angular frameworks.</p><h2 id="using-the-unified-angular-location-service" translation-result="on">使用统一的 Angular 位置服务（Location）<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-the-unified-angular-location-service"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="using-the-unified-angular-location-service">Using the Unified Angular Location Service<a title="Link to this heading" class="header-link" aria-hidden="true" href="guide/upgrade#using-the-unified-angular-location-service"><i class="material-icons">link</i></a></h2><p translation-result="on">在 AngularJS 中，<a href="https://docs.angularjs.org/api/ng/service/$location">$location 服务</a>会处理所有路由配置和导航工作，并对各个 URL 进行编码和解码、重定向、以及与浏览器 API 交互。Angular 在所有这些任务中都使用了自己的底层服务 <code><a href="api/common/Location" class="code-anchor">Location</a></code>。</p><p translation-origin="off">In AngularJS, the <a href="https://docs.angularjs.org/api/ng/service/$location">$location service</a> handles all routing configuration and navigation, encoding and decoding of URLS, redirects, and interactions with browser APIs. Angular uses its own underlying <code><a href="api/common/Location" class="code-anchor">Location</a></code> service for all of these tasks.</p><p translation-result="on">当你从 AngularJS 迁移到 Angular 时，你会希望把尽可能多的责任移交给 Angular，以便利用新的 API。为了帮你完成这种转换，Angular 提供了 <code><a href="api/common/upgrade/LocationUpgradeModule" class="code-anchor">LocationUpgradeModule</a></code>。该模块支持<em>统一</em>位置服务，可以把 AngularJS 中 <code>$location</code> 服务的职责转给 Angular 的 <code><a href="api/common/Location" class="code-anchor">Location</a></code> 服务。</p><p translation-origin="off">When you migrate from AngularJS to Angular you will want to move as much responsibility as possible to Angular, so that you can take advantage of new APIs. To help with the transition, Angular provides the <code><a href="api/common/upgrade/LocationUpgradeModule" class="code-anchor">LocationUpgradeModule</a></code>. This module enables a <em>unified</em> location service that shifts responsibilities from the AngularJS <code>$location</code> service to the Angular <code><a href="api/common/Location" class="code-anchor">Location</a></code> service.</p><p translation-result="on">要使用 <code><a href="api/common/upgrade/LocationUpgradeModule" class="code-anchor">LocationUpgradeModule</a></code>，就会从 <code>@angular/common/upgrade</code> 中导入此符号，并使用静态方法 <code><a href="api/common/upgrade/LocationUpgradeModule#config" class="code-anchor">LocationUpgradeModule.config()</a></code> 把它添加到你的 <code>AppModule</code> 导入表（<code>imports</code>）中。</p><p translation-origin="off">To use the <code><a href="api/common/upgrade/LocationUpgradeModule" class="code-anchor">LocationUpgradeModule</a></code>, import the symbol from <code>@angular/common/upgrade</code> and add it to your <code>AppModule</code> imports using the static <code><a href="api/common/upgrade/LocationUpgradeModule#config" class="code-anchor">LocationUpgradeModule.config()</a></code> method.</p><code-example language="ts" ng-version="10.0.0-next.5"><div style="display:none">// Other imports ... import { <a href="api/common/upgrade/LocationUpgradeModule" class="code-anchor">LocationUpgradeModule</a> } from '@angular/common/upgrade'; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ // Other <a href="api/core/NgModule" class="code-anchor">NgModule</a> imports... LocationUpgradeModule.config() ] }) export class AppModule {}</div><aio-code><pre class="lang-ts prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">// Other imports ...</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/upgrade/LocationUpgradeModule" class="code-anchor"><span class="typ">LocationUpgradeModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> from </span><span class="str">'@angular/common/upgrade'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="com">// Other </span><a href="api/core/NgModule" class="code-anchor"><span class="com">NgModule</span></a><span class="com"> imports...</span><span class="pln">
    </span><span class="typ">LocationUpgradeModule</span><span class="pun">.</span><span class="pln">config</span><span class="pun">()</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code><a href="api/common/upgrade/LocationUpgradeModule#config" class="code-anchor">LocationUpgradeModule.config()</a></code> 方法接受一个配置对象，该对象的 <code>useHash</code> 为 <code><a href="api/common/LocationStrategy" class="code-anchor">LocationStrategy</a></code>，<code>hashPrefix</code> 为 URL 前缀。</p><p translation-origin="off">The <code><a href="api/common/upgrade/LocationUpgradeModule#config" class="code-anchor">LocationUpgradeModule.config()</a></code> method accepts a configuration object that allows you to configure options including the <code><a href="api/common/LocationStrategy" class="code-anchor">LocationStrategy</a></code> with the <code>useHash</code> property, and the URL prefix with the <code>hashPrefix</code> property.</p><p translation-result="on"><code>useHash</code> 属性默认为 <code>false</code>，而 <code>hashPrefix</code> 默认为空 <code>string</code>。传递配置对象可以覆盖默认值。</p><p translation-origin="off">The <code>useHash</code> property defaults to <code>false</code>, and the <code>hashPrefix</code> defaults to an empty <code>string</code>. Pass the configuration object to override the defaults.</p><code-example language="ts" ng-version="10.0.0-next.5"><div style="display:none">LocationUpgradeModule.config({ useHash: true, hashPrefix: '!' })</div><aio-code><pre class="lang-ts prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="typ">LocationUpgradeModule</span><span class="pun">.</span><span class="pln">config</span><span class="pun">({</span><span class="pln">
  useHash</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
  hashPrefix</span><span class="pun">:</span><span class="pln"> </span><span class="str">'!'</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example><div class="alert is-important"><p translation-result="on"><strong>注意：</strong>有关 <code><a href="api/common/upgrade/LocationUpgradeModule#config" class="code-anchor">LocationUpgradeModule.config()</a></code> 方法的更多可用配置项，请参阅 <code><a href="api/common/upgrade/LocationUpgradeConfig" class="code-anchor">LocationUpgradeConfig</a></code>。</p><p translation-origin="off"><strong>Note:</strong> See the <code><a href="api/common/upgrade/LocationUpgradeConfig" class="code-anchor">LocationUpgradeConfig</a></code> for more configuration options available to the <code><a href="api/common/upgrade/LocationUpgradeModule#config" class="code-anchor">LocationUpgradeModule.config()</a></code> method.</p></div><p translation-result="on">这会为 AngularJS 中的 <code>$location</code> 提供者注册一个替代品。一旦注册成功，导航过程中所有由 AngularJS 触发的导航、路由广播消息以及任何必需的变更检测周期都会改由 Angular 进行处理。这样，你就可以通过这个唯一的途径在此混合应用的两个框架间进行导航了。</p><p translation-origin="off">This registers a drop-in replacement for the <code>$location</code> provider in AngularJS. Once registered, all navigation, routing broadcast messages, and any necessary digest cycles in AngularJS triggered during navigation are handled by Angular. This gives you a single way to navigate within both sides of your hybrid application consistently.</p><p translation-result="on">要想在 AngularJS 中使用 <code>$location</code> 服务作为提供者，你需要使用一个工厂提供者来降级 <code><a href="api/common/upgrade/$locationShim" class="code-anchor">$locationShim</a></code>。</p><p translation-origin="off">For usage of the <code>$location</code> service as a provider in AngularJS, you need to downgrade the <code><a href="api/common/upgrade/$locationShim" class="code-anchor">$locationShim</a></code> using a factory provider.</p><code-example language="ts" ng-version="10.0.0-next.5"><div style="display:none">// Other imports ... import { $locationShim } from '@angular/common/upgrade'; import { <a href="api/upgrade/static/downgradeInjectable" class="code-anchor">downgradeInjectable</a> } from '@angular/upgrade/<a href="api/upgrade/static" class="code-anchor">static</a>'; angular.module('myHybridApp', [...]) .factory('$location', <a href="api/upgrade/static/downgradeInjectable" class="code-anchor">downgradeInjectable</a>($locationShim));</div><aio-code><pre class="lang-ts prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">// Other imports ...</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $locationShim </span><span class="pun">}</span><span class="pln"> from </span><span class="str">'@angular/common/upgrade'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/upgrade/static/downgradeInjectable" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> from </span><span class="str">'@angular/upgrade/</span><a href="api/upgrade/static" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myHybridApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[...])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'$location'</span><span class="pun">,</span><span class="pln"> </span><a href="api/upgrade/static/downgradeInjectable" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pun">(</span><span class="pln">$locationShim</span><span class="pun">));</span></code>
    </pre></aio-code></code-example><p translation-result="on">一旦引入了 Angular 路由器，你只要使用 Angular 路由器就可以通过统一位置服务来触发导航了，同时，你仍然可以通过 AngularJS 和 Angular 进行导航。</p><p translation-origin="off">Once you introduce the Angular Router, using the Angular Router triggers navigations through the unified location service, still providing a single source for navigating with AngularJS and Angular.</p></div></div></aio-doc-viewer></main></mat-sidenav-content></mat-sidenav-container><div class="toc-container no-print ng-star-inserted"><aio-lazy-ce selector="aio-toc"><aio-toc ng-version="10.0.0-next.5"><div class="toc-inner no-print collapsed ng-star-inserted"><ul class="toc-list"><li class="h1 ng-star-inserted active" title="从 AngularJS 升级到 Angular"><a href="guide/upgrade#upgrading-from-angularjs-to-angular">从 AngularJS 升级到 Angular</a></li><li class="h2 ng-star-inserted" title="准备工作"><a href="guide/upgrade#preparation">准备工作</a></li><li class="h3 ng-star-inserted" title="遵循 AngularJS 风格指南"><a href="guide/upgrade#follow-the-angularjs-style-guide">遵循 AngularJS 风格指南</a></li><li class="h3 ng-star-inserted" title="使用模块加载器"><a href="guide/upgrade#using-a-module-loader">使用模块加载器</a></li><li class="h3 ng-star-inserted" title="迁移到 TypeScript"><a href="guide/upgrade#migrating-to-typescript">迁移到 TypeScript</a></li><li class="h3 ng-star-inserted" title="使用组件型指令"><a href="guide/upgrade#using-component-directives">使用组件型指令</a></li><li class="h2 ng-star-inserted" title="使用升级适配器进行升级"><a href="guide/upgrade#upgrading-with-ngupgrade">使用升级适配器进行升级</a></li><li class="h3 ng-star-inserted" title="升级模块工作原理"><a href="guide/upgrade#how-ngupgrade-works">升级模块工作原理</a></li><li class="h3 ng-star-inserted" title="通过 Angular 的 NgModule 来使用 UpgradeModule"><a href="guide/upgrade#using-upgrademodule-with-angular-ngmodules">通过 Angular 的 <em>NgModule</em> 来使用 UpgradeModule</a></li><li class="h3 ng-star-inserted" title="引导混合式应用程序"><a href="guide/upgrade#bootstrapping-hybrid-applications">引导混合式应用程序</a></li><li class="h3 ng-star-inserted" title="在 AngularJS 的代码中使用 Angular 的组件"><a href="guide/upgrade#using-angular-components-from-angularjs-code">在 AngularJS 的代码中使用 Angular 的组件</a></li><li class="h3 ng-star-inserted" title="从 Angular 代码中使用 AngularJS 组件型指令"><a href="guide/upgrade#using-angularjs-component-directives-from-angular-code">从 Angular 代码中使用 AngularJS 组件型指令</a></li><li class="h3 ng-star-inserted" title="把 AngularJS 的内容投影到 Angular 组件中"><a href="guide/upgrade#projecting-angularjs-content-into-angular-components">把 AngularJS 的内容投影到 Angular 组件中</a></li><li class="h3 ng-star-inserted" title="把 Angular 的内容透传进 AngularJS 的组件型指令"><a href="guide/upgrade#transcluding-angular-content-into-angularjs-component-directives">把 Angular 的内容透传进 AngularJS 的组件型指令</a></li><li class="h3 ng-star-inserted" title="让 AngularJS 中的依赖可被注入到 Angular"><a href="guide/upgrade#making-angularjs-dependencies-injectable-to-angular">让 AngularJS 中的依赖可被注入到 Angular</a></li><li class="h3 ng-star-inserted" title="让 Angular 的依赖能被注入到 AngularJS 中"><a href="guide/upgrade#making-angular-dependencies-injectable-to-angularjs">让 Angular 的依赖能被注入到 AngularJS 中</a></li><li class="h2 ng-star-inserted" title="惰性加载 AngularJS"><a href="guide/upgrade#lazy-loading-angularjs">惰性加载 AngularJS</a></li><li class="h3 ng-star-inserted" title="为惰性加载 AngularJS 创建一个服务"><a href="guide/upgrade#create-a-service-to-lazy-load-angularjs">为惰性加载 AngularJS 创建一个服务</a></li><li class="h3 ng-star-inserted" title="创建一个用来渲染 AngularJS 内容的组件"><a href="guide/upgrade#create-a-component-to-render-angularjs-content">创建一个用来渲染 AngularJS 内容的组件</a></li><li class="h3 ng-star-inserted" title="为那些 AngularJS 路由配置自定义路由匹配器"><a href="guide/upgrade#configure-a-custom-route-matcher-for-angularjs-routes">为那些 AngularJS 路由配置自定义路由匹配器</a></li><li class="h2 ng-star-inserted" title="使用统一的 Angular 位置服务（Location）"><a href="guide/upgrade#using-the-unified-angular-location-service">使用统一的 Angular 位置服务（Location）</a></li></ul></div></aio-toc></aio-lazy-ce></div><footer class="no-print"><aio-footer><div class="grid-fluid"><div class="footer-block ng-star-inserted"><h3>资源</h3><ul><li class="ng-star-inserted"><a class="link" href="about" title="Angular 贡献者。">关于</a></li><li class="ng-star-inserted"><a class="link" href="resources" title="网络上的 Angular 工具、培训、博客等">资源列表</a></li><li class="ng-star-inserted"><a class="link" href="presskit" title="我们的联系方式、LOGO 和品牌">宣传资料</a></li><li class="ng-star-inserted"><a class="link" href="https://blog.angular.io/" title="Angular 官方博客">博客</a></li><li class="ng-star-inserted"><a class="link" href="analytics" title="Angular 使用情况分析">使用情况分析</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>帮助</h3><ul><li class="ng-star-inserted"><a class="link" href="https://stackoverflow.com/questions/tagged/angular" title="Stack Overflow: 这里的社区会回答你关于 Angular 的技术问题">Stack Overflow</a></li><li class="ng-star-inserted"><a class="link" href="https://gitter.im/angular/angular" title="和老鸟聊 Angular">Gitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular/issues" title="在 github 上报告问题和建议。">报告问题</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/code-of-conduct/blob/master/CODE_OF_CONDUCT.md" title="让我们彼此尊重">行为规范</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>社区</h3><ul><li class="ng-star-inserted"><a class="link" href="events" title="Angular events around the world.">活动</a></li><li class="ng-star-inserted"><a class="link" href="http://www.meetup.com/topics/angularjs/" title="参加聚会，向别的开发人员学习">聚会</a></li><li class="ng-star-inserted"><a class="link" href="https://twitter.com/angular" title="Twitter">Twitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular" title="GitHub">GitHub</a></li><li class="ng-star-inserted"><a class="link" href="contribute" title="向 Angular 做贡献">做贡献</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>多语言</h3><ul><li class="ng-star-inserted"><a class="link" href="https://angular.io/" title="English Version.">English Version</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.tw/" title="正體中文版">正體中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.jp/" title="日本語版">日本語版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.kr/" title="한국어">한국어</a></li></ul></div></div><p>Super-powered by Google ©2010-2020. 代码授权方式：<a href="license" title="License text">MIT-style License</a>. 文档授权方式：<a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p><p>当前版本：10.0.0-build.128+sha.013b34e3.</p></aio-footer></footer><div class="cdk-visually-hidden ng-star-inserted"><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true">&nbsp;</mat-icon></div></aio-shell><noscript><div class="background-sky hero"></div><section id="intro" style="text-shadow:1px 1px #1976d2"><div class="hero-logo"><img src="assets/images/logos/angular/angular.svg" width="250" height="250" alt="Angular"></div><div class="homepage-container"><div class="hero-headline">一套框架，多种平台<br>移动 &amp; 桌面</div></div></section><h2 style="color:red;margin-top:40px;position:relative;text-align:center;text-shadow:1px 1px #fafafa"><b><i>该网站需要浏览器支持 JavaScript</i></b></h2></noscript><script src="runtime-es2015.8892d99b561f16cac027.js" type="module"></script><script src="runtime-es5.8892d99b561f16cac027.js" nomodule="" defer=""></script><script src="polyfills-es5.41b6af5b8c7bae4c4aa1.js" nomodule="" defer=""></script><script src="polyfills-es2015.d5e64c0090ad96df3854.js" type="module"></script><script src="main-es2015.b8760451e66c4547abcd.js" type="module"></script><script src="main-es5.b8760451e66c4547abcd.js" nomodule="" defer=""></script><div class="cdk-live-announcer-element cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div></body></html>