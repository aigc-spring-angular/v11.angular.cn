<!doctype html><html><head><meta charset="utf-8"><title>Animations transitions and triggers - Angular 官方文档</title><base href="/"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="search" type="application/opensearchdescription+xml" href="assets/opensearch.xml"><link rel="icon" type="image/x-icon" href="assets/images/favicons/favicon.ico"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-194x194.png" sizes="194x194"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-16x16.png" sizes="16x16"><link rel="apple-touch-icon" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link href="assets/fonts/Material_Icons.css" rel="stylesheet"><link href="assets/fonts/Droid_Sans_Mono.css" rel="stylesheet"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link rel="manifest" href="pwa-manifest.json"><meta name="theme-color" content="#1976d2"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="translucent"><script>!function(e,a,n,t,s,c,g){e.GoogleAnalyticsObject=s,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(n),g=a.getElementsByTagName(n)[0],c.async=1,c.src="assets/js/analytics.js",~e.name.indexOf("NG_DEFER_BOOTSTRAP")||g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga")</script><script>window.onerror=function(){ga("send","exception",{exDescription:function(e,r,n,a,c){var l;e=e.replace(/^Error: /,""),l=c?c.stack.replace(/^Error: /,"").replace(e+"\n","").replace(/^ +/gm,"").replace(/^at /gm,"").replace(/(?: \(|@)http.+\/([^/)]+)\)?(?:\n|$)/gm,"@$1\n").replace(/ *\(eval code(:\d+:\d+)\)(?:\n|$)/gm,"@???$1\n"):r+":"+(n=n||"?")+":"+(a=a||"?");return(e+"\n"+l).substr(0,150)}.apply(null,arguments),exFatal:!0})}</script><script nomodule src="generated/ie-polyfills.min.js"></script><link rel="stylesheet" href="styles.2e634853a678815ab796.css"></head><body><aio-shell ng-version="7.0.0-rc.1" class="mode-stable sidenav-open page-docs folder-docs view-TopBar view-SideNav aio-notification-hide"><div id="top-of-page"></div><mat-toolbar class="app-toolbar no-print mat-toolbar mat-primary mat-toolbar-multiple-rows" color="primary"><mat-toolbar-row class="notification-container mat-toolbar-row"><aio-notification expirationdate="2018-07-01" notificationid="angular-v6-announcement" class="ng-tns-c2-0 ng-trigger ng-trigger-hideAnimation" style="height:0"><span class="content"><a href="https://blog.angular.io/version-6-0-0-of-angular-now-available-cc56b0efa7a4"><mat-icon aria-label="Announcement" class="icon mat-icon" role="img" svgicon="insert_comment" aria-hidden="true"><svg fill="#ffffff" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon><span class="message">Version 6 of Angular Now Available!</span><span class="action-button">Learn More</span></a></span><button class="close-button mat-icon-button" aria-label="Close" mat-icon-button=""><span class="mat-button-wrapper"><mat-icon aria-label="Dismiss notification" class="mat-icon ng-tns-c2-0" role="img" svgicon="close" aria-hidden="true"><svg fill="#ffffff" focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon></span><div class="mat-button-ripple mat-ripple mat-button-ripple-round" matripple=""></div><div class="mat-button-focus-overlay"></div></button></aio-notification></mat-toolbar-row><mat-toolbar-row class="mat-toolbar-row"><button class="hamburger mat-button" mat-button="" title="Docs menu"><span class="mat-button-wrapper"><mat-icon class="mat-icon" role="img" svgicon="menu" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></mat-icon></span><div class="mat-button-ripple mat-ripple" matripple=""></div><div class="mat-button-focus-overlay"></div></button><a class="nav-link home" href="/"><img alt="Home" height="40" src="assets/images/logos/angular/logo-nav@2x.png" title="Home" width="150" class="ng-star-inserted"></a><aio-top-menu class="ng-star-inserted"><ul role="navigation"><li class="ng-star-inserted"><a class="nav-link" href="features" title="特性">特性</a></li><li class="ng-star-inserted"><a class="nav-link" href="docs" title="文档">文档</a></li><li class="ng-star-inserted"><a class="nav-link" href="resources" title="资源">资源</a></li><li class="ng-star-inserted"><a class="nav-link" href="events" title="会议">会议</a></li><li class="ng-star-inserted"><a class="nav-link" href="https://blog.angular.io/" title="博客">博客</a></li><li class="ng-star-inserted"><a class="nav-link" href="translations/cn/home" title="关于中文版">关于中文版</a></li></ul></aio-top-menu><aio-search-box class="search-container"><input aria-label="search" placeholder="搜索" type="search"></aio-search-box><div class="toolbar-external-icons-container"><a href="https://twitter.com/angular" title="Twitter"><img src="assets/images/logos/twitter-icon.svg"></a><a href="https://github.com/angular/angular" title="GitHub"><img src="assets/images/logos/github-icon.svg"></a></div></mat-toolbar-row></mat-toolbar><mat-sidenav-container class="sidenav-container mat-drawer-container mat-sidenav-container mat-drawer-transition" role="main"><div class="mat-drawer-backdrop ng-star-inserted"></div><div class="cdk-visually-hidden cdk-focus-trap-anchor"></div><mat-sidenav class="sidenav mat-drawer mat-sidenav ng-tns-c6-1 ng-trigger ng-trigger-transform mat-drawer-side ng-star-inserted" tabindex="-1" style="transform:none;visibility:visible"><div class="mat-drawer-inner-container"><aio-nav-menu><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="guide/quickstart" title="对 Angular 和 Angular CLI 基础知识的简短介绍" target="_self">快速上手</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-1 collapsed ng-star-inserted" type="button" title="此《英雄指南》教程会带你用 TypeScript 一步步创建一个 Angular 应用。" aria-pressed="false">教程<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial" title="《英雄指南》教程简介" target="_self">简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt0" title="创建应用的外壳" target="_self">应用的“外壳”</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt1" title="第一部分：构建一个简单的英雄编辑器" target="_self">1. 英雄编辑器</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt2" title="第二部分：构建一个主从结构的页面，用于展现英雄列表。" target="_self">2. 显示英雄列表</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt3" title="第三部分：把主从结构的页面重构成多个组件。" target="_self">3. 主从组件</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt4" title="第四部分：创建一个可复用的服务来管理英雄数据。" target="_self">4. 服务</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt5" title="第五部分：添加 Angular 路由器，并且学习在视图之间导航。" target="_self">5. 路由</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt6" title="第六部分：通过 HTTP 来获取并保存英雄数据。" target="_self">6. HTTP</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-1 collapsed ng-star-inserted" type="button" title="学习 Angular 的核心知识" aria-pressed="false">核心知识<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="Angular 应用的基本构造块。" aria-pressed="false">架构<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture" title="Angular 应用的基本构造块" target="_self">架构概览</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-modules" title="关于模块。" target="_self">模块（NgModule）简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-components" title="关于组件、模板和视图。" target="_self">组件简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-services" title="关于服务与依赖注入。" target="_self">服务与 DI 简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-next-steps" title="学完基础知识之后……" target="_self">后续步骤</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="使用数据绑定构建动态视图" aria-pressed="false">组件与模板<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/displaying-data" title="属性绑定可以帮助应用把数据显示在界面上" target="_self">显示数据</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-syntax" title="学习如何写模板，以便借助数据绑定机制显示数据并响应事件。" target="_self">模板语法</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/user-input" title="用户输入会触发 DOM 事件。Angular 会通过事件绑定来监听那些事件，并把修改后的值传回应用的组件和模型中。" target="_self">用户输入</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lifecycle-hooks" title="Angular 调用指令和组件的生命周期钩子函数，包括它的创建、变更和销毁时。" target="_self">生命周期钩子</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-interaction" title="在不同的指令和组件之间共享信息" target="_self">组件交互</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-styles" title="添加专属于某个组件的样式" target="_self">组件样式</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/elements" title="把组件转换成自定义元素。" target="_self">Angular 自定义元素</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-component-loader" title="动态加载组件" target="_self">动态组件</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/attribute-directives" title="属性型指令把行为添加到现有元素上。" target="_self">属性型指令</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/structural-directives" title="结构型指令可以操纵页面的布局" target="_self">结构型指令</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/pipes" title="管道可以在模板中转换显示的内容。" target="_self">管道</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="Angular 的表单" aria-pressed="false">表单<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/forms-overview" title="表单可以创建集中、高效、引人注目的输入体验。Angular 表单可以协调一组数据绑定控件，跟踪变更，验证输入，并表达错误信息。" target="_self">简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reactive-forms" title="使用 FormBuilder、表单组和表单数组创建响应式表单。" target="_self">响应式表单</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/forms" title="使用指令和 Angular 模板语法创建模板驱动表单。" target="_self">模板驱动表单</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/form-validation" title="验证用户的表单输入" target="_self">表单验证</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-form" title="使用 FormGroup 渲染动态表单。" target="_self">动态表单</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="Observable 与 RxJS" aria-pressed="false">Observable 与 RxJS<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/observables" title="" target="_self">可观察对象(Observable)</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/rx-library" title="" target="_self">RxJS 库</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/observables-in-angular" title="" target="_self">Angular 中的可观察对象</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/practical-observable-usage" title="" target="_self">用法实战</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/comparing-observables" title="" target="_self">与其它技术的比较</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/bootstrapping" title="在应用的根模块（AppModule）中告诉 Angular 如何构造并引导引用。" target="_self">引导启动</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="Angular 中的模块" aria-pressed="false">Angular 模块<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodules" title="使用 NgModule 让你的应用更高效" target="_self">NgModule 简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-vs-jsmodule" title="JavaScript 模块和 NgModule 之间的差异" target="_self">JS 模块 vs NgModule</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/frequent-ngmodules" title="介绍最常用的 Angular 模块" target="_self">常用模块</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/module-types" title="介绍特性模块的几种类型" target="_self">特性模块的分类</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/entry-components" title="关于 Angular 中入口组件的一切" target="_self">入口组件</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/feature-modules" title="创建特性模块，以组织你的代码" target="_self">特性模块</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/providers" title="服务提供商与 Angular 模块" target="_self">服务提供商</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/singleton-services" title="创建单例应用" target="_self">单例应用</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lazy-loading-ngmodules" title="惰性加载模块，以提高应用的性能" target="_self">惰性加载的特性模块</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/sharing-ngmodules" title="共享 Angular 模块让你的应用现代化。" target="_self">共享 Angular 模块</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-api" title="理解 NgModule 的那些细节。" target="_self">NgModule API</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-faq" title="回答关于 NgModules 的常见问题。" target="_self">NgModule 常见问题</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="依赖注入：创建并注入各种服务。" aria-pressed="false">依赖注入<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection" title="Angular 的依赖注入系统能够为 Angular 创建的类创建并交付它们所依赖的服务。" target="_self">Angular 依赖注入</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/hierarchical-dependency-injection" title="与组件树平行的注入器树，并支持嵌套的依赖。" target="_self">多级注入器</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-providers" title="各种提供商类型的更多知识。" target="_self">DI 提供商</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-in-action" title="依赖注入的使用技巧" target="_self">DI 实战</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-navtree" title="使用注入器树来查找父组件。" target="_self">在组件树中导航</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/http" title="通过 HTTP 协议与远程服务器对话。" target="_self">HttpClient</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/router" title="揭示如何通过 Angular 路由进行基本的屏幕导航。" target="_self">路由与导航</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="Angular 动画系统指南" aria-pressed="false">动画<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/animations" title="Angular 动画的基础技术。" target="_self">简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/transition-and-triggers" title="转场与触发器的高级技术。" target="_self">转场与触发器</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/complex-animation-sequences" title="复杂的 Angular 动画序列。" target="_self">复杂序列</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reusable-animations" title="创建可复用的动画。" target="_self">可复用动画</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/route-animations" title="为路由提供转场动画。" target="_self">路由转场动画</a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-1 collapsed ng-star-inserted" type="button" title="把 Angular 用到你的实际工作中的一些技巧" aria-pressed="false">其它技术<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/security" title="Angular 应用开发中的安全技术。" target="_self">安全</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/i18n" title="把应用模板中的文本翻译成多种语言。" target="_self">国际化 (i18n)</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="Angular Service Worker: 控制应用资源的缓存。" aria-pressed="false">Service Worker 与 PWA<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-intro" title="Angular 对 Service Worker 的实现提升了慢速或不稳定的网络连接下的用户体验。" target="_self">简介</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-getting-started" title="在 CLI 项目中启用 Service Worker，并在浏览器中查看效果。" target="_self">快速起步</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-communications" title="那些能让你和 Angular 的 Service Worker 通讯的服务类。" target="_self">与 Service Worker 通讯</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-devops" title="使用 Service Worker 运行应用、管理应用更新、调试以及杀掉正在运行的应用。" target="_self">生产环境下的 Service Worker</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-config" title="配置 Service Worker 的缓存行为。" target="_self">Service Worker 配置</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/universal" title="使用 Angular Universal 在服务端渲染 HTML。" target="_self">服务端渲染</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="把 AngularJS 应用增量式的升级到 Angular。" aria-pressed="false">从 AngularJS 升级<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade" title="把 AngularJS 应用增量式的升级到 Angular。" target="_self">升级步骤</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade-performance" title="用更灵活的方式把 AngularJS 升级到 Angular" target="_self">提高升级效率</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self">AngularJS 与 Angular 的概念对照</a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-1 collapsed ng-star-inserted" type="button" title="关于环境搭建、构建、测试、部署环境与工具的信息。" aria-pressed="false">环境搭建与部署<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/file-structure" title="Angular 工作空间在文件系统中是怎样的。" target="_self">项目文件结构</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/npm-packages" title="会默认安装到项目中的 npm 包的说明。" target="_self">npm 包</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/typescript-configuration" title="给 Angular 开发者的 TypeScript 配置。" target="_self">TypeScript 配置</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/aot-compiler" title="了解为何以及如何使用预先（AOT）编译器。" target="_self">预先（AOT）编译</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/build" title="构建应用及为应用启动开发服务器。" target="_self">构建与启动开发服务器</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/testing" title="测试 Angular 应用的技巧与实践。" target="_self">测试</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/deployment" title="了解如何部署 Angular 应用。" target="_self">发布</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/browser-support" title="浏览器支持与腻子脚本指南。" target="_self">浏览器支持</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="整合开发环境和工具。" aria-pressed="false">开发工具集成<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/language-service" title="使用 Angular 语言服务加速开发。" target="_self">语言服务</a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-1 collapsed ng-star-inserted" type="button" title="Angular 的版本发布实践、更新与升级。" aria-pressed="false">发布信息<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/releases" title="Angular 的版本、发布、支持、弃用策略与实践。" target="_self">Angular 发布策略与实践</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/updating" title="如何把 Angular 应用和库升级到最新版本。" target="_self">保持最新</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-2 collapsed ng-star-inserted" type="button" title="逐渐把 AngularJS 应用升级成 Angular。" aria-pressed="false">从 AngularJS 升级<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade" title="逐渐把 AngularJS 应用升级成 Angular。" target="_self">升级指南</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self">AngularJS 与 Angular 的概念对照</a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button class="vertical-menu-item heading level-1 collapsed ng-star-inserted" type="button" title="Angular 语法、编码、术语汇总。" aria-pressed="false">快捷手册<mat-icon class="rotating-icon mat-icon" role="img" svgicon="keyboard_arrow_right" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cheatsheet" title="关于 Angular 常用编码技术的快速指南。" target="_self">速查表</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/styleguide" title="写出 Angular 风格的程序" target="_self">风格指南</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/glossary" title="Angular 中最重要的词汇的简要定义。" target="_self">词汇表</a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="api" title="关于 Angular 中类和值的详细信息。" target="_self">API 参考手册</a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><div class="mat-divider ng-star-inserted" style="margin:4px 20px;border-top:1px solid #d3d3d3"></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://github.com/ng-docs/ng-docs.github.io/issues" title="github 上的中文互助问答区" target="_blank">互助问答<mat-icon class="mat-icon material-icons ng-star-inserted" role="img" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://material.angular.cn" title="Angular Material 组件库的中文文档" target="_blank">官方 Material 组件库<mat-icon class="mat-icon material-icons ng-star-inserted" role="img" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.ant.design/" title="Ant Design 的 Angular 实现，服务于企业级后台产品。" target="_blank">ng-zorro 组件库<mat-icon class="mat-icon material-icons ng-star-inserted" role="img" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item></aio-nav-menu><div class="doc-version"><aio-select><div class="form-select-menu"><button class="form-select-button"><strong></strong>stable (v7.0.0)</button></div></aio-select></div></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor"></div><mat-sidenav-content cdkscrollable="" class="mat-drawer-content mat-sidenav-content ng-star-inserted" style="margin-left:260px"><section class="sidenav-content" role="content" id="docs"><div class="github-links"><a href="https://github.com/angular/angular/edit/master/aio/content/guide/transition-and-triggers.md?message=docs%3A%20describe%20your%20change..." aria-label="提供编辑建议" title="提供编辑建议"><i class="material-icons" aria-hidden="true" role="img">mode_edit</i></a></div><div class="content"><h1 id="animations-transitions-and-triggers" translation-result="on">动画转场与触发器<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animations-transitions-and-triggers"><i class="material-icons">link</i></a></h1><h1 translation-origin="off" id="animations-transitions-and-triggers">Animations transitions and triggers<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animations-transitions-and-triggers"><i class="material-icons">link</i></a></h1><p translation-result="on">你已经在<a href="/guide/animations">简介</a>页学习了 Angular 动画的基础知识。</p><p translation-origin="off">You learned the basics of Angular animations in the <a href="/guide/animations">introduction</a> page.</p><p translation-result="on">本章，我们将深入讲解特殊的转场状态，如 <code>*</code>（通配符）和 <code>void</code>，并说明这些特殊状态如何作用于进入或离开视图的元素。本章还探讨了多重触发器、动画回调，以及使用关键帧技术的序列动画。</p><p translation-origin="off">In this guide, we go into greater depth on special transition states such as <code>*</code> (wildcard) and <code>void</code>, and show how these special states are used for elements entering and leaving a view. The chapter also explores on multiple animation triggers, animation callbacks and sequence-based animation using keyframes.</p><h2 id="predefined-states-and-wildcard-matching" translation-result="on">预定义状态与通配符匹配<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#predefined-states-and-wildcard-matching"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="predefined-states-and-wildcard-matching">Predefined states and wildcard matching<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#predefined-states-and-wildcard-matching"><i class="material-icons">link</i></a></h2><p translation-result="on">在 Angular 中，转场状态可以通过 <code><a href="/api/animations/state" class="code-anchor">state</a>()</code> 函数进行显式定义，或使用预定义的 <code>*</code>（通配符）状态和 <code>void</code> 状态。</p><p translation-origin="off">In Angular, transition states can be defined explicitly through the <code><a href="/api/animations/state" class="code-anchor">state</a>()</code> function, or using the predefined <code>*</code> (wildcard) and <code>void</code> states.</p><h3 id="wildcard-state" translation-result="on">通配符状态<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#wildcard-state"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="wildcard-state">Wildcard state<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#wildcard-state"><i class="material-icons">link</i></a></h3><p translation-result="on">星号 <code>*</code> 或者叫<em>通配符</em>可以匹配任何一个动画状态。它可用来定义那些不用在乎 HTML 元素的起始状态或结束状态的转场动画。</p><p translation-origin="off">An asterisk <code>*</code> or <em>wildcard</em> matches any animation state. This is useful for defining transitions that apply regardless of the HTML element's start or end state.</p><p translation-result="on">比如，一个 <code>open => *</code> 转场可应用在当元素的状态从 <code>open</code> 变成任何其它状态时。</p><p translation-origin="off">For example, a transition of <code>open => *</code> applies when the element's state changes from open to anything else.</p><figure><img src="generated/images/guide/animations/wildcard-state-500.png" alt="wildcard state expressions" width="500" height="229"></figure><p translation-result="on">下面是通配符状态的另一个代码范例，以及我们以前使用 <code>open</code> 和 <code>closed</code> 状态的实例。但这次，对于每个状态到状态的转换对，我们这次规定从任何状态转场到 <code>closed</code> 状态时要花 1 秒钟，而从任何状态转场到 <code>open</code> 状态时要花 0.5 秒。</p><p translation-origin="off">Here's another code sample using the wildcard state together with our previous example using the <code>open</code> and <code>closed</code> states. Instead of defining each state-to-state transition pair, we're now saying that any transition to <code>closed</code> takes 1 second, and any transition to <code>open</code> takes 0.5 seconds.</p><p translation-result="on">这让我们可以添加新状态，而不必把它手动包含到每个单独的转场中。</p><p translation-origin="off">This allows us to add new states without having to include separate transitions for each one.</p><code-example header="src/app/open-close.component.ts" path="animations/src/app/open-close.component.ts" region="trigger-wildcard1" language="typescript" linenums="false">animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('openClose', [ // ... <a href="/api/animations/state" class="code-anchor">state</a>('open', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '200px', opacity: 1, backgroundColor: 'yellow' })), <a href="/api/animations/state" class="code-anchor">state</a>('closed', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '100px', opacity: 0.5, backgroundColor: 'green' })), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => closed', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('1s') ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => open', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('0.5s') ]), ]), ],</code-example><p translation-result="on">使用双向箭头语法可以指定任意方向的状态转场。</p><p translation-origin="off">Use a double arrow syntax to specify state-to-state transitions in both directions.</p><code-example header="src/app/open-close.component.ts" path="animations/src/app/open-close.component.ts" region="trigger-wildcard2" language="typescript" linenums="false"><a href="/api/animations/transition" class="code-anchor">transition</a>('open &#x3C;=> closed', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('0.5s') ]),</code-example><h3 id="using-wildcard-state-with-multiple-transition-states" translation-result="on">使用带多个转场状态的通配符状态<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#using-wildcard-state-with-multiple-transition-states"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-wildcard-state-with-multiple-transition-states">Using wildcard state with multiple transition states<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#using-wildcard-state-with-multiple-transition-states"><i class="material-icons">link</i></a></h3><p translation-result="on">在这个双态按钮的例子中，通配符不是很有用，因为只有两种可能的状态：<code>open</code> 和 <code>closed</code>。当一个特定状态下的元素可能变更为多个潜在状态时，通配符状态会更好用。如果我们的按钮可以从 <code>open</code> 编程 <code>closed</code> 或类似 <code>inProgress</code> 的状态，则可以使用通配符状态来减少所需的编码量。</p><p translation-origin="off">In our two-state button example, the wildcard isn't that useful because there are only two possible states, <code>open</code> and <code>closed</code>. Wildcard states are better when an element in one particular state has multiple potential states that it can change to. If our button can change from <code>open</code> to either <code>closed</code> or something like <code>inProgress</code>, using a wildcard state could reduce the amount of coding needed.</p><figure><img src="generated/images/guide/animations/wildcard-3-states.png" alt="wildcard state with 3 states" width="600" height="426"></figure><code-example path="animations/src/app/open-close.component.ts" header="src/app/open-close.component.ts" linenums="false" region="trigger-transition" language="typescript">animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('openClose', [ // ... <a href="/api/animations/state" class="code-anchor">state</a>('open', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '200px', opacity: 1, backgroundColor: 'yellow' })), <a href="/api/animations/state" class="code-anchor">state</a>('closed', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '100px', opacity: 0.5, backgroundColor: 'green' })), <a href="/api/animations/transition" class="code-anchor">transition</a>('open => closed', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('1s') ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('closed => open', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('0.5s') ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => closed', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('1s') ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => open', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('0.5s') ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('open &#x3C;=> closed', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('0.5s') ]), <a href="/api/animations/transition" class="code-anchor">transition</a> ('* => open', [ <a href="/api/animations/animate" class="code-anchor">animate</a> ('1s', <a href="/api/animations/style" class="code-anchor">style</a> ({ opacity: '*' }), ), ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => *', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('1s') ]),</code-example><p translation-result="on">当在<em>任意</em>两个状态之间切换时，<code>* => *</code> 转场都会生效。</p><p translation-origin="off">The <code>* => *</code> transition applies when any change between two states takes place.</p><p translation-result="on">转场会按照其定义的顺序进行匹配。因此，你可以在 <code>* => *</code> 转场的前面定义其它转场。比如，定义只针对 <code>open => closed</code> 的状态变更或动画，或 <code>closed => open</code>，而使用 <code>* => *</code> 作为匹配不上其它状态对时的后备。</p><p translation-origin="off">Transitions are matched in the order in which they are defined. Thus, you can apply other transitions on top of the <code>* => *</code> (any-to-any) transition. For example, define style changes or animations that would apply just to <code>open => closed</code>, or just to <code>closed => open</code>, and then use <code>* => *</code> as a fallback for state pairings that aren't otherwise called out.</p><p translation-result="on">要这么做，只要把那些更特殊的转场放在 <code>* => *</code> <em>前面</em>就行了。</p><p translation-origin="off">To do this, list the more specific transitions <em>before</em> <code>* => *</code>.</p><h3 id="using-wildcards-with-styles" translation-result="on">使用带样式的通配符状态<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#using-wildcards-with-styles"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="using-wildcards-with-styles">Using wildcards with styles<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#using-wildcards-with-styles"><i class="material-icons">link</i></a></h3><p translation-result="on">使用带样式的 <code>*</code> 通配符来告诉动画使用当前的状态值，并用它进行动画处理。通配符是一个后备值，如果未在触发器中声明动画状态，就会使用这个值。</p><p translation-origin="off">Use the wildcard <code>*</code> with a style to tell the animation to use whatever the current style value is, and animate with that. Wildcard is a fallback value that's used if the state being animated isn't declared within the trigger.</p><code-example path="animations/src/app/open-close.component.ts" header="src/app/open-close.component.ts" linenums="false" region="transition4" language="typescript"><a href="/api/animations/transition" class="code-anchor">transition</a> ('* => open', [ <a href="/api/animations/animate" class="code-anchor">animate</a> ('1s', <a href="/api/animations/style" class="code-anchor">style</a> ({ opacity: '*' }), ), ]),</code-example><h3 id="void-state" translation-result="on"><code>void</code> 状态<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#void-state"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="void-state">Void state<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#void-state"><i class="material-icons">link</i></a></h3><p translation-result="on">你可以使用 <code>void</code> 状态来为进入或离开页面的元素配置转场。参见<a href="/guide/transition-and-triggers#enter-leave-view">进入和离开视图的动画</a>。</p><p translation-origin="off">You can use the <code>void</code> state to configure transitions for an element that is entering or leaving a page. See <a href="/guide/transition-and-triggers#enter-leave-view">Animating entering and leaving a view</a>.</p><h3 id="combining-wildcard-and-void-states" translation-result="on">组合使用通配符和 <code>void</code> 状态<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#combining-wildcard-and-void-states"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="combining-wildcard-and-void-states">Combining wildcard and void states<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#combining-wildcard-and-void-states"><i class="material-icons">link</i></a></h3><p translation-result="on">你可以在转场中组合使用通配符和 <code>void</code> 状态，以触发那些进入和离开页面的动画：</p><p translation-origin="off">You can combine wildcard and void states in a transition to trigger animations that enter and leave the page:</p><ul><li><p translation-result="on">当元素离开视图时，就会触发 <code>* => void</code> 转场，而不管它离开前处于什么状态。</p><p translation-origin="off">A transition of <code>* => void</code> applies when the element leaves a view, regardless of what state it was in before it left.</p></li><li><p translation-result="on">当元素进入视图时，就会触发 <code>void => *</code> 转场，而不管它进入时处于什么状态。</p><p translation-origin="off">A transition of <code>void => *</code> applies when the element enters a view, regardless of what state it assumes when entering.</p></li><li><p translation-result="on">通配符状态 <code>*</code> 会匹配<em>任何</em>状态 —— 包括 <code>void</code>。</p><p translation-origin="off">The wildcard state <code>*</code> matches to <em>any</em> state, including <code>void</code>.</p></li></ul><h2 id="animating-entering-and-leaving-a-view" translation-result="on">播放进入和离开视图时的动画<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animating-entering-and-leaving-a-view"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="animating-entering-and-leaving-a-view">Animating entering and leaving a view<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animating-entering-and-leaving-a-view"><i class="material-icons">link</i></a></h2><p translation-result="on">本节介绍如何为进入和离开页面的元素设置动画。</p><p translation-origin="off">This section shows how to animate elements entering or leaving a page.</p><div class="alert is-helpful"><p translation-result="on"><strong>注意：</strong>出于我们的目的，我们把元素进入或离开视图等价于从 DOM 中插入或删除。</p><p translation-origin="off"><strong>Note:</strong> For our purposes, an element entering or leaving a view is equivalent to being inserted or removed from the DOM.</p></div><p translation-result="on">现在，我们要添加一些新的行为：</p><p translation-origin="off">Now we'll add a new behavior:</p><ul><li><p translation-result="on">当你把一个英雄添加到英雄列表中时，它看起来是从左侧飞进页面的。</p><p translation-origin="off">When you add a hero to the list of heroes, it appears to fly onto the page from the left.</p></li><li><p translation-result="on">当你从列表中移除一个英雄时，它看起来是从右侧飞出去的。</p><p translation-origin="off">When you remove a hero from the list, it appears to fly out to the right.</p></li></ul><code-example path="animations/src/app/hero-list-enter-leave.component.ts" header="src/app/hero-list-enter-leave.component.ts" region="animationdef" language="typescript" linenums="false">animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('flyInOut', [ <a href="/api/animations/state" class="code-anchor">state</a>('in', <a href="/api/animations/style" class="code-anchor">style</a>({ transform: 'translateX(0)' })), <a href="/api/animations/transition" class="code-anchor">transition</a>('void => *', [ <a href="/api/animations/style" class="code-anchor">style</a>({ transform: 'translateX(-100%)' }), <a href="/api/animations/animate" class="code-anchor">animate</a>(100) ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => void', [ <a href="/api/animations/animate" class="code-anchor">animate</a>(100, <a href="/api/animations/style" class="code-anchor">style</a>({ transform: 'translateX(100%)' })) ]) ]) ]</code-example><p translation-result="on">在上述代码中，当 HTML 元素没有附着在视图中时，我们就会应用 <code>void</code> 状态。</p><p translation-origin="off">In the above code, we applied the <code>void</code> state when the HTML element isn't attached to a view.</p><a id="enter-leave-view"></a><h2 id="enter-and-leave-aliases" translation-result="on">:enter 和 :leave 别名<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#enter-and-leave-aliases"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="enter-and-leave-aliases">:enter and :leave aliases<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#enter-and-leave-aliases"><i class="material-icons">link</i></a></h2><p translation-result="on"><code>:enter</code> 和 <code>:leave</code> 分别是 <code>void => *</code> 和 <code>* => void</code> 的别名。 这些别名供多个动画函数使用。</p><p translation-origin="off"><code>:enter</code> and <code>:leave</code> are aliases for the <code>void => *</code> and <code>* => void</code> transitions. These aliases are used by several animation functions.</p><code-example hidecopy="" language="typescript"><a href="/api/animations/transition" class="code-anchor">transition</a> ( ':enter', [ ... ] ); // alias for void => * <a href="/api/animations/transition" class="code-anchor">transition</a> ( ':leave', [ ... ] ); // alias for * => void</code-example><p translation-result="on">定位进入视图的元素更难，因为它不在 DOM 中。 因此，使用别名 <code>:enter</code> 和 <code>:leave</code> 来定位要从视图中插入或删除的 HTML 元素。</p><p translation-origin="off">It's harder to target an element that is entering a view because it isn't in the DOM yet. So, use the aliases <code>:enter</code> and <code>:leave</code> to target HTML elements that are inserted or removed from a view.</p><h3 id="use-of-ngif-and-ngfor-with-enter-and-leave" translation-result="on">和 <code>:enter</code> 与 <code>:leave</code> 一起使用 <code>*<a href="/api/common/NgIf" class="code-anchor">ngIf</a></code> 和 <code>*<a href="/api/common/NgForOf" class="code-anchor">ngFor</a></code><a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#use-of-ngif-and-ngfor-with-enter-and-leave"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="use-of-ngif-and-ngfor-with-enter-and-leave">Use of *ngIf and *ngFor with :enter and :leave<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#use-of-ngif-and-ngfor-with-enter-and-leave"><i class="material-icons">link</i></a></h3><p translation-result="on">当任何 <code>*<a href="/api/common/NgIf" class="code-anchor">ngIf</a></code> 或 <code>*<a href="/api/common/NgForOf" class="code-anchor">ngFor</a></code> 中的视图放进页面中时，会运行 <code>:enter</code> 转场；当移除这些视图时，就会运行 <code>:leave</code> 转场。</p><p translation-origin="off">The <code>:enter</code> transition runs when any <code>*<a href="/api/common/NgIf" class="code-anchor">ngIf</a></code> or <code>*<a href="/api/common/NgForOf" class="code-anchor">ngFor</a></code> views are placed on the page, and <code>:leave</code> runs when those views are removed from the page.</p><p translation-result="on">在这个例子中，我们有一个名叫 <code>myInsertRemoveTrigger</code> 的触发器，来表示进入和离开动画。 其 HTML 模板包含下列代码。</p><p translation-origin="off">In this example, we have a special trigger for the enter and leave animation called <code>myInsertRemoveTrigger</code>. The HTML template contains the following code.</p><code-example path="animations/src/app/insert-remove.component.html" header="src/app/insert-remove.component.html" region="insert-remove" language="typescript">&#x3C;div @myInsertRemoveTrigger *<a href="/api/common/NgIf" class="code-anchor">ngIf</a>="isShown" class="insert-remove-container"> &#x3C;p>The box is inserted&#x3C;/p> &#x3C;/div></code-example><p translation-result="on">在组件文件中，<code>:enter</code> 转场会将初始透明度设置为 0，然后设置动画，当该元素已经插入视图中之后，把这个透明度设置为 1。</p><p translation-origin="off">In the component file, the <code>:enter</code> transition sets an initial opacity of 0, and then animates it to change that opacity to 1 as the element is inserted into the view.</p><code-example path="animations/src/app/insert-remove.component.ts" header="src/app/insert-remove.component.ts" region="enter-leave-trigger" language="typescript"><a href="/api/animations/trigger" class="code-anchor">trigger</a>('myInsertRemoveTrigger', [ <a href="/api/animations/transition" class="code-anchor">transition</a>(':enter', [ <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0 }), <a href="/api/animations/animate" class="code-anchor">animate</a>('5s', <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 1 })), ]), <a href="/api/animations/transition" class="code-anchor">transition</a>(':leave', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('5s', <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0 })) ]) ]),</code-example><p translation-result="on">注意，这个例子并不需要使用 <code><a href="/api/animations/state" class="code-anchor">state</a>()</code>。</p><p translation-origin="off">Note that this example doesn't need to use <code><a href="/api/animations/state" class="code-anchor">state</a>()</code>.</p><h2 id="increment-and-decrement-in-transitions" translation-result="on">转场中的 <code>:increment</code> 和 <code>:decrement</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#increment-and-decrement-in-transitions"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="increment-and-decrement-in-transitions">:increment and :decrement in transitions<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#increment-and-decrement-in-transitions"><i class="material-icons">link</i></a></h2><p translation-result="on"><code><a href="/api/animations/transition" class="code-anchor">transition</a>()</code> 函数还能接受额外的选择器值：<code>:increment</code> 和 <code>:decrement</code>。当数值增加或减小时，使用这些来启动转场。</p><p translation-origin="off">The <code><a href="/api/animations/transition" class="code-anchor">transition</a>()</code> function takes additional selector values, <code>:increment</code> and <code>:decrement</code>. Use these to kick off a transition when a numeric value has increased or decreased in value.</p><div class="alert is-helpful"><p translation-result="on"><strong>注意：</strong>下面的例子使用 <code><a href="/api/animations/query" class="code-anchor">query</a>()</code> 和 <code><a href="/api/animations/stagger" class="code-anchor">stagger</a>()</code> 方法，它们会在<a href="/guide/complex-animation-sequences#complex-sequence">复杂序列</a>中讨论。</p><p translation-origin="off"><strong>Note:</strong> The following example uses <code><a href="/api/animations/query" class="code-anchor">query</a>()</code> and <code><a href="/api/animations/stagger" class="code-anchor">stagger</a>()</code> methods, which is discussed in the <a href="/guide/complex-animation-sequences#complex-sequence">complex sequences</a> page.</p></div><code-example path="animations/src/app/hero-list-page.component.ts" header="src/app/hero-list-page.component.ts" region="increment" language="typescript" linenums="false"><a href="/api/animations/trigger" class="code-anchor">trigger</a>('filterAnimation', [ <a href="/api/animations/transition" class="code-anchor">transition</a>(':enter, * => 0, * => -1', []), <a href="/api/animations/transition" class="code-anchor">transition</a>(':increment', [ <a href="/api/animations/query" class="code-anchor">query</a>(':enter', [ <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0, width: '0px' }), <a href="/api/animations/stagger" class="code-anchor">stagger</a>(50, [ <a href="/api/animations/animate" class="code-anchor">animate</a>('300ms ease-out', <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 1, width: '*' })), ]), ], { <a href="/api/animations/AnimationQueryOptions#optional" class="code-anchor">optional</a>: true }) ]), <a href="/api/animations/transition" class="code-anchor">transition</a>(':decrement', [ <a href="/api/animations/query" class="code-anchor">query</a>(':leave', [ <a href="/api/animations/stagger" class="code-anchor">stagger</a>(50, [ <a href="/api/animations/animate" class="code-anchor">animate</a>('300ms ease-out', <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0, width: '0px' })), ]), ]) ]), ]),</code-example><h2 id="boolean-values-in-transitions" translation-result="on">转场中的逻辑值<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#boolean-values-in-transitions"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="boolean-values-in-transitions">Boolean values in transitions<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#boolean-values-in-transitions"><i class="material-icons">link</i></a></h2><p translation-result="on">如果某个触发器以逻辑型的值作为绑定值，那么就可以使用能与 <code>true</code> 和 <code>false</code> 或 <code>1</code> 和 <code>0</code> 相比较的 <code><a href="/api/animations/transition" class="code-anchor">transition</a>()</code> 表达式来匹配这个值。</p><p translation-origin="off">If a trigger contains a boolean value as a binding value, then this value can be matched using a <code><a href="/api/animations/transition" class="code-anchor">transition</a>()</code> expression that compares <code>true</code> and <code>false</code>, or <code>1</code> and <code>0</code>.</p><code-example path="animations/src/app/open-close.component.2.html" header="src/app/open-close.component.html" region="trigger-boolean">&#x3C;div [@openClose]="isOpen ? true : false" class="open-close-container"> &#x3C;/div></code-example><p translation-result="on">在上述代码片段中，HTML 模板将 <code>&#x3C;div></code> 元素绑定到名为 <code>openClose</code> 的触发器，其状态表达式是 <code>isOpen</code>，可能的值为 <code>true</code> 和 <code>false</code>。这种方式可以代替创建两个命名状态 <code>open</code> 和 <code>close</code> 的方式。</p><p translation-origin="off">In the code snippet above, the HTML template binds a <code>&#x3C;div></code> element to a trigger named <code>openClose</code> with a status expression of <code>isOpen</code>, and with possible values of <code>true</code> and <code>false</code>. This is an alternative to the practice of creating two named states of <code>open</code> and <code>close</code>.</p><p translation-result="on">在组件代码中，<code>@<a href="/api/core/Component" class="code-anchor">Component</a></code> 元数据下的 <code>animations:</code> 属性中，当该状态求值为 <code>true</code> 时（这里表示 "open"），相关 HTML 元素的高度值为通配符样式 <code>*</code> 或某个默认值。在这种情况下，它会使用此元素开始动画前的现有高度。当该元素是 "closed" 时，它的高度会从指定的高度运动到 0，这会让它不可见。</p><p translation-origin="off">In the component code, in the <code>@<a href="/api/core/Component" class="code-anchor">Component</a></code> metadata under the <code>animations:</code> property, when the state evaluates to <code>true</code> (meaning "open" here), the associated HTML element's height is a wildcard style or default. In this case, use whatever height the element already had before the animation started. When the element is "closed," the element animates to a height of 0, which makes it invisible.</p><code-example path="animations/src/app/open-close.component.2.ts" header="src/app/open-close.component.ts" region="trigger-boolean" language="typescript">animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('openClose', [ <a href="/api/animations/state" class="code-anchor">state</a>('true', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '*' })), <a href="/api/animations/state" class="code-anchor">state</a>('false', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '0px' })), <a href="/api/animations/transition" class="code-anchor">transition</a>('false &#x3C;=> true', <a href="/api/animations/animate" class="code-anchor">animate</a>(500)) ]) ],</code-example><h2 id="multiple-animation-triggers" translation-result="on">多重动画触发器<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#multiple-animation-triggers"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="multiple-animation-triggers">Multiple animation triggers<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#multiple-animation-triggers"><i class="material-icons">link</i></a></h2><p translation-result="on">你可以为组件定义多个动画触发器并将这些动画触发器附着到不同的元素上，这些元素之间的父子关系会影响动画的运行方式和时机。</p><p translation-origin="off">You can define more than one animation trigger for a component. You can attach animation triggers to different elements, and the parent-child relationships among the elements affect how and when the animations run.</p><h3 id="parent-child-animations" translation-result="on">父-子动画<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#parent-child-animations"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="parent-child-animations">Parent-child animations<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#parent-child-animations"><i class="material-icons">link</i></a></h3><p translation-result="on">每次在 Angular 中触发动画时，父动画始终会优先，而子动画会被阻塞。为了运行子动画，父动画必须查询出包含子动画的每个元素，然后使用 <a href="https://angular.cn/api/animations/animateChild"><code>animateChild()</code></a>函数来运行它们。</p><p translation-origin="off">Each time an animation is triggered in Angular, the parent animation always get priority and child animations are blocked. In order for a child animation to run, the parent animation must query each of the elements containing child animations and then allow the animations to run using the <a href="https://angular.io/api/animations/animateChild"><code>animateChild()</code></a>function.</p><h4 id="disabling-an-animation-on-an-html-element" translation-result="on">在某个 HTML 元素上禁用动画<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#disabling-an-animation-on-an-html-element"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="disabling-an-animation-on-an-html-element">Disabling an animation on an HTML element<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#disabling-an-animation-on-an-html-element"><i class="material-icons">link</i></a></h4><p translation-result="on">可以把一个名叫 <code>@.disabled</code> 的动画控制绑定放在 HTML 元素上，以禁用该元素及其子元素上的动画。当 <code>@.disabled</code> 绑定为 <code>true</code> 时，就会禁止渲染所有动画。</p><p translation-origin="off">A special animation control binding called <code>@.disabled</code> can be placed on an HTML element to disable animations on that element, as well as any nested elements. When true, the <code>@.disabled</code> binding prevents all animations from rendering.</p><p translation-result="on">下面的代码范例展示了如何使用此特性。</p><p translation-origin="off">The code sample below shows how to use this feature.</p><code-tabs><code-pane path="animations/src/app/open-close.component.4.html" header="src/app/open-close.component.html" region="toggle-animation">&#x3C;div [@.disabled]="isDisabled"> &#x3C;div [@childAnimation]="isOpen ? 'open' : 'closed'" class="open-close-container"> &#x3C;p>The box is now {{ isOpen ? '<a href="/api/http/ReadyState#Open" class="code-anchor">Open</a>' : 'Closed' }}!&#x3C;/p> &#x3C;/div> &#x3C;/div></code-pane><code-pane path="animations/src/app/open-close.component.4.ts" header="src/app/open-close.component.ts" region="toggle-animation" language="typescript">@<a href="/api/core/Component" class="code-anchor">Component</a>({ animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('childAnimation', [ // ... ]), ], }) export class OpenCloseChildComponent { isDisabled = false; isOpen = false; }</code-pane></code-tabs><p translation-result="on">当 <code>@.disabled</code> 绑定为 <code>true</code> 时，<code>@childAnimation</code> 触发器就不会启动。</p><p translation-origin="off">When the <code>@.disabled</code> binding is true, the <code>@childAnimation</code> trigger doesn't kick off.</p><p translation-result="on">当 HTML 模板中的某个元素使用 <code>@.disabled</code> 禁止了动画时，也会同时禁止其所有内部元素的动画。你无法有选择的单独禁用单个元素上的多个动画。</p><p translation-origin="off">When an element within an HTML template has animations disabled using the <code>@.disabled</code> host binding, animations are disabled on all inner elements as well. You can't selectively disable multiple animations on a single element.</p><p translation-result="on">不过，选择性的子动画仍然可以用如下方式之一在已禁用的父元素上运行：</p><p translation-origin="off">However, selective child animations can still be run on a disabled parent in one of the following ways:</p><ul><li><p translation-result="on">父动画可以使用 <a href="https://angular.cn/api/animations/query"><code>query()</code></a>函数来收集 HTML 模板中位于禁止动画区域内部的元素。这些元素仍然可以播放动画。</p><p translation-origin="off">A parent animation can use the <a href="https://angular.io/api/animations/query"><code>query()</code></a>function to collect inner elements located in disabled areas of the HTML template. Those elements can still animate.</p></li><li><p translation-result="on">子动画可以被父动画查询，并且稍后使用 <code><a href="/api/animations/animateChild" class="code-anchor">animateChild</a>()</code> 来播放它。</p><p translation-origin="off">A subanimation can be queried by a parent and then later animated with the <code><a href="/api/animations/animateChild" class="code-anchor">animateChild</a>()</code> function.</p></li></ul><h4 id="disabling-all-animations" translation-result="on">禁用所有动画<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#disabling-all-animations"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="disabling-all-animations">Disabling all animations<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#disabling-all-animations"><i class="material-icons">link</i></a></h4><p translation-result="on">要禁用 Angular 应用中的所有动画，只要把 <code>@.disabled</code> 绑定放在顶级的 Angular 组件上即可。</p><p translation-origin="off">To disable all animations for an Angular app, place the <code>@.disabled</code> host binding on the topmost Angular component.</p><code-example path="animations/src/app/app.component.ts" header="src/app/app.component.ts" region="toggle-app-animations" language="typescript" linenums="false">@<a href="/api/core/Component" class="code-anchor">Component</a>({ selector: 'app-root', templateUrl: 'app.component.html', <a href="/api/core/Component#styleUrls" class="code-anchor">styleUrls</a>: ['app.component.css'], animations: [ slideInAnimation // <a href="/api/animations/animation" class="code-anchor">animation</a> triggers go here ] }) export class AppComponent { @<a href="/api/core/HostBinding" class="code-anchor">HostBinding</a>('@.disabled') public animationsDisabled = false; }</code-example><div class="alert is-helpful"><p translation-result="on"><strong>注意：</strong>禁用应用级的动画在端到端（E2E）测试中是很有用的。</p><p translation-origin="off"><strong>Note:</strong> Disabling animations application-wide is useful during end-to-end (E2E) testing.</p></div><h2 id="animation-callbacks" translation-result="on">动画回调<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animation-callbacks"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="animation-callbacks">Animation callbacks<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animation-callbacks"><i class="material-icons">link</i></a></h2><p translation-result="on">当动画启动和终止时，<code><a href="/api/animations/trigger" class="code-anchor">trigger</a>()</code> 函数会发出一些<em>回调</em>。在下面的例子中，我们有一个包含 <code>openClose</code> 触发器的组件。</p><p translation-origin="off">The animation <code><a href="/api/animations/trigger" class="code-anchor">trigger</a>()</code> function emits <em>callbacks</em> when it starts and when it finishes. In the example below we have a component that contains an <code>openClose</code> trigger.</p><code-example path="animations/src/app/open-close.component.ts" header="src/app/open-close.component.ts" region="events1" language="typescript" linenums="false">@<a href="/api/core/Component" class="code-anchor">Component</a>({ selector: 'app-open-close', animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('openClose', [ // ... ]), ], templateUrl: 'open-close.component.html', <a href="/api/core/Component#styleUrls" class="code-anchor">styleUrls</a>: ['open-close.component.css'] }) export class OpenCloseComponent { onAnimationEvent ( event: <a href="/api/animations/AnimationEvent" class="code-anchor">AnimationEvent</a> ) { } }</code-example><p translation-result="on">在 HTML 模板中，动画事件可以通过 <code>$event</code> 传递回来，比如 <code>@trigger.start</code> 和 <code>@trigger.done</code> ，这里的 <code><a href="/api/animations/trigger" class="code-anchor">trigger</a></code> 表示所使用的触发器名字。在我们的例子中，<code>openClose</code> 触发器将会是这样的：</p><p translation-origin="off">In the HTML template, the animation event is passed back via <code>$event</code>, as <code>@trigger.start</code> and <code>@trigger.done</code>, where <code><a href="/api/animations/trigger" class="code-anchor">trigger</a></code> is the name of the trigger being used. In our example, the trigger <code>openClose</code> appears as follows.</p><code-example path="animations/src/app/open-close.component.3.html" header="src/app/open-close.component.html" region="callbacks">&#x3C;div [@openClose]="isOpen ? 'open' : 'closed'" (@openClose.start)="onAnimationEvent($event)" (@openClose.done)="onAnimationEvent($event)" class="open-close-container"> &#x3C;/div></code-example><p translation-result="on">动画回调的潜在用途之一，是用来覆盖比较慢的 API 调用，比如查阅数据库。例如，你可以建立一个 <strong>InProgress</strong> 按钮，让它拥有自己的循环动画。当后端系统操作完成时，它会播放脉动效果或其它一些视觉动作。</p><p translation-origin="off">A potential use for animation callbacks could be to cover for a slow API call, such as a database lookup. For example, you could set up the <strong>InProgress</strong> button to have its own looping animation where it pulsates or does some other visual motion while the backend system operation finishes.</p><p translation-result="on">然后，在当前动画结束时，可以调用另一个动画。比如，当 API 调用完成时，按钮会从 <code>inProgress</code> 状态编程 <code>closed</code> 状态。</p><p translation-origin="off">Then, another animation can be called when the current animation finishes. For example, the button goes from the <code>inProgress</code> state to the <code>closed</code> state when the API call is completed.</p><p translation-result="on">动画可以影响最终用户，让他<em>觉得</em>操作更快 —— 虽然并没有。因此，简单的动画是保持用户满意的一种经济有效的手段，而不必寻求提高服务器调用的速度或被迫补救那些你无法控制的情况，比如不可靠的网络连接。</p><p translation-origin="off">An animation can influence an end user to <em>perceive</em> the operation as faster, even when it isn't. Thus, a simple animation can be a cost-effective way to keep users happy, rather than seeking to improve the speed of a server call and having to compensate for circumstances beyond your control, such as an unreliable network connection.</p><p translation-result="on">回调可以作为调试工具，例如与 <code>console.warn()</code> 结合使用，以便在浏览器的开发者控制台中查看应用的进度。下列代码片段为我们原始的双态按钮（<code>open</code> 与 <code>closed</code>）范例创建了控制台输出。</p><p translation-origin="off">Callbacks can serve as a debugging tool, for example in conjunction with <code>console.warn()</code> to view the application's progress in a browser's Developer JavaScript Console. The following code snippet creates console log output for our original example, a button with the two states of <code>open</code> and <code>closed</code>.</p><code-example path="animations/src/app/open-close.component.ts" header="src/app/open-close.component.ts" region="events" language="typescript" linenums="false">export class OpenCloseComponent { onAnimationEvent ( event: <a href="/api/animations/AnimationEvent" class="code-anchor">AnimationEvent</a> ) { // openClose is <a href="/api/animations/trigger" class="code-anchor">trigger</a> name in this example console.warn(`Animation <a href="/api/animations/AnimationMetadataType#Trigger" class="code-anchor">Trigger</a>: ${event.triggerName}`); // <a href="/api/animations/AnimationEvent#phaseName" class="code-anchor">phaseName</a> is start or <a href="/api/core/ApplicationInitStatus#done" class="code-anchor">done</a> console.warn(`Phase: ${event.phaseName}`); // in our example, totalTime is 1000 or 1 second console.warn(`Total time: ${event.totalTime}`); // in our example, <a href="/api/animations/AnimationEvent#fromState" class="code-anchor">fromState</a> is either open or closed console.warn(`From: ${event.fromState}`); // in our example, <a href="/api/animations/AnimationEvent#toState" class="code-anchor">toState</a> either open or closed console.warn(`To: ${event.toState}`); // the <a href="/api/core/SecurityContext#HTML" class="code-anchor">HTML</a> element itself, the button in this case console.warn(`Element: ${event.element}`); } }</code-example><a id="keyframes"></a><h2 id="keyframes" translation-result="on">关键帧动画<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#keyframes"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="keyframes">Keyframes<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#keyframes"><i class="material-icons">link</i></a></h2><p translation-result="on">在前面的小节中，我们看到了一个简单的双态转场。现在，我们要使用<em>关键帧动画</em>创建一个具有多个顺序执行步骤的动画。</p><p translation-origin="off">In the previous section, we saw a simple two-state transition. Now we'll create an animation with multiple steps run in sequence using <em>keyframes</em>.</p><p translation-result="on">Angular 的 <code>keyframe()</code> 函数类似于 CSS 中的关键帧。关键帧允许在单个时间段内进行多种样式更改。例如，我们的按钮可以在单个的 2 秒时间段内多次改变颜色，而不是渐隐掉。</p><p translation-origin="off">Angular's <code>keyframe()</code> function is similar to keyframes in CSS. Keyframes allow several style changes within a single timing segment. For example, our button, instead of fading, could change color several times over a single 2-second timespan.</p><figure><img src="generated/images/guide/animations/keyframes-500.png" alt="keyframes" width="500" height="244"></figure><p translation-result="on">这些更改颜色的代码如下所示：</p><p translation-origin="off">The code for this color change might look like this.</p><code-example path="animations/src/app/status-slider.component.ts" header="src/app/status-slider.component.ts" region="keyframes" language="typescript" linenums="false"><a href="/api/animations/transition" class="code-anchor">transition</a>('* => active', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('2s', <a href="/api/animations/keyframes" class="code-anchor">keyframes</a>([ <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'blue' }), <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'red' }), <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'orange' }) ]))</code-example><h3 id="offset" translation-result="on">偏移<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#offset"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="offset">Offset<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#offset"><i class="material-icons">link</i></a></h3><p translation-result="on">关键帧包括一个用来定义动画中每个样式何时开始更改的<em>偏移（offset）</em>属性。偏移是个 0 到 1 之间的相对值，分别标记动画的开始和结束时间。</p><p translation-origin="off">Keyframes include an <em>offset</em> that defines the point in the animation where each style change occurs. Offsets are relative measures from zero to one, marking the beginning and end of the animation, respectively.</p><p translation-result="on">定义关键帧的偏移量是可选的。如果省略它们，就会自动分配均匀间隔的偏移。例如，三个没有预定义偏移的关键帧会分别使用 0、0.5、1 作为偏移。在上面的例子中，还可以为中间的转场指定偏移量 0.8。代码如下：</p><p translation-origin="off">Defining offsets for keyframes is optional. If you omit them, evenly spaced offsets are automatically assigned. For example, three keyframes without predefined offsets receive offsets of 0, 0.5, and 1. Specifying an offset of 0.8 for the middle transition in the above example might look like this.</p><figure><img src="generated/images/guide/animations/keyframes-offset-500.png" alt="keyframes with offset" width="500" height="247"></figure><p translation-result="on">带有指定偏移量的代码如下：</p><p translation-origin="off">The code with offsets specified would be as follows.</p><code-example path="animations/src/app/status-slider.component.ts" header="src/app/status-slider.component.ts" region="keyframesWithOffsets" language="typescript"><a href="/api/animations/transition" class="code-anchor">transition</a>('* => active', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('2s', <a href="/api/animations/keyframes" class="code-anchor">keyframes</a>([ <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'blue', <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0}), <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'red', <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0.8}), <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'orange', <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 1.0}) ])), ]), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => inactive', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('2s', <a href="/api/animations/keyframes" class="code-anchor">keyframes</a>([ <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'orange', <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0}), <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'red', <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0.2}), <a href="/api/animations/style" class="code-anchor">style</a>({ backgroundColor: 'blue', <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 1.0}) ])) ]),</code-example><p translation-result="on">你可以在单个动画中组合使用 <code>duration</code>、<code>delay</code> 和 <code><a href="/api/animations/browser/testing/MockAnimationPlayer#easing" class="code-anchor">easing</a></code> 来定义关键帧。</p><p translation-origin="off">You can combine keyframes with <code>duration</code>, <code>delay</code>, and <code><a href="/api/animations/browser/testing/MockAnimationPlayer#easing" class="code-anchor">easing</a></code> within a single animation.</p><h3 id="keyframes-with-a-pulsation" translation-result="on">带脉动效果的关键帧<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#keyframes-with-a-pulsation"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="keyframes-with-a-pulsation">Keyframes with a pulsation<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#keyframes-with-a-pulsation"><i class="material-icons">link</i></a></h3><p translation-result="on">通过在整个动画中定义特定偏移处的样式，可以使用关键帧在动画中创建脉动效果。</p><p translation-origin="off">Use keyframes to create a pulse effect in your animations by defining styles at specific offset throughout the animation.</p><p translation-result="on">下面是使用关键帧创建脉动效果的例子：</p><p translation-origin="off">Here's an example of using keyframes to create a pulse effect:</p><ul><li><p translation-result="on">原始的 <code>open</code> 和 <code>closed</code> 状态会从其原始的高度、颜色和透明度开始，在一秒钟内逐渐发生变化。</p><p translation-origin="off">The original <code>open</code> and <code>closed</code> states, with the original changes in height, color, and opacity, occurring over a timeframe of 1 second</p></li><li><p translation-result="on">插在中间的关键帧序列会导致该按钮在一秒钟内出现不规则的脉动。</p><p translation-origin="off">A keyframes sequence inserted in the middle that causes the button to appear to pulsate irregularly over the course of that same 1-second timeframe</p></li></ul><figure><img src="generated/images/guide/animations/keyframes-pulsation.png" alt="keyframes with irregular pulsation" width="600" height="312"></figure><p translation-result="on">此动画的代码片段是这样的：</p><p translation-origin="off">The code snippet for this animation might look like this.</p><code-example path="animations/src/app/open-close.component.1.ts" header="src/app/open-close.component.ts" region="trigger" language="typescript" linenums="false"><a href="/api/animations/trigger" class="code-anchor">trigger</a>('openClose', [ <a href="/api/animations/state" class="code-anchor">state</a>('open', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '200px', opacity: 1, backgroundColor: 'yellow' })), <a href="/api/animations/state" class="code-anchor">state</a>('close', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '100px', opacity: 0.5, backgroundColor: 'green' })), // ... <a href="/api/animations/transition" class="code-anchor">transition</a>('* => *', [ <a href="/api/animations/animate" class="code-anchor">animate</a>('1s', <a href="/api/animations/keyframes" class="code-anchor">keyframes</a> ( [ <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0.1, <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0.1 }), <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0.6, <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0.2 }), <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 1, <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0.5 }), <a href="/api/animations/style" class="code-anchor">style</a>({ opacity: 0.2, <a href="/api/animations/AnimationStyleMetadata#offset" class="code-anchor">offset</a>: 0.7 }) ])) ]) ])</code-example><h3 id="animatable-properties-and-units" translation-result="on">可动的属性与单位<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animatable-properties-and-units"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="animatable-properties-and-units">Animatable properties and units<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#animatable-properties-and-units"><i class="material-icons">link</i></a></h3><p translation-result="on">Angular 的动画支持是基于 Web 动画的，所以你可以动浏览器认为可动（animatable）的任意属性。包括位置、大小、变形、颜色、边框等。W3C 在 <a href="https://www.w3.org/TR/css-transitions-1/">CSS 转场</a>页也维护了一个可动属性的列表。</p><p translation-origin="off">Angular's animation support builds on top of web animations, so you can animate any property that the browser considers animatable. This includes positions, sizes, transforms, colors, borders, and more. The W3C maintains a list of animatable properties on its <a href="https://www.w3.org/TR/css-transitions-1/">CSS Transitions</a> page.</p><p translation-result="on">对于带有数值的位置属性，可以把值作为字符串（别忘了带引号）并使用适当的后缀来定义其单位：</p><p translation-origin="off">For positional properties with a numeric value, define a unit by providing the value as a string, in quotes, with the appropriate suffix:</p><ul><li><p translation-result="on">50 像素：<code>'50px'</code></p><p translation-origin="off">50 pixels: <code>'50px'</code></p></li><li><p translation-result="on">相对字体大小：<code>'3em'</code></p><p translation-origin="off">Relative font size: <code>'3em'</code></p></li><li><p translation-result="on">百分比：<code>'100%'</code></p><p translation-origin="off">Percentage: <code>'100%'</code></p></li></ul><p translation-result="on">如果在指定尺寸时未提供单位，则 Angular 将使用默认单位像素（px）。把 50 像素表示为 <code>50</code> 和 <code>'50px'</code> 是一样的。</p><p translation-origin="off">If you don't provide a unit when specifying dimension, Angular assumes a default unit of pixels, or px. Expressing 50 pixels as <code>50</code> is the same as saying <code>'50px'</code>.</p><h3 id="automatic-property-calculation-with-wildcards" translation-result="on">使用通配符自动计算属性<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#automatic-property-calculation-with-wildcards"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="automatic-property-calculation-with-wildcards">Automatic property calculation with wildcards<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#automatic-property-calculation-with-wildcards"><i class="material-icons">link</i></a></h3><p translation-result="on">有时你在运行之前并不知道某个样式的属性值。比如，元素的宽度和高度通常取决于其内容和屏幕大小。在使用 CSS 动画时，这些属性通常会具有挑战性（译注：因为 CSS 动画不支持自动确定宽高）。</p><p translation-origin="off">Sometimes you don't know the value of a dimensional style property until runtime. For example, elements often have widths and heights that depend on their content and the screen size. These properties are often challenging to animate using CSS.</p><p translation-result="on">这种情况下，你可以在 <code><a href="/api/animations/style" class="code-anchor">style</a>()</code> 中指定通配符 <code>*</code> 属性，以便在运行期间计算该属性的值，然后把它插入到动画中。</p><p translation-origin="off">In these cases, you can use a special wildcard <code>*</code> property value under <code><a href="/api/animations/style" class="code-anchor">style</a>()</code>, so that the value of that particular style property is computed at runtime and then plugged into the animation.</p><p translation-result="on">在这个例子中，我们有一个名叫 <code>shrinkOut</code> 的触发器，它会在 HTML 元素离开页面时使用。该动画会使用它离开之前的任意高度，并从该高度动画到 0。</p><p translation-origin="off">In this example, we have a trigger called <code>shrinkOut</code>, used when an HTML element leaves the page. The animation takes whatever height the element has before it leaves, and animates from that height to zero.</p><code-example path="animations/src/app/hero-list-auto.component.ts" header="src/app/hero-list-auto.component.ts" region="auto-calc" language="typescript" linenums="false">animations: [ <a href="/api/animations/trigger" class="code-anchor">trigger</a>('shrinkOut', [ <a href="/api/animations/state" class="code-anchor">state</a>('in', <a href="/api/animations/style" class="code-anchor">style</a>({ height: '*' })), <a href="/api/animations/transition" class="code-anchor">transition</a>('* => void', [ <a href="/api/animations/style" class="code-anchor">style</a>({ height: '*' }), <a href="/api/animations/animate" class="code-anchor">animate</a>(250, <a href="/api/animations/style" class="code-anchor">style</a>({ height: 0 })) ]) ]) ]</code-example><h3 id="keyframes-summary" translation-result="on">关键帧动画总结<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#keyframes-summary"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="keyframes-summary">Keyframes summary<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#keyframes-summary"><i class="material-icons">link</i></a></h3><p translation-result="on">Angular 中的 <code><a href="/api/animations/keyframes" class="code-anchor">keyframes</a>()</code> 函数允许你在单个转场中指定多个临时样式，并使用可选的偏移量来定义动画中每次样式变化的发生时机。</p><p translation-origin="off">The <code><a href="/api/animations/keyframes" class="code-anchor">keyframes</a>()</code> function in Angular allows you to specify multiple interim styles within a single transition, with an optional offset to define the point in the animation where each style change occurs.</p><h2 id="more-on-angular-animations" translation-result="on">Angular 动画的更多知识<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#more-on-angular-animations"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="more-on-angular-animations">More on Angular animations<a title="Link to this heading" class="header-link" aria-hidden="true" href="/guide/transition-and-triggers#more-on-angular-animations"><i class="material-icons">link</i></a></h2><p translation-result="on">你可能还对下列内容感兴趣：</p><p translation-origin="off">You may also be interested in the following:</p><ul><li><p translation-result="on"><a href="/guide/animations">Angular 动画简介</a></p><p translation-origin="off"><a href="/guide/animations">Introduction to Angular animations</a></p></li><li><p translation-result="on"><a href="/guide/complex-animation-sequences">复杂动画序列</a></p><p translation-origin="off"><a href="/guide/complex-animation-sequences">Complex animation sequences</a></p></li><li><p translation-result="on"><a href="/guide/reusable-animations">可复用动画</a></p><p translation-origin="off"><a href="/guide/reusable-animations">Reusable animations</a></p></li><li><p translation-result="on"><a href="/guide/route-animations">路由转场动画</a></p><p translation-origin="off"><a href="/guide/route-animations">Route transition animations</a></p></li></ul></div></section></mat-sidenav-content></mat-sidenav-container><footer class="no-print"><aio-footer><div class="grid-fluid"><div class="footer-block ng-star-inserted"><h3>资源</h3><ul><li class="ng-star-inserted"><a class="link" href="about" title="Angular 贡献者。">关于</a></li><li class="ng-star-inserted"><a class="link" href="resources" title="网络上的 Angular 工具、培训、博客等">资源列表</a></li><li class="ng-star-inserted"><a class="link" href="presskit" title="我们的联系方式、LOGO 和品牌">宣传资料</a></li><li class="ng-star-inserted"><a class="link" href="https://blog.angular.io/" title="Angular 官方博客">博客</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>帮助</h3><ul><li class="ng-star-inserted"><a class="link" href="https://stackoverflow.com/questions/tagged/angular" title="Stack Overflow: 这里的社区会回答你关于 Angular 的技术问题">Stack Overflow</a></li><li class="ng-star-inserted"><a class="link" href="https://gitter.im/angular/angular" title="和老鸟聊 Angular">Gitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular/issues" title="在 github 上报告问题和建议。">报告问题</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/code-of-conduct/blob/master/CODE_OF_CONDUCT.md" title="让我们彼此尊重">行为规范</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>社区</h3><ul><li class="ng-star-inserted"><a class="link" href="events" title="Post issues and suggestions on github.">活动</a></li><li class="ng-star-inserted"><a class="link" href="http://www.meetup.com/topics/angularjs/" title="参加聚会，向别的开发人员学习">聚会</a></li><li class="ng-star-inserted"><a class="link" href="https://twitter.com/angular" title="Twitter">Twitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular" title="GitHub">GitHub</a></li><li class="ng-star-inserted"><a class="link" href="contribute" title="向 Angular 做贡献">做贡献</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>多语言</h3><ul><li class="ng-star-inserted"><a class="link" href="https://angular.io/" title="English Version.">English Version</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.jp/" title="日本語版">日本語版</a></li></ul></div></div><p>Powered by Google ©2010-2018. 代码授权方式：<a href="license" title="License text">MIT-style License</a>. 文档授权方式：<a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p><p>当前版本：7.0.1-local+sha.3ff4bedd0c.</p></aio-footer></footer></aio-shell><noscript><div class="background-sky hero"></div><section id="intro" style="text-shadow:1px 1px #1976d2"><div class="hero-logo"><img src="assets/images/logos/angular/angular.svg" width="250" height="250"></div><div class="homepage-container"><div class="hero-headline">一套框架，多种平台<br>移动 &amp; 桌面</div></div></section><h2 style="color:red;margin-top:40px;position:relative;text-align:center;text-shadow:1px 1px #fafafa"><b><i>该网站需要浏览器支持 JavaScript</i></b></h2></noscript><script src="runtime.77c03f4a0637c9ae63bb.js"></script><script src="polyfills.484bababb6e0f3a2b3fc.js"></script><script src="main.6bc769c43c358bc5a651.js"></script></body></html>