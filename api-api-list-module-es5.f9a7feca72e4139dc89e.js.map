{"version":3,"sources":["webpack:///src/app/custom-elements/api/api.service.ts","webpack:///src/app/custom-elements/api/api.service.ts.pre-build-optimizer.js","webpack:///src/app/custom-elements/api/api-list.component.ts.pre-build-optimizer.js","webpack:///src/app/custom-elements/api/api-list.component.html","webpack:///src/app/custom-elements/api/api-list.component.ts","webpack:///src/app/custom-elements/api/api-list.module.ts","webpack:///src/app/custom-elements/api/api-list.module.ts.pre-build-optimizer.js"],"names":["ApiService","api_service_ApiService","http","logger","this","apiBase","document_service","b","apiListJsonDefault","firstTime","onDestroy","Subject","sectionsSubject","ReplaySubject","_sections","pipe","Object","takeUntil","a","_createClass","key","value","next","src","url","get","tap","log","subscribe","sections","err","error","_this2","fetchSections","length","forEach","section","deprecated","items","every","item","stability","ɵfac","t","core","Zb","fesm2015_http","logger_service","ɵprov","Lb","token","factory","providedIn","_c0","ApiListComponent_div_9_h2_1_Template","rf","ctx","Vb","Gc","Tb","section_r55","hc","$implicit","Ab","Fb","mc","path","xc","Hc","title","ApiListComponent_div_9_ul_2_ng_container_1_Template","Sb","Qb","Rb","item_r60","Eb","docType","Ic","ApiListComponent_div_9_ul_2_Template","Ec","ApiListComponent_div_9_Template","ApiListComponent","SearchCriteria","_classCallCheck","query","status","type","api_list_component_ApiListComponent","apiService","locationService","showStatusMenu","showTypeMenu","criteriaSubject","searchCriteria","types","statuses","_this3","filteredSections","combineLatest","map","results","criteria","assign","filterSection","initializeSearchCriteria","setSearchCriteria","toLowerCase","trim","toggleStatusMenu","toggleTypeMenu","_ref","sectionNameMatches","name","indexOf","filter","securityRisk","_this$locationService","search","q","queryEl","nativeElement","find","x","_this$searchCriteria","setSearch","setLocationSearch","Pb","location_service","ɵcmp","Jb","selectors","viewQuery","_t","Ac","rc","ec","first","decls","vars","consts","template","dc","$event","setType","option","setStatus","setQuery","target","ic","jc","directives","select_component","common","j","k","pipes","encapsulation","__webpack_require__","d","__webpack_exports__","api_list_module_ApiListModule","ApiListModule","customElementComponent","ɵmod","Nb","ɵinj","Mb","providers","imports","c","shared_module"],"mappings":"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","file":"api-api-list-module-es5.f9a7feca72e4139dc89e.js","sourcesContent":["import { Injectable, OnDestroy } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\n\nimport { Logger } from 'app/shared/logger.service';\nimport { DOC_CONTENT_URL_PREFIX } from 'app/documents/document.service';\n\nexport interface ApiItem {\n  name: string;\n  title: string;\n  path: string;\n  docType: string;\n  stability: string;\n  securityRisk: boolean;\n}\n\nexport interface ApiSection {\n  path: string;\n  name: string;\n  title: string;\n  deprecated: boolean;\n  items: ApiItem[]|null;\n}\n\n@Injectable()\nexport class ApiService implements OnDestroy {\n\n  private apiBase = DOC_CONTENT_URL_PREFIX + 'api/';\n  private apiListJsonDefault = 'api-list.json';\n  private firstTime = true;\n  private onDestroy = new Subject();\n  private sectionsSubject = new ReplaySubject<ApiSection[]>(1);\n  private _sections = this.sectionsSubject.pipe(takeUntil(this.onDestroy));\n\n  /**\n   * Return a cached observable of API sections from a JSON file.\n   * API sections is an array of Angular top modules and metadata about their API documents (items).\n   */\n  get sections() {\n\n    if (this.firstTime) {\n      this.firstTime = false;\n      this.fetchSections(); // TODO: get URL for fetchSections by configuration?\n\n      // makes sectionsSubject hot; subscribe ensures stays alive (always refCount > 0);\n      this._sections.subscribe(sections => this.logger.log(`ApiService got API ${sections.length} section(s)`));\n    }\n\n    return this._sections.pipe(tap(sections => {\n      sections.forEach(section => {\n        section.deprecated = !!section.items &&\n            section.items.every(item => item.stability === 'deprecated');\n      });\n    }));\n  }\n\n  constructor(private http: HttpClient, private logger: Logger) { }\n\n  ngOnDestroy() {\n    this.onDestroy.next();\n  }\n\n /**\n  * Fetch API sections from a JSON file.\n  * API sections is an array of Angular top modules and metadata about their API documents (items).\n  * Updates `sections` observable\n  *\n  * @param {string} [src] - Name of the api list JSON file\n  */\n  fetchSections(src?: string) {\n    // TODO: get URL by configuration?\n    const url = this.apiBase + (src || this.apiListJsonDefault);\n    this.http.get<ApiSection[]>(url)\n      .pipe(\n        takeUntil(this.onDestroy),\n        tap(() => this.logger.log(`Got API sections from ${url}`)),\n      )\n      .subscribe(\n        sections => this.sectionsSubject.next(sections),\n        (err: HttpErrorResponse) => {\n          // TODO: handle error\n          this.logger.error(err);\n          throw err; // rethrow for now.\n        }\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { DOC_CONTENT_URL_PREFIX } from 'app/documents/document.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"app/shared/logger.service\";\nexport class ApiService {\n    constructor(http, logger) {\n        this.http = http;\n        this.logger = logger;\n        this.apiBase = DOC_CONTENT_URL_PREFIX + 'api/';\n        this.apiListJsonDefault = 'api-list.json';\n        this.firstTime = true;\n        this.onDestroy = new Subject();\n        this.sectionsSubject = new ReplaySubject(1);\n        this._sections = this.sectionsSubject.pipe(takeUntil(this.onDestroy));\n    }\n    /**\n     * Return a cached observable of API sections from a JSON file.\n     * API sections is an array of Angular top modules and metadata about their API documents (items).\n     */\n    get sections() {\n        if (this.firstTime) {\n            this.firstTime = false;\n            this.fetchSections(); // TODO: get URL for fetchSections by configuration?\n            // makes sectionsSubject hot; subscribe ensures stays alive (always refCount > 0);\n            this._sections.subscribe(sections => this.logger.log(`ApiService got API ${sections.length} section(s)`));\n        }\n        return this._sections.pipe(tap(sections => {\n            sections.forEach(section => {\n                section.deprecated = !!section.items &&\n                    section.items.every(item => item.stability === 'deprecated');\n            });\n        }));\n    }\n    ngOnDestroy() {\n        this.onDestroy.next();\n    }\n    /**\n     * Fetch API sections from a JSON file.\n     * API sections is an array of Angular top modules and metadata about their API documents (items).\n     * Updates `sections` observable\n     *\n     * @param {string} [src] - Name of the api list JSON file\n     */\n    fetchSections(src) {\n        // TODO: get URL by configuration?\n        const url = this.apiBase + (src || this.apiListJsonDefault);\n        this.http.get(url)\n            .pipe(takeUntil(this.onDestroy), tap(() => this.logger.log(`Got API sections from ${url}`)))\n            .subscribe(sections => this.sectionsSubject.next(sections), (err) => {\n            // TODO: handle error\n            this.logger.error(err);\n            throw err; // rethrow for now.\n        });\n    }\n}\nApiService.ɵfac = function ApiService_Factory(t) { return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Logger)); };\nApiService.ɵprov = i0.ɵɵdefineInjectable({ token: ApiService, factory: function (t) { return ApiService.ɵfac(t); }, providedIn: null });\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(ApiService, [{\n        type: Injectable\n    }], function () { return [{ type: i1.HttpClient }, { type: i2.Logger }]; }, null); })();\n","/*\n* API List & Filter Component\n*\n* A page that displays a formatted list of the public Angular API entities.\n* Clicking on a list item triggers navigation to the corresponding API entity document.\n* Can add/remove API entity links based on filter settings.\n*/\nimport { Component, ViewChild } from '@angular/core';\nimport { combineLatest, ReplaySubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./api.service\";\nimport * as i2 from \"app/shared/location.service\";\nimport * as i3 from \"../../shared/select/select.component\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"filter\"];\nfunction ApiListComponent_div_9_h2_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵelementStart(1, \"a\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const section_r55 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"deprecated-api-item\", section_r55.deprecated);\n    i0.ɵɵproperty(\"href\", section_r55.path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(section_r55.title);\n} }\nfunction ApiListComponent_div_9_ul_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 13);\n    i0.ɵɵelementStart(2, \"a\", 11);\n    i0.ɵɵelement(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const item_r60 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"deprecated-api-item\", item_r60.stability === \"deprecated\");\n    i0.ɵɵproperty(\"href\", item_r60.path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"symbol \", item_r60.docType, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r60.title, \" \");\n} }\nfunction ApiListComponent_div_9_ul_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 12);\n    i0.ɵɵtemplate(1, ApiListComponent_div_9_ul_2_ng_container_1_Template, 5, 6, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const section_r55 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r55.items);\n} }\nfunction ApiListComponent_div_9_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ApiListComponent_div_9_h2_1_Template, 3, 3, \"h2\", 9);\n    i0.ɵɵtemplate(2, ApiListComponent_div_9_ul_2_Template, 2, 1, \"ul\", 10);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const section_r55 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r55.items);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r55.items && section_r55.items.length);\n} }\nclass SearchCriteria {\n    constructor() {\n        this.query = '';\n        this.status = 'all';\n        this.type = 'all';\n    }\n}\nexport class ApiListComponent {\n    constructor(apiService, locationService) {\n        this.apiService = apiService;\n        this.locationService = locationService;\n        this.showStatusMenu = false;\n        this.showTypeMenu = false;\n        this.criteriaSubject = new ReplaySubject(1);\n        this.searchCriteria = new SearchCriteria();\n        // API types\n        this.types = [\n            { value: 'all', title: '全部' },\n            { value: 'class', title: '类' },\n            { value: 'const', title: '常量' },\n            { value: 'decorator', title: '装饰器' },\n            { value: 'directive', title: '指令' },\n            { value: 'enum', title: '枚举' },\n            { value: 'function', title: '函数' },\n            { value: 'interface', title: '接口' },\n            { value: 'pipe', title: '管道' },\n            { value: 'ngmodule', title: 'NgModule' },\n            { value: 'type-alias', title: '类型别名' },\n            { value: 'package', title: '包' }\n        ];\n        this.statuses = [\n            { value: 'all', title: '全部' },\n            { value: 'deprecated', title: '弃用' },\n            { value: 'security-risk', title: '安全风险' }\n        ];\n    }\n    ngOnInit() {\n        this.filteredSections =\n            combineLatest([\n                this.apiService.sections,\n                this.criteriaSubject,\n            ]).pipe(map(results => ({ sections: results[0], criteria: results[1] })), map(results => (results.sections\n                .map(section => (Object.assign(Object.assign({}, section), { items: this.filterSection(section, results.criteria) }))))));\n        this.initializeSearchCriteria();\n    }\n    // TODO: may need to debounce as the original did\n    // although there shouldn't be any perf consequences if we don't\n    setQuery(query) {\n        this.setSearchCriteria({ query: (query || '').toLowerCase().trim() });\n    }\n    setStatus(status) {\n        this.toggleStatusMenu();\n        this.status = status;\n        this.setSearchCriteria({ status: status.value });\n    }\n    setType(type) {\n        this.toggleTypeMenu();\n        this.type = type;\n        this.setSearchCriteria({ type: type.value });\n    }\n    toggleStatusMenu() {\n        this.showStatusMenu = !this.showStatusMenu;\n    }\n    toggleTypeMenu() {\n        this.showTypeMenu = !this.showTypeMenu;\n    }\n    //////// Private //////////\n    filterSection(section, { query, status, type }) {\n        const sectionNameMatches = !query || section.name.indexOf(query) !== -1;\n        const matchesQuery = (item) => sectionNameMatches || item.name.indexOf(query) !== -1;\n        const matchesStatus = (item) => status === 'all' || status === item.stability || (status === 'security-risk' && item.securityRisk);\n        const matchesType = (item) => type === 'all' || type === item.docType;\n        const items = section.items.filter(item => matchesType(item) && matchesStatus(item) && matchesQuery(item));\n        // If there are no items we still return an empty array if the section name matches and the type is 'package'\n        return items.length ? items : (sectionNameMatches && type === 'package') ? [] : null;\n    }\n    // Get initial search criteria from URL search params\n    initializeSearchCriteria() {\n        const { query, status, type } = this.locationService.search();\n        const q = (query || '').toLowerCase();\n        // Hack: can't bind to query because input cursor always forced to end-of-line.\n        this.queryEl.nativeElement.value = q;\n        this.status = this.statuses.find(x => x.value === status) || this.statuses[0];\n        this.type = this.types.find(x => x.value === type) || this.types[0];\n        this.searchCriteria = {\n            query: q,\n            status: this.status.value,\n            type: this.type.value\n        };\n        this.criteriaSubject.next(this.searchCriteria);\n    }\n    setLocationSearch() {\n        const { query, status, type } = this.searchCriteria;\n        const params = {\n            query: query ? query : undefined,\n            status: status !== 'all' ? status : undefined,\n            type: type !== 'all' ? type : undefined\n        };\n        this.locationService.setSearch('API 搜索', params);\n    }\n    setSearchCriteria(criteria) {\n        this.criteriaSubject.next(Object.assign(this.searchCriteria, criteria));\n        this.setLocationSearch();\n    }\n}\nApiListComponent.ɵfac = function ApiListComponent_Factory(t) { return new (t || ApiListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.LocationService)); };\nApiListComponent.ɵcmp = i0.ɵɵdefineComponent({ type: ApiListComponent, selectors: [[\"aio-api-list\"]], viewQuery: function ApiListComponent_Query(rf, ctx) { if (rf & 1) {\n        i0.ɵɵstaticViewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.queryEl = _t.first);\n    } }, decls: 11, vars: 9, consts: [[1, \"l-flex-wrap\", \"api-filter\"], [\"label\", \"\\u7C7B\\u578B\\uFF1A\", 3, \"options\", \"selected\", \"showSymbol\", \"change\"], [\"label\", \"\\u72B6\\u6001\\uFF1A\", 3, \"options\", \"selected\", \"disabled\", \"change\"], [1, \"form-search\"], [\"placeholder\", \"\\u8FC7\\u6EE4\", \"aria-label\", \"Filter Search\", 3, \"input\"], [\"filter\", \"\"], [1, \"material-icons\"], [1, \"api-list-container\", \"l-content-small\", \"docs-content\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"api-list\", 4, \"ngIf\"], [3, \"href\"], [1, \"api-list\"], [1, \"api-item\"]], template: function ApiListComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"aio-select\", 1);\n        i0.ɵɵlistener(\"change\", function ApiListComponent_Template_aio_select_change_1_listener($event) { return ctx.setType($event.option); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"aio-select\", 2);\n        i0.ɵɵlistener(\"change\", function ApiListComponent_Template_aio_select_change_2_listener($event) { return ctx.setStatus($event.option); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"input\", 4, 5);\n        i0.ɵɵlistener(\"input\", function ApiListComponent_Template_input_input_4_listener($event) { return ctx.setQuery($event.target.value); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"i\", 6);\n        i0.ɵɵtext(7, \"search\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"article\", 7);\n        i0.ɵɵtemplate(9, ApiListComponent_div_9_Template, 3, 2, \"div\", 8);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"options\", ctx.types)(\"selected\", ctx.type)(\"showSymbol\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"options\", ctx.statuses)(\"selected\", ctx.status)(\"disabled\", ctx.type.value === \"package\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 7, ctx.filteredSections));\n    } }, directives: [i3.SelectComponent, i4.NgForOf, i4.NgIf], pipes: [i4.AsyncPipe], encapsulation: 2 });\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(ApiListComponent, [{\n        type: Component,\n        args: [{\n                selector: 'aio-api-list',\n                templateUrl: './api-list.component.html',\n            }]\n    }], function () { return [{ type: i1.ApiService }, { type: i2.LocationService }]; }, { queryEl: [{\n            type: ViewChild,\n            args: ['filter', { static: true }]\n        }] }); })();\n","<div class=\"l-flex-wrap api-filter\">\n\n  <aio-select (change)=\"setType($event.option)\"\n              [options]=\"types\"\n              [selected]=\"type\"\n              [showSymbol]=\"true\"\n              label=\"类型：\">\n  </aio-select>\n\n  <aio-select (change)=\"setStatus($event.option)\"\n              [options]=\"statuses\"\n              [selected]=\"status\"\n              [disabled]=\"type.value === 'package'\"\n              label=\"状态：\">\n  </aio-select>\n\n  <div class=\"form-search\">\n    <input #filter placeholder=\"过滤\" (input)=\"setQuery($event.target.value)\" aria-label=\"Filter Search\">\n    <i class=\"material-icons\">search</i>\n  </div>\n</div>\n\n<article class=\"api-list-container l-content-small docs-content\">\n  <div *ngFor=\"let section of filteredSections | async\" >\n    <h2 *ngIf=\"section.items\"><a [href]=\"section.path\" [class.deprecated-api-item]=\"section.deprecated\">{{section.title}}</a></h2>\n    <ul class=\"api-list\" *ngIf=\"section.items && section.items.length\">\n      <ng-container *ngFor=\"let item of section.items\">\n        <li class=\"api-item\">\n          <a [href]=\"item.path\" [class.deprecated-api-item]=\"item.stability === 'deprecated'\">\n            <span class=\"symbol {{item.docType}}\"></span>\n            {{item.title}}\n          </a>\n        </li>\n      </ng-container>\n    </ul>\n  </div>\n</article>\n","/*\n* API List & Filter Component\n*\n* A page that displays a formatted list of the public Angular API entities.\n* Clicking on a list item triggers navigation to the corresponding API entity document.\n* Can add/remove API entity links based on filter settings.\n*/\n\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n\nimport { combineLatest, Observable, ReplaySubject } from 'rxjs';\n\nimport { LocationService } from 'app/shared/location.service';\nimport { ApiItem, ApiSection, ApiService } from './api.service';\n\nimport { Option } from 'app/shared/select/select.component';\nimport { map } from 'rxjs/operators';\n\nclass SearchCriteria {\n  query ? = '';\n  status ? = 'all';\n  type ? = 'all';\n}\n\n@Component({\n  selector: 'aio-api-list',\n  templateUrl: './api-list.component.html',\n})\nexport class ApiListComponent implements OnInit {\n\n  filteredSections: Observable<ApiSection[]>;\n\n  showStatusMenu = false;\n  showTypeMenu = false;\n\n  private criteriaSubject = new ReplaySubject<SearchCriteria>(1);\n  private searchCriteria = new SearchCriteria();\n\n  status: Option;\n  type: Option;\n\n  // API types\n  types: Option[] = [\n    { value: 'all', title: '全部' },\n    { value: 'class', title: '类' },\n    { value: 'const', title: '常量'},\n    { value: 'decorator', title: '装饰器' },\n    { value: 'directive', title: '指令' },\n    { value: 'enum', title: '枚举' },\n    { value: 'function', title: '函数' },\n    { value: 'interface', title: '接口' },\n    { value: 'pipe', title: '管道'},\n    { value: 'ngmodule', title: 'NgModule'},\n    { value: 'type-alias', title: '类型别名' },\n    { value: 'package', title: '包'}\n  ];\n\n  statuses: Option[] = [\n    { value: 'all', title: '全部' },\n    { value: 'deprecated', title: '弃用' },\n    { value: 'security-risk', title: '安全风险' }\n  ];\n\n  @ViewChild('filter', { static: true }) queryEl: ElementRef;\n\n  constructor(\n    private apiService: ApiService,\n    private locationService: LocationService) { }\n\n  ngOnInit() {\n    this.filteredSections =\n        combineLatest([\n          this.apiService.sections,\n          this.criteriaSubject,\n        ]).pipe(\n          map( results => ({ sections: results[0], criteria: results[1]})),\n          map( results => (\n               results.sections\n                  .map(section => ({ ...section, items: this.filterSection(section, results.criteria) }))\n          ))\n        );\n\n    this.initializeSearchCriteria();\n  }\n\n  // TODO: may need to debounce as the original did\n  // although there shouldn't be any perf consequences if we don't\n  setQuery(query: string) {\n    this.setSearchCriteria({query: (query || '').toLowerCase().trim() });\n  }\n\n  setStatus(status: Option) {\n    this.toggleStatusMenu();\n    this.status = status;\n    this.setSearchCriteria({status: status.value});\n  }\n\n  setType(type: Option) {\n    this.toggleTypeMenu();\n    this.type = type;\n    this.setSearchCriteria({type: type.value});\n  }\n\n  toggleStatusMenu() {\n    this.showStatusMenu = !this.showStatusMenu;\n  }\n\n  toggleTypeMenu() {\n    this.showTypeMenu = !this.showTypeMenu;\n  }\n\n  //////// Private //////////\n\n  private filterSection(section: ApiSection, { query, status, type }: SearchCriteria) {\n    const sectionNameMatches = !query || section.name.indexOf(query) !== -1;\n\n    const matchesQuery = (item: ApiItem) =>\n      sectionNameMatches || item.name.indexOf(query!) !== -1;\n    const matchesStatus = (item: ApiItem) =>\n      status === 'all' || status === item.stability || (status === 'security-risk' && item.securityRisk);\n    const matchesType = (item: ApiItem) =>\n      type === 'all' || type === item.docType;\n\n    const items = section.items!.filter(item =>\n      matchesType(item) && matchesStatus(item) && matchesQuery(item));\n\n    // If there are no items we still return an empty array if the section name matches and the type is 'package'\n    return items.length ? items : (sectionNameMatches && type === 'package') ? [] : null;\n  }\n\n  // Get initial search criteria from URL search params\n  private initializeSearchCriteria() {\n    const {query, status, type} = this.locationService.search();\n\n    const q = (query || '').toLowerCase();\n    // Hack: can't bind to query because input cursor always forced to end-of-line.\n    this.queryEl.nativeElement.value = q;\n\n    this.status = this.statuses.find(x => x.value === status) || this.statuses[0];\n    this.type = this.types.find(x => x.value === type) || this.types[0];\n\n    this.searchCriteria = {\n      query: q,\n      status: this.status.value,\n      type: this.type.value\n    };\n\n    this.criteriaSubject.next(this.searchCriteria);\n  }\n\n  private setLocationSearch() {\n    const {query, status, type} = this.searchCriteria;\n    const params = {\n      query:  query ? query : undefined,\n      status: status !== 'all' ? status : undefined,\n      type:   type   !== 'all' ? type   : undefined\n    };\n\n    this.locationService.setSearch('API 搜索', params);\n  }\n\n  private setSearchCriteria(criteria: SearchCriteria) {\n    this.criteriaSubject.next(Object.assign(this.searchCriteria, criteria));\n    this.setLocationSearch();\n  }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { SharedModule } from '../../shared/shared.module';\nimport { ApiListComponent } from './api-list.component';\nimport { ApiService } from './api.service';\nimport { WithCustomElementComponent } from '../element-registry';\n\n@NgModule({\n  imports: [ CommonModule, SharedModule, HttpClientModule ],\n  declarations: [ ApiListComponent ],\n  entryComponents: [ ApiListComponent ],\n  providers: [ ApiService ]\n})\nexport class ApiListModule implements WithCustomElementComponent {\n  customElementComponent: Type<any> = ApiListComponent;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { SharedModule } from '../../shared/shared.module';\nimport { ApiListComponent } from './api-list.component';\nimport { ApiService } from './api.service';\nimport * as i0 from \"@angular/core\";\nexport class ApiListModule {\n    constructor() {\n        this.customElementComponent = ApiListComponent;\n    }\n}\nApiListModule.ɵmod = i0.ɵɵdefineNgModule({ type: ApiListModule });\nApiListModule.ɵinj = i0.ɵɵdefineInjector({ factory: function ApiListModule_Factory(t) { return new (t || ApiListModule)(); }, providers: [ApiService], imports: [[CommonModule, SharedModule, HttpClientModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(ApiListModule, { declarations: [ApiListComponent], imports: [CommonModule, SharedModule, HttpClientModule] }); })();\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(ApiListModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule, SharedModule, HttpClientModule],\n                declarations: [ApiListComponent],\n                entryComponents: [ApiListComponent],\n                providers: [ApiService]\n            }]\n    }], null, null); })();\n"]}